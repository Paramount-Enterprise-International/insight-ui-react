{"version":3,"sources":["../src/components/icon/icon.constants.ts","../src/components/icon/icon.tsx","../src/components/loading/loading.tsx","../src/components/button/button.tsx","../src/components/card/card.tsx","../src/components/code-viewer/code-viewer.tsx","../src/components/input/input.tsx","../src/components/select/select.tsx","../src/components/datepicker/datepicker.tsx","../src/components/textarea/textarea.tsx","../src/components/dialog/dialog.tsx","../src/components/grid/paginator.tsx","../src/components/shared/form.errors.ts","../src/components/grid/grid.tsx","../src/components/host/host-api.context.tsx","../src/components/host/host-ui.context.tsx","../src/components/host/host.tsx","../src/components/host/router.tsx","../src/components/section/section.tsx","../src/components/toggle/toggle.tsx"],"names":["jsx","jsxs","Fragment","useMemo","useEffect","n","useState","useRef","useLayoutEffect","useCallback","React","IInput","Subject","_a","debounceTime","panelPositionClass","resolveErrorMessage","createContext","useContext","selfMatches","Children","c","children","next","escapeHtml","memo","Highlighted","useNavigate","Outlet","IHMenu","useLocation","Navigate","lazy","Route","Suspense","Routes","useId"],"mappings":"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","file":"index.cjs","sourcesContent":["// icon.constants.ts\nexport const I_ICON_NAMES = {\n  add: 'fa-solid fa-plus',\n  'angle-down': 'fa-solid fa-angle-down',\n  'angle-up': 'fa-solid fa-angle-up',\n  'arrow-down': 'fa-solid fa-arrow-down',\n  'arrow-up': 'fa-solid fa-arrow-up',\n  back: 'fa-solid fa-chevron-left',\n  bars: 'fa-solid fa-bars',\n  cancel: 'fa-solid fa-xmark',\n  calendar: 'fa-solid fa-calendar-days',\n\n  check: 'fa-solid fa-check',\n  'check-circle': 'fa-solid fa-circle-check',\n  code: 'fa-solid fa-code',\n  delete: 'fa-solid fa-trash',\n  edit: 'fa-solid fa-pen',\n  ellipsis: 'fa-solid fa-ellipsis',\n\n  exclamation: 'fa-solid fa-circle-exclamation',\n  'file-excel': 'fa-solid fa-file-excel',\n  'file-pdf': 'fa-solid fa-file-pdf',\n  'folder-open': 'fa-solid fa-folder-open',\n  hashtag: 'fa-solid fa-hashtag',\n  info: 'fa-solid fa-circle-info',\n\n  'layer-group': 'fa-solid fa-layer-group',\n  link: 'fa-solid fa-arrow-up-right-from-square',\n  maximize: 'fa-solid fa-window-maximize',\n  'map-marker': 'fa-solid fa-location-dot',\n  next: 'fa-solid fa-chevron-right',\n  prev: 'fa-solid fa-chevron-left',\n  up: 'fa-solid fa-angle-up',\n  down: 'fa-solid fa-angle-down',\n  save: 'fa-solid fa-floppy-disk',\n  signature: 'fa-solid fa-file-signature',\n  'sort-asc': 'fa-solid fa-arrow-down-a-z',\n  'sort-dsc': 'fa-solid fa-arrow-down-z-a',\n  sync: 'fa-solid fa-arrows-rotate',\n\n  tags: 'fa-solid fa-tags',\n  user: 'fa-solid fa-user',\n  users: 'fa-solid fa-users',\n  unlock: 'fa-solid fa-unlock',\n  upload: 'fa-solid fa-cloud-arrow-up',\n\n  view: 'fa-solid fa-eye',\n  x: 'fa-solid fa-xmark',\n  'x-circle': 'fa-solid fa-circle-xmark',\n} as const;\n\nexport const I_ICON_SIZES = {\n  '2xs': 'i-icon-2xs',\n  xs: 'i-icon-xs',\n  sm: 'i-icon-sm',\n  md: 'i-icon-md',\n  lg: 'i-icon-lg',\n  xl: 'i-icon-xl',\n  '2xl': 'i-icon-2xl',\n  '3xl': 'i-icon-3xl',\n  '4xl': 'i-icon-4xl',\n} as const;\n","// icon.tsx\nimport type React from 'react';\nimport { I_ICON_NAMES, I_ICON_SIZES } from './icon.constants';\n\nexport type IIconName = keyof typeof I_ICON_NAMES;\nexport type IIconSize = keyof typeof I_ICON_SIZES;\n\n/**\n *  Autocomplete for aliases (IIconName),\n *  Still allow ANY string (raw FA classes, custom classes, etc.)\n */\nexport type IIconInput = IIconName | (string & {});\n\nexport type IIconProps = Omit<React.HTMLAttributes<HTMLElement>, 'children'> & {\n  /** Icon alias (IIconName) or raw class string (e.g. \"fa-solid fa-user\") */\n  icon: IIconInput;\n\n  /** Size class key (maps to i-icon-md, etc). Defaults to 'md' (Angular parity). */\n  size?: IIconSize;\n};\n\nexport function IIcon(props: IIconProps) {\n  const { icon, size = 'md', className, ...rest } = props;\n\n  const iconSizeClass = I_ICON_SIZES[size] ?? I_ICON_SIZES.md;\n\n  // If icon is a known alias, map it. Otherwise treat it as raw class string.\n  const baseClass =\n    (I_ICON_NAMES as Record<string, string>)[icon] ?? String(icon);\n\n  const innerClass = `${baseClass} ${iconSizeClass}`.trim();\n\n  // Angular renders: <i-icon><i class=\"...\"></i></i-icon>\n  // and DOES NOT set a size attribute on <i-icon>.\n  return (\n    <i-icon className={className} {...rest}>\n      <i className={innerClass} />\n    </i-icon>\n  );\n}\n","// loading.tsx\nimport type { HTMLAttributes } from 'react';\n\nexport type ILoadingProps = Omit<HTMLAttributes<HTMLElement>, 'children'> & {\n  label?: string;\n  light?: boolean;\n};\n\nexport function ILoading(props: ILoadingProps) {\n  const { label = 'Loading..', light = false, className, ...rest } = props;\n\n  return (\n    <i-loading\n      className={className}\n      // Angular: @HostBinding('attr.light') returns boolean -> attribute exists with \"true\" when enabled\n      light={light ? 'true' : undefined}\n      {...rest}>\n      <div\n        className={[\n          'spinner-border',\n          'spinner-border-sm',\n          light ? 'light' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        role=\"status\"\n      />\n      {label ? ` ${label}` : null}\n    </i-loading>\n  );\n}\n","// button.tsx\nimport type React from 'react';\nimport { IIcon, type IIconInput } from '../icon/icon';\nimport { ILoading } from '../loading/loading';\nimport type { IUISize, IUIVariant } from '../shared/form.types';\n\nexport type IButtonType = 'button' | 'submit' | 'reset';\nexport type IButtonSize = Extract<IUISize, '2xs' | 'xs' | 'sm' | 'md' | 'lg'>;\nexport type IButtonVariant = Extract<\n  IUIVariant,\n  'primary' | 'warning' | 'danger' | 'success' | 'outline'\n>;\n\nexport type IButtonProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'children' | 'onClick'\n> & {\n  disabled?: boolean;\n  loading?: boolean;\n\n  /** Used for submit/reset behavior (host is NOT a native <button>) */\n  type?: IButtonType;\n\n  loadingText?: string;\n  variant?: IButtonVariant;\n  size?: IButtonSize;\n\n  /**  autocomplete for aliases + allow raw FA class strings */\n  icon?: IIconInput;\n\n  /** Angular naming */\n  onClick?: (event: MouseEvent) => void;\n\n  children?: React.ReactNode;\n};\n\nfunction findClosestForm(startEl: HTMLElement | null): HTMLFormElement | null {\n  let el: HTMLElement | null = startEl;\n  while (el) {\n    if (el instanceof HTMLFormElement) return el;\n    el = el.parentElement;\n  }\n  return null;\n}\n\nexport function IButton(props: IButtonProps) {\n  const {\n    disabled = false,\n    loading = false,\n    type = 'button',\n    loadingText = '',\n    variant = 'primary',\n    size = 'md',\n    icon,\n    onClick,\n    children,\n    className,\n    ...rest\n  } = props;\n\n  const isBlocked = disabled || loading;\n\n  const handleClick: React.MouseEventHandler<HTMLElement> = (event) => {\n    if (isBlocked) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      // Angular parity: stopImmediatePropagation when blocked\n      (event.nativeEvent as any)?.stopImmediatePropagation?.();\n      return;\n    }\n\n    // expose native event, like Angular\n    onClick?.(event.nativeEvent);\n\n    // manual submit/reset (because host is not <button>)\n    if (type === 'submit' || type === 'reset') {\n      const form = findClosestForm(event.target as HTMLElement | null);\n      if (!form) return;\n\n      if (type === 'submit') {\n        const requestSubmit = (\n          form as HTMLFormElement & { requestSubmit?: () => void }\n        ).requestSubmit;\n\n        if (typeof requestSubmit === 'function') requestSubmit.call(form);\n        else form.submit();\n      } else {\n        form.reset();\n      }\n    }\n  };\n\n  const handleKeyDown: React.KeyboardEventHandler<HTMLElement> = (event) => {\n    if (isBlocked) {\n      // Angular returns; React default is fine  no extra behavior needed\n      return;\n    }\n\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n\n      // Simulate click (keeps submit/reset behavior consistent)\n      const mouseEvent = new MouseEvent('click', {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n      });\n\n      (event.target as HTMLElement | null)?.dispatchEvent(mouseEvent);\n    }\n  };\n\n  return (\n    <i-button\n      {...rest}\n      role=\"button\"\n      className={className}\n      variant={variant}\n      size={size}\n      // Angular parity: do NOT reflect `type` as an attribute on the host\n      tabIndex={disabled ? -1 : 0}\n      aria-disabled={disabled ? 'true' : undefined}\n      aria-busy={loading ? 'true' : undefined}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}>\n      {loading ? (\n        <ILoading label={loadingText} light={variant !== 'outline'} />\n      ) : (\n        <>\n          {icon ? <IIcon icon={icon} size={size} /> : null}\n          {children}\n        </>\n      )}\n    </i-button>\n  );\n}\n","// card.tsx\nimport React, { useEffect, useMemo } from 'react';\n\nexport type RouterLinkInput = string | any[] | undefined;\n\nexport type ICardProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'children' | 'onClick'\n> & {\n  // External / normal anchor\n  href?: string | null;\n\n  // Angular Router (API parity)\n  routerLink?: RouterLinkInput;\n  queryParams?: Record<string, any> | null;\n  fragment?: string;\n  replaceUrl?: boolean;\n  skipLocationChange?: boolean;\n  state?: Record<string, any>;\n\n  // Anchor-related\n  target?: '_self' | '_blank' | '_parent' | '_top' | string;\n  rel?: string | null;\n\n  disabled?: boolean;\n\n  /** Standardized event name (Angular + React) */\n  onClick?: (ev: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void;\n\n  children?: React.ReactNode;\n};\n\nfunction normalizeHref(input?: string | null): string | undefined {\n  if (input === null || input === undefined) return undefined;\n  const s = String(input).trim();\n  if (!s) return undefined;\n  return s;\n}\n\nfunction routerLinkToHref(routerLink?: RouterLinkInput): string | undefined {\n  if (routerLink === undefined || routerLink === null) return undefined;\n\n  if (Array.isArray(routerLink)) {\n    const parts = routerLink\n      .flat()\n      .map((x) => String(x ?? '').trim())\n      .filter(Boolean);\n\n    if (parts.length === 0) return undefined;\n    return '/' + parts.join('/').replace(/\\/+/g, '/');\n  }\n\n  const s = String(routerLink).trim();\n  if (!s) return undefined;\n  return s.startsWith('/') ? s : `/${s}`;\n}\n\nexport function ICard(props: ICardProps) {\n  const {\n    href,\n    routerLink,\n    queryParams, // parity-only (unused)\n    fragment, // parity-only (unused)\n    replaceUrl = false, // parity-only (unused)\n    skipLocationChange = false, // parity-only (unused)\n    state, // parity-only (unused)\n    target,\n    rel,\n    disabled = false,\n    onClick,\n    children,\n    className,\n    ...rest\n  } = props;\n\n  const normalizedHref = useMemo(() => normalizeHref(href), [href]);\n  const routerHref = useMemo(() => routerLinkToHref(routerLink), [routerLink]);\n\n  // Angular behavior:\n  // - routerLink takes precedence (when enabled)\n  // - otherwise href\n  const effectiveHref = disabled ? undefined : (routerHref ?? normalizedHref);\n\n  const hasHref = !!effectiveHref;\n  const hasClick = typeof onClick === 'function';\n\n  useEffect(() => {\n    if (process.env.NODE_ENV !== 'production') {\n      const hasRouter =\n        routerLink !== undefined && routerLink !== null && routerLink !== '';\n      const hasRawHref = !!normalizeHref(href);\n\n      if (hasRawHref && hasRouter) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          '[i-card] Do not use `href` and `routerLink` together. Choose one.'\n        );\n      }\n\n      if (hasClick && (hasRawHref || hasRouter)) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          '[i-card] `onClick` should not be combined with `href` or `routerLink`.'\n        );\n      }\n\n      if (!hasRawHref && !hasRouter && !hasClick) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          '[i-card] No action provided. Add `href`, `routerLink`, or `onClick`.'\n        );\n      }\n    }\n  }, [hasClick, href, routerLink]);\n\n  // Angular relAttr:\n  // - if rel provided, use it\n  // - else if target=_blank, use \"noopener noreferrer\"\n  // - else undefined\n  const relAttr =\n    rel ??\n    ((target ?? '').toLowerCase() === '_blank'\n      ? 'noopener noreferrer'\n      : undefined);\n\n  const handleClick = (ev: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n    if (disabled) {\n      ev.preventDefault();\n      ev.stopPropagation();\n      (ev.nativeEvent as any)?.stopImmediatePropagation?.();\n      return;\n    }\n\n    // Button-like behavior (Angular: if output observed, prevent navigation and emit)\n    if (hasClick) {\n      ev.preventDefault();\n      onClick?.(ev);\n      return;\n    }\n\n    // Prevent empty anchor navigation (Angular)\n    if (!hasHref) {\n      ev.preventDefault();\n    }\n  };\n\n  return (\n    <i-card className={className} {...rest}>\n      <a\n        className=\"i-card\"\n        aria-disabled={disabled ? 'true' : undefined}\n        tabIndex={disabled ? -1 : undefined}\n        href={effectiveHref}\n        target={target ?? undefined}\n        rel={relAttr ?? undefined}\n        onClick={handleClick}>\n        {children}\n      </a>\n    </i-card>\n  );\n}\n\n/* =========================\n * Sub components\n * ========================= */\n\nexport type ICardImageProps = Omit<\n  React.ImgHTMLAttributes<HTMLImageElement>,\n  'children'\n> & {\n  src?: string;\n  alt?: string | null;\n};\n\nexport function ICardImage(props: ICardImageProps) {\n  const { src, alt, ...rest } = props;\n\n  return (\n    <i-card-image>\n      <img alt={alt ?? 'card-image'} src={src} {...rest} />\n    </i-card-image>\n  );\n}\n\nexport function ICardBody(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-card-body {...props} />;\n}\n\nexport function ICardFooter(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-card-footer {...props} />;\n}\n","import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { IButton } from '../button/button';\n\nexport type ICodeHighlighter = 'auto' | 'hljs' | 'none';\n\nexport type ICodeViewerFileLoaded = {\n  file: string;\n  language: string;\n};\n\nexport type ICodeViewerProps = React.HTMLAttributes<HTMLElement> & {\n  language?: string | null;\n  file?: string | null;\n  code?: string | null;\n\n  wrap?: boolean;\n  compact?: boolean;\n\n  /** default false */\n  lineNumbers?: boolean;\n\n  /** overlay controls */\n  overlay?: boolean;\n  showFileType?: boolean;\n  copy?: boolean;\n\n  /** if true => scroll, and if height specified => scroll forced */\n  scroll?: boolean;\n\n  /** \"wrap\" | \"auto\" | 300 | \"300\" | \"300px\" */\n  height?: any;\n\n  highlighter?: ICodeHighlighter;\n\n  onFileLoaded?: (e: ICodeViewerFileLoaded) => void;\n};\n\n// -----------------------------\n// Helpers\n// -----------------------------\n\nfunction coerceBool(v: any): boolean {\n  return v !== null && v !== undefined && `${v}` !== 'false';\n}\n\nfunction escapeHtml(s: string): string {\n  return (s ?? '')\n    .replaceAll('&', '&amp;')\n    .replaceAll('<', '&lt;')\n    .replaceAll('>', '&gt;')\n    .replaceAll('\"', '&quot;')\n    .replaceAll(\"'\", '&#39;');\n}\n\nfunction getExtFromPath(path: string): string {\n  const clean = (path || '').split('?')[0].split('#')[0];\n  const file = clean.split('/').pop() ?? '';\n  const idx = file.lastIndexOf('.');\n  return idx >= 0 ? file.slice(idx + 1).toLowerCase() : '';\n}\n\nfunction languageFromExt(ext: string): string {\n  switch ((ext || '').toLowerCase()) {\n    case 'ts':\n      return 'typescript';\n    case 'tsx':\n      return 'tsx';\n    case 'js':\n    case 'mjs':\n    case 'cjs':\n      return 'javascript';\n    case 'jsx':\n      return 'jsx';\n    case 'json':\n      return 'json';\n    case 'html':\n    case 'htm':\n      return 'html';\n    case 'css':\n      return 'css';\n    case 'scss':\n      return 'scss';\n    case 'yml':\n    case 'yaml':\n      return 'yaml';\n    case 'md':\n      return 'markdown';\n    case 'sql':\n      return 'sql';\n    case 'sh':\n    case 'bash':\n      return 'bash';\n    case 'txt':\n      return 'text';\n    default:\n      return 'text';\n  }\n}\n\nfunction parseHeight(v: any): number | null {\n  if (v === null || v === undefined) return null;\n\n  const s = String(v).trim().toLowerCase();\n  if (s === '' || s === 'wrap' || s === 'auto') return null;\n\n  if (s.endsWith('px')) {\n    const n = Number(s.slice(0, -2).trim());\n    return Number.isFinite(n) && n > 0 ? n : null;\n  }\n\n  const n = Number(s);\n  return Number.isFinite(n) && n > 0 ? n : null;\n}\n\nfunction isAbsoluteUrl(path: string): boolean {\n  return /^https?:\\/\\//i.test(path) || /^\\/\\//.test(path);\n}\n\n/** MF remote-safe: resolve relative file path against the remote bundle URL */\nfunction resolveFileUrl(file: string): string {\n  const f = (file ?? '').trim();\n  if (!f) return f;\n\n  if (isAbsoluteUrl(f) || f.startsWith('/')) return f;\n\n  const base = (import.meta as any).url as string;\n  return new URL(f.replace(/^\\.\\//, ''), base).toString();\n}\n\nfunction normalizeHljsLanguage(lang: string): string {\n  if (lang === 'html') return 'xml';\n  return lang;\n}\n\n/**\n * Line counting aligned with Angular:\n * - \"\" => 1\n * - split('\\n').length semantics\n */\nfunction countLines(text: string): number {\n  if (text === null || text === undefined) return 1;\n  const s = String(text);\n  if (!s) return 1;\n  return s.split('\\n').length;\n}\n\n// -----------------------------\n// Component\n// -----------------------------\n\nexport function ICodeViewer(props: ICodeViewerProps) {\n  const {\n    language,\n    file,\n    code,\n\n    wrap,\n    compact,\n    lineNumbers,\n\n    overlay,\n    showFileType,\n    copy,\n\n    scroll,\n    height,\n\n    highlighter = 'auto',\n\n    onFileLoaded,\n\n    children,\n    ...rest\n  } = props;\n\n  // inputs (coerced like Angular)\n  const wrapC = coerceBool(wrap);\n  const compactC = coerceBool(compact);\n  const lineNumbersC = coerceBool(lineNumbers);\n  const overlayC = overlay === undefined ? true : coerceBool(overlay);\n  const showFileTypeC =\n    showFileType === undefined ? true : coerceBool(showFileType);\n  const copyC = copy === undefined ? true : coerceBool(copy);\n  const scrollC = coerceBool(scroll);\n  const heightPx = parseHeight(height);\n\n  const scrollEffective = scrollC || heightPx !== null;\n  const showOverlay = overlayC && (showFileTypeC || copyC);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [copied, setCopied] = useState(false);\n\n  const requestSeqRef = useRef(0);\n  const highlightSeqRef = useRef(0);\n\n  const [fileLanguage, setFileLanguage] = useState<string>('text');\n  const languageOverride = (language ?? '').trim() || null;\n\n  const fileTrimmed = (file ?? '').trim();\n  const codePropString = (code ?? '').toString();\n\n  const effectiveLanguage = useMemo(() => {\n    if (languageOverride) return languageOverride;\n    if (fileTrimmed) return fileLanguage;\n    return 'text';\n  }, [languageOverride, fileLanguage, fileTrimmed]);\n\n  const fileTypeLabel = useMemo(() => {\n    const l = (effectiveLanguage || 'text').toUpperCase();\n    return l === 'TEXT' ? 'CODE' : l;\n  }, [effectiveLanguage]);\n\n  // raw code state\n  const [rawCode, setRawCode] = useState<string>(() => codePropString);\n\n  // sync raw code from prop changes (explicit code wins)\n  useEffect(() => {\n    setRawCode(codePropString);\n  }, [codePropString]);\n\n  // -----------------------------\n  // Projected content (Angular-like): read rendered textContent\n  // - only when code prop empty, file empty, and rawCode empty\n  // - useLayoutEffect to avoid \"empty then fill\" paint\n  // -----------------------------\n  const projectedRef = useRef<HTMLDivElement | null>(null);\n\n  useLayoutEffect(() => {\n    // Only project when:\n    // - no file\n    // - no explicit code\n    // - and current rawCode is empty (so we don't override)\n    if (fileTrimmed) return;\n    if (codePropString) return;\n    if (rawCode) return;\n\n    const host = projectedRef.current;\n    if (!host) return;\n\n    const text = (host.textContent ?? '').trim();\n    if (!text) return;\n\n    setRawCode(text);\n  }, [children, fileTrimmed, codePropString, rawCode]);\n\n  // highlight.js cache (shared per component instance)\n  const hljsRef = useRef<any | null>(null);\n  const hljsPromiseRef = useRef<Promise<any> | null>(null);\n\n  const shouldUseHljs = highlighter === 'hljs' || highlighter === 'auto';\n\n  const loadHljsIfNeeded = useCallback(async (): Promise<any | null> => {\n    if (hljsRef.current) return hljsRef.current;\n\n    const w = globalThis as any;\n    if (w?.hljs?.highlight && w?.hljs?.highlightAuto) {\n      hljsRef.current = w.hljs;\n      return hljsRef.current;\n    }\n\n    if (!hljsPromiseRef.current) {\n      hljsPromiseRef.current = import('highlight.js')\n        .then((m: any) => m.default ?? m)\n        .catch(() => null);\n    }\n\n    const loaded = await hljsPromiseRef.current;\n    if (loaded?.highlight && loaded?.highlightAuto) {\n      hljsRef.current = loaded;\n      return loaded;\n    }\n\n    return null;\n  }, []);\n\n  const highlightWithHljs = useCallback(\n    (text: string, lang: string): string => {\n      try {\n        const hljs = hljsRef.current;\n        if (!hljs) return escapeHtml(text);\n\n        const normalized = normalizeHljsLanguage(lang);\n\n        if (normalized && hljs.getLanguage?.(normalized)) {\n          return hljs.highlight(text, { language: normalized }).value;\n        }\n        return hljs.highlightAuto(text).value;\n      } catch {\n        return escapeHtml(text);\n      }\n    },\n    []\n  );\n\n  const renderToHtmlSync = useCallback(\n    (text: string, lang: string): string => {\n      const raw = text ?? '';\n      if (!raw) return '';\n      if (highlighter === 'none') return escapeHtml(raw);\n\n      if (shouldUseHljs && hljsRef.current) {\n        return highlightWithHljs(raw, lang);\n      }\n      return escapeHtml(raw);\n    },\n    [highlighter, shouldUseHljs, highlightWithHljs]\n  );\n\n  // load file when file changes\n  useEffect(() => {\n    const f = fileTrimmed;\n    if (!f) return;\n\n    const seq = ++requestSeqRef.current;\n\n    setLoading(true);\n    setError('');\n\n    const langFromFile = languageFromExt(getExtFromPath(f));\n    setFileLanguage(langFromFile);\n\n    (async () => {\n      try {\n        const url = resolveFileUrl(f);\n        const res = await fetch(url, { method: 'GET' });\n        if (!res.ok) throw new Error('http_error');\n        const text = await res.text();\n\n        if (seq !== requestSeqRef.current) return;\n\n        setRawCode(text ?? '');\n        setLoading(false);\n        setError('');\n\n        onFileLoaded?.({\n          file: url,\n          language: languageOverride ?? langFromFile,\n        });\n      } catch {\n        if (seq !== requestSeqRef.current) return;\n\n        setLoading(false);\n        setError(`Failed to load: ${f}`);\n      }\n    })();\n  }, [fileTrimmed, onFileLoaded, languageOverride]);\n\n  // line numbers\n  const lineNumberList = useMemo(() => {\n    if (!lineNumbersC) return [];\n    const lines = countLines(rawCode);\n    return Array.from({ length: lines }, (_, i) => i + 1);\n  }, [lineNumbersC, rawCode]);\n\n  // rendered html\n  const [renderedHtml, setRenderedHtml] = useState<string>(() =>\n    renderToHtmlSync(rawCode, effectiveLanguage)\n  );\n\n  // recompute sync whenever raw/lang/highlighter changes\n  useEffect(() => {\n    setRenderedHtml(renderToHtmlSync(rawCode, effectiveLanguage));\n  }, [rawCode, effectiveLanguage, renderToHtmlSync]);\n\n  // maybe highlight async (lazy-load hljs) + prevent race\n  useEffect(() => {\n    if (!shouldUseHljs) return;\n    if (!rawCode) return;\n\n    const seq = ++highlightSeqRef.current;\n    const textSnap = rawCode;\n    const langSnap = effectiveLanguage;\n\n    (async () => {\n      const loaded = await loadHljsIfNeeded();\n      if (!loaded) return;\n      if (seq !== highlightSeqRef.current) return;\n\n      setRenderedHtml(highlightWithHljs(textSnap, langSnap));\n    })();\n  }, [\n    rawCode,\n    effectiveLanguage,\n    shouldUseHljs,\n    loadHljsIfNeeded,\n    highlightWithHljs,\n  ]);\n\n  const copyTimerRef = useRef<number | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (copyTimerRef.current) window.clearTimeout(copyTimerRef.current);\n    };\n  }, []);\n\n  const onCopy = useCallback(async () => {\n    const text = rawCode ?? '';\n    if (!text || loading) return;\n\n    const done = () => {\n      setCopied(true);\n      if (copyTimerRef.current) window.clearTimeout(copyTimerRef.current);\n      copyTimerRef.current = window.setTimeout(() => setCopied(false), 1200);\n    };\n\n    try {\n      if (navigator?.clipboard?.writeText) {\n        await navigator.clipboard.writeText(text);\n        done();\n        return;\n      }\n    } catch {\n      // fallback below\n    }\n\n    try {\n      const ta = document.createElement('textarea');\n      ta.value = text;\n      ta.style.position = 'fixed';\n      ta.style.left = '-9999px';\n      ta.style.top = '0';\n      document.body.appendChild(ta);\n      ta.focus();\n      ta.select();\n      document.execCommand('copy');\n      document.body.removeChild(ta);\n      done();\n    } catch {\n      // ignore\n    }\n  }, [rawCode, loading]);\n\n  const needsProjectionHost = !fileTrimmed && !codePropString;\n\n  return (\n    <i-code-viewer {...rest}>\n      {/* Hidden projection host for Angular-like \"projected content\" extraction */}\n      {needsProjectionHost ? (\n        <div ref={projectedRef} aria-hidden=\"true\" style={{ display: 'none' }}>\n          {children}\n        </div>\n      ) : null}\n\n      <div\n        className={[\n          'i-code-viewer',\n          compactC ? 'compact' : null,\n          wrapC ? 'wrap' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}>\n        {loading ? <div className=\"i-code-viewer-loading\">Loading</div> : null}\n        {error ? <div className=\"i-code-viewer-error\">{error}</div> : null}\n\n        <div\n          className={[\n            'i-code-viewer-scroll',\n            showOverlay ? 'has-overlay' : null,\n            scrollEffective ? 'scroll' : null,\n            scrollEffective ? 'scroll-y' : null,\n          ]\n            .filter(Boolean)\n            .join(' ')}\n          style={heightPx !== null ? { height: `${heightPx}px` } : undefined}>\n          {showOverlay ? (\n            <div className=\"i-code-viewer-overlay hljs\">\n              {showFileTypeC ? (\n                <span className=\"i-code-viewer-filetype\">{fileTypeLabel}</span>\n              ) : null}\n\n              {copyC ? (\n                <IButton\n                  className=\"i-code-viewer-copy\"\n                  size=\"xs\"\n                  variant=\"outline\"\n                  disabled={loading}\n                  onClick={onCopy}>\n                  {copied ? 'Copied' : 'Copy'}\n                </IButton>\n              ) : null}\n            </div>\n          ) : null}\n\n          {/* content row */}\n          <div\n            className={[\n              'i-code-viewer-content',\n              'hljs',\n              scrollEffective ? 'scroll' : null,\n              scrollEffective ? 'scroll-y' : null,\n            ]\n              .filter(Boolean)\n              .join(' ')}>\n            {lineNumbersC ? (\n              <div aria-hidden=\"true\" className=\"i-code-viewer-gutter\">\n                {lineNumberList.map((n) => (\n                  <div key={n} className=\"i-code-viewer-line\">\n                    {n}\n                  </div>\n                ))}\n              </div>\n            ) : null}\n\n            <pre className=\"i-code-viewer-pre\">\n              <code\n                className=\"i-code-viewer-code hljs\"\n                data-language={effectiveLanguage}\n                dangerouslySetInnerHTML={{ __html: renderedHtml }}\n              />\n            </pre>\n          </div>\n        </div>\n      </div>\n    </i-code-viewer>\n  );\n}\n","// input.tsx\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { IButton, type IButtonVariant } from '../button';\nimport { IIcon, type IIconInput } from '../icon';\nimport { ILoading } from '../loading';\n\n/* =========================================\n * Types: addons\n * ========================================= */\n\nexport type IInputAddonKind = 'icon' | 'text' | 'button' | 'link' | 'loading';\n\nexport type IInputAddonType = {\n  type: IInputAddonKind;\n};\n\nexport type IInputAddonLoading = {\n  type: 'loading';\n  visible?: boolean;\n} & IInputAddonType;\n\nexport type IInputAddonIcon = {\n  type: 'icon';\n  icon: IIconInput;\n  visible?: boolean;\n} & IInputAddonType;\n\nexport type IInputAddonText = {\n  type: 'text';\n  text: string;\n  visible?: boolean;\n} & IInputAddonType;\n\nexport type IInputAddonButton = {\n  type: 'button';\n  icon?: IIconInput;\n  text?: string;\n  variant?: IButtonVariant;\n  onClick?: () => void;\n  visible?: boolean;\n} & IInputAddonType;\n\nexport type IInputAddonLink = {\n  type: 'link';\n  icon?: IIconInput;\n  text: string;\n  href: string;\n  target?: string;\n  visible?: boolean;\n} & IInputAddonType;\n\nexport type IInputAddons =\n  | IInputAddonIcon\n  | IInputAddonText\n  | IInputAddonButton\n  | IInputAddonLink\n  | IInputAddonLoading;\n\n/* =========================================\n * Types: mask\n * ========================================= */\n\nexport type IInputMaskType =\n  | 'date'\n  | 'integer'\n  | 'number'\n  | 'currency'\n  | 'time';\n\nexport type IInputMask = {\n  type: IInputMaskType;\n  format?: string;\n};\n\nexport type UseInputMaskOptions = {\n  enableDefault?: boolean;\n};\n\n/**\n * React counterpart for Angular IInputMaskDirective:\n * - attaches listeners to the native <input/>\n * - formats and constrains value based on the mask\n *\n * NOTE: this is intentionally best effort parity.\n */\nexport function useInputMask(\n  inputRef: React.RefObject<HTMLInputElement | null>,\n  mask: IInputMask | undefined,\n  opts: UseInputMaskOptions = {}\n) {\n  const defaultAppliedRef = useRef(false);\n  const enableDefault = opts.enableDefault ?? true;\n\n  useEffect(() => {\n    const el = inputRef.current;\n    if (!el) return;\n\n    // No mask => nothing to do\n    if (!mask) return;\n\n    const type = mask.type;\n\n    // -------------------------------------\n    // Helpers\n    // -------------------------------------\n    const emitNativeInput = () => {\n      // Bubble a native \"input\" event so any listener on <i-input> can catch it\n      el.dispatchEvent(new Event('input', { bubbles: true }));\n    };\n\n    const setValue = (v: string) => {\n      el.value = v;\n      emitNativeInput();\n    };\n\n    const digitsOnly = (s: string) => s.replace(/[^\\d]/g, '');\n\n    // -------------------------------------\n    // Default application (date/time)\n    // -------------------------------------\n    if (enableDefault && !defaultAppliedRef.current) {\n      if (type === 'date') {\n        // best effort: do NOT auto-fill unless empty\n        if (!el.value) {\n          // leave empty to avoid surprising autofill\n        }\n        defaultAppliedRef.current = true;\n      }\n      if (type === 'time') {\n        if (!el.value) {\n          // leave empty\n        }\n        defaultAppliedRef.current = true;\n      }\n    }\n\n    // -------------------------------------\n    // Input constraint (best effort)\n    // -------------------------------------\n    const onBeforeInput = (e: InputEvent) => {\n      // prevent non-digit chars for integer/number/currency/time/date (we sanitize anyway)\n      // keep it permissive and sanitize on input\n      void e;\n    };\n\n    const onInput = () => {\n      const raw = el.value ?? '';\n\n      if (type === 'integer') {\n        const v = digitsOnly(raw);\n        if (v !== raw) setValue(v);\n        return;\n      }\n\n      if (type === 'number' || type === 'currency') {\n        // allow digits and one dot, sanitize others\n        const cleaned = raw\n          .replace(/[^\\d.]/g, '')\n          .replace(/^(\\d*\\.?\\d*).*$/, '$1'); // keep first dot only\n        if (cleaned !== raw) setValue(cleaned);\n        return;\n      }\n\n      if (type === 'date') {\n        // minimal: digits + separators, no heavy formatting here\n        const cleaned = raw.replace(/[^\\d/-]/g, '');\n        if (cleaned !== raw) setValue(cleaned);\n        return;\n      }\n\n      if (type === 'time') {\n        const cleaned = raw.replace(/[^\\d:]/g, '');\n        if (cleaned !== raw) setValue(cleaned);\n        return;\n      }\n    };\n\n    el.addEventListener('beforeinput', onBeforeInput as any);\n    el.addEventListener('input', onInput);\n\n    return () => {\n      el.removeEventListener('beforeinput', onBeforeInput as any);\n      el.removeEventListener('input', onInput);\n    };\n  }, [inputRef, mask, enableDefault]);\n}\n\n/* =========================================\n * IInputAddon (render)\n * ========================================= */\n\nexport type IInputAddonProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'children'\n> & {\n  addon: IInputAddons | undefined;\n};\n\nexport function IInputAddon(props: IInputAddonProps) {\n  const { addon, className, ...rest } = props;\n\n  // Match Angular: render nothing when no addon or visible === false\n  if (!addon || addon.visible === false) {\n    return null;\n  }\n\n  return (\n    <i-input-addon className={className} kind={addon.type} {...rest}>\n      {addon.type === 'button' ? (\n        <IButton\n          size=\"xs\"\n          type=\"button\"\n          icon={addon.icon}\n          variant={addon.variant ?? 'primary'}\n          onClick={() => addon.onClick?.()}>\n          {addon.text ?? null}\n        </IButton>\n      ) : addon.type === 'icon' ? (\n        <IIcon icon={addon.icon} size=\"sm\" />\n      ) : addon.type === 'link' ? (\n        <a\n          href={addon.href}\n          target={addon.target ?? undefined}\n          rel=\"noopener noreferrer\">\n          {addon.icon ? <IIcon icon={addon.icon} size=\"sm\" /> : null}\n          {addon.text}\n        </a>\n      ) : addon.type === 'loading' ? (\n        <ILoading />\n      ) : (\n        <span>{addon.text}</span>\n      )}\n    </i-input-addon>\n  );\n}\n\n/* =========================================\n * IInput (Angular parity)\n * ========================================= */\n\nexport type IInputProps = Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  'children' | 'value' | 'defaultValue' | 'readOnly'\n> & {\n  type?: string;\n  placeholder?: string;\n  autocomplete?: string;\n  readonly?: boolean;\n  invalid?: boolean;\n  disabled?: boolean;\n\n  mask?: IInputMask;\n\n  prepend?: IInputAddons | IInputAddons[];\n  append?: IInputAddons | IInputAddons[] | IInputAddonLoading;\n\n  value?: string | null;\n\n  /**\n   *  expose inner input ref (ViewChild vibe)\n   * Must be MutableRefObject because we assign .current\n   */\n  inputRef?: React.MutableRefObject<HTMLInputElement | null>;\n};\n\nfunction normalizeArray<T>(v: T | T[] | undefined): T[] {\n  if (!v) return [];\n  return Array.isArray(v) ? v : [v];\n}\n\n/**\n *  forwardRef supported:\n * <IInput ref={...} />\n *  inputRef supported:\n * <IInput inputRef={...} />\n *\n * Both point to the INNER <input>\n */\nexport const IInput = React.forwardRef<HTMLInputElement, IInputProps>(\n  function IInput(props, forwardedRef) {\n    const {\n      type = 'text',\n      placeholder = '',\n      autocomplete,\n      readonly = false,\n      invalid = false,\n      disabled = false,\n      mask,\n      prepend,\n      append,\n      value,\n      className,\n      onInput,\n      onBlur,\n      inputRef,\n      ...rest\n    } = props;\n\n    const innerRef = useRef<HTMLInputElement | null>(null);\n\n    // Mask parity\n    useInputMask(innerRef, mask);\n\n    const prepends = useMemo(() => normalizeArray(prepend), [prepend]);\n    const appends = useMemo(() => normalizeArray(append as any), [append]);\n\n    const setRefs = (node: HTMLInputElement | null) => {\n      innerRef.current = node;\n\n      if (inputRef) {\n        inputRef.current = node;\n      }\n\n      if (!forwardedRef) return;\n      if (typeof forwardedRef === 'function') forwardedRef(node);\n      else forwardedRef.current = node;\n    };\n\n    // Click anywhere on <i-input> focuses inner input, except clicks on addons\n    const handleHostClick: React.MouseEventHandler<HTMLElement> = (e) => {\n      if (disabled) return;\n\n      const target = e.target as HTMLElement | null;\n      if (target?.closest?.('i-input-addon')) return;\n\n      innerRef.current?.focus();\n    };\n\n    return (\n      <i-input className={className} onClick={handleHostClick}>\n        {prepends.map((a, idx) => (\n          <IInputAddon key={`prepend-${idx}`} addon={a} />\n        ))}\n\n        <input\n          {...rest}\n          ref={setRefs}\n          aria-invalid={invalid ? 'true' : undefined}\n          autoComplete={autocomplete ?? undefined}\n          disabled={disabled}\n          placeholder={placeholder}\n          readOnly={readonly}\n          type={type}\n          value={value ?? ''}\n          onInput={onInput}\n          onBlur={onBlur}\n        />\n\n        {appends.map((a: any, idx: number) => (\n          <IInputAddon key={`append-${idx}`} addon={a} />\n        ))}\n      </i-input>\n    );\n  }\n);\n\n/* =========================================\n * IFCInput (React wrapper)\n * ========================================= */\n\nexport type IFCInputProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'children'\n> & {\n  label?: string;\n\n  placeholder?: string;\n  autocomplete?: string;\n  readonly?: boolean;\n  type?: string;\n\n  mask?: IInputMask;\n\n  prepend?: IInputProps['prepend'];\n  append?: IInputProps['append'];\n\n  value?: string | null;\n\n  /**\n   * In Angular, invalid/error are derived from NgControl.\n   * In React, you supply them (works with any form lib).\n   */\n  invalid?: boolean;\n  errorMessage?: string | null;\n\n  disabled?: boolean;\n  required?: boolean;\n\n  onInput?: React.FormEventHandler<HTMLInputElement>;\n  onBlur?: React.FocusEventHandler<HTMLInputElement>;\n\n  children?: React.ReactNode;\n};\n\nexport function IFCInput(props: IFCInputProps) {\n  const {\n    label = '',\n    placeholder = '',\n    autocomplete,\n    readonly = false,\n    type = 'text',\n    mask,\n    prepend,\n    append,\n    value,\n    invalid = false,\n    errorMessage = null,\n    disabled = false,\n    required = false,\n    onInput,\n    onBlur,\n    children,\n    className,\n    ...hostProps\n  } = props;\n\n  //  focus target for label click\n  const innerRef = useRef<HTMLInputElement | null>(null);\n\n  const focusInnerInput = () => {\n    if (!disabled) {\n      innerRef.current?.focus();\n    }\n  };\n\n  return (\n    <i-fc-input className={className} {...hostProps}>\n      {label ? (\n        <label className=\"i-fc-input__label\" onClick={focusInnerInput}>\n          {label} :{' '}\n          {required ? <span className=\"i-fc-input__required\">*</span> : null}\n        </label>\n      ) : null}\n\n      <IInput\n        inputRef={innerRef}\n        placeholder={placeholder}\n        autocomplete={autocomplete}\n        readonly={readonly}\n        type={type}\n        mask={mask}\n        prepend={prepend}\n        append={append}\n        value={value ?? ''}\n        invalid={invalid}\n        disabled={disabled}\n        onInput={onInput}\n        onBlur={onBlur}\n      />\n\n      {invalid && errorMessage ? (\n        <div className=\"i-fc-input__error\">{errorMessage}</div>\n      ) : null}\n\n      {children}\n    </i-fc-input>\n  );\n}\n","// select.tsx (React)\n// ISelect - React parity for Angular ISelect (single-select only)\n// - opens on typing even if collapsed\n// - toggle behavior:\n//    - closed -> open\n//    - open + no results -> clear filter & show all (keep open)\n//    - open + has results -> close & restore selected display text\n//\n// NOTE: multi-select intentionally removed for now.\n\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport type { Observable } from 'rxjs';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { IIcon } from '../icon';\nimport {\n  IInput,\n  type IInputAddonButton,\n  type IInputAddonLoading,\n} from '../input';\n\n/* =========================================\n * Types\n * ========================================= */\n\nexport type ISelectChange<T = any> = {\n  value: T | null;\n  label: string;\n};\n\nexport type ISelectPanelPosition =\n  | 'top'\n  | 'bottom'\n  | 'left'\n  | 'right'\n  | 'top left'\n  | 'top right'\n  | 'bottom left'\n  | 'bottom right';\n\nexport type ISelectProps<T = any> = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'children' | 'onChange'\n> & {\n  placeholder?: string;\n  disabled?: boolean;\n  invalid?: boolean;\n\n  /** debounce delay (ms) */\n  filterDelay?: number;\n\n  panelPosition?: ISelectPanelPosition;\n\n  /** provide list directly */\n  options?: T[] | null;\n\n  /** or provide as observable */\n  options$?: Observable<T[]> | null;\n\n  /**\n   * Label resolver:\n   * - function: (row) => label\n   * - string: key path (supports \"a.b.c\")\n   */\n  displayWith?: ((row: T | null) => string) | string;\n\n  /**\n   * Filter predicate:\n   * Default = JSON stringify contains (case-insensitive)\n   */\n  filterPredicate?: (row: T, term: string) => boolean;\n\n  /**\n   * Optional option renderer (like Angular iSelectOption template)\n   */\n  renderOption?: (row: T) => React.ReactNode;\n\n  /**\n   * Selected value (controlled)\n   */\n  value?: T | null;\n\n  /**\n   * Default selected value (uncontrolled)\n   */\n  defaultValue?: T | null;\n\n  /**\n   * Event parity (Angular outputs)\n   */\n  onChanged?: (change: ISelectChange<T>) => void;\n  onOptionSelected?: (change: ISelectChange<T>) => void;\n};\n\n/* =========================================\n * Helpers\n * ========================================= */\n\nfunction normalizePanelClass(pos: ISelectPanelPosition | undefined): string {\n  const value = (pos || 'bottom left').trim();\n  const normalized = value.replace(/\\s+/g, '-');\n  return `i-options--${normalized}`;\n}\n\nfunction defaultFilterPredicate(row: any, term: string) {\n  const haystack = JSON.stringify(row).toLowerCase();\n  return haystack.includes(term);\n}\n\nfunction resolveByPath(obj: any, path: string): any {\n  const parts = path.split('.');\n  let v: any = obj;\n  for (const p of parts) {\n    if (v === null || v === undefined) return null;\n    v = v[p];\n  }\n  return v;\n}\n\nfunction highlightParts(text: string, term: string): React.ReactNode {\n  const t = (term ?? '').trim();\n  if (!t) return text;\n\n  const lower = text.toLowerCase();\n  const q = t.toLowerCase();\n\n  const idx = lower.indexOf(q);\n  if (idx < 0) return text;\n\n  const before = text.slice(0, idx);\n  const match = text.slice(idx, idx + t.length);\n  const after = text.slice(idx + t.length);\n\n  return (\n    <>\n      {before}\n      <mark>{match}</mark>\n      {after}\n    </>\n  );\n}\n\n/* =========================================\n * ISelect\n * ========================================= */\n\nexport function ISelect<T = any>(props: ISelectProps<T>) {\n  const {\n    placeholder = '',\n    disabled = false,\n    invalid = false,\n    filterDelay = 200,\n    panelPosition = 'bottom left',\n    options = null,\n    options$ = null,\n    displayWith,\n    filterPredicate = defaultFilterPredicate,\n    renderOption,\n\n    value,\n    defaultValue = null,\n\n    onChanged,\n    onOptionSelected,\n\n    className,\n    ...hostProps\n  } = props;\n\n  // DOM\n  const hostRef = useRef<HTMLElement | null>(null);\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  // options\n  const [rawOptions, setRawOptions] = useState<T[]>(() => options ?? []);\n  const [filteredOptions, setFilteredOptions] = useState<T[]>(\n    () => options ?? []\n  );\n\n  // model\n  const isControlled = value !== undefined;\n  const [modelValue, setModelValue] = useState<T | null>(() =>\n    isControlled ? (value ?? null) : (defaultValue ?? null)\n  );\n\n  // UI\n  const [displayText, setDisplayText] = useState<string>('');\n  const [filterText, setFilterText] = useState<string>('');\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const [highlightIndex, setHighlightIndex] = useState<number>(-1);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  // Rx filter debounce (parity with Angular)\n  const filterInput$ = useMemo(() => new Subject<string>(), []);\n  const filterSubRef = useRef<Subscription | null>(null);\n  const optionsSubRef = useRef<Subscription | null>(null);\n\n  // ---------- displayWith logic (parity-ish) ----------\n  const displayWithIsExplicit =\n    displayWith !== undefined && displayWith !== null;\n\n  const resolveDisplayText = (row: T | null): string => {\n    if (row === null || row === undefined) return '';\n\n    // CASE 1: explicit function\n    if (typeof displayWith === 'function' && displayWithIsExplicit) {\n      return displayWith(row);\n    }\n\n    // CASE 2: explicit string key (path)\n    if (typeof displayWith === 'string') {\n      const v = resolveByPath(row as any, displayWith);\n      return v === null || v === undefined ? '' : String(v);\n    }\n\n    // CASE 3A: auto-mapping when object\n    if (!displayWithIsExplicit && typeof row === 'object') {\n      const entries = Object.entries(row as any);\n      if (!entries.length) return '';\n      const labelEntry = entries[1] ?? entries[0];\n      const labelValue = labelEntry?.[1];\n      return labelValue === null || labelValue === undefined\n        ? ''\n        : String(labelValue);\n    }\n\n    // CASE 4: fallback\n    return String(row as any);\n  };\n\n  // ---------- sync model from props ----------\n  useEffect(() => {\n    if (!isControlled) return;\n    setModelValue(value ?? null);\n  }, [isControlled, value]);\n\n  // ---------- subscribe options$ ----------\n  useEffect(() => {\n    // direct options input always wins unless options$ is provided\n    if (options$) {\n      setIsLoading(true);\n\n      optionsSubRef.current?.unsubscribe();\n      optionsSubRef.current = options$.subscribe({\n        next: (rows) => {\n          setRawOptions(rows ?? []);\n          setIsLoading(false);\n        },\n        error: () => {\n          setIsLoading(false);\n        },\n      });\n\n      return () => {\n        optionsSubRef.current?.unsubscribe();\n        optionsSubRef.current = null;\n      };\n    }\n\n    setRawOptions(options ?? []);\n    return undefined;\n  }, [options$, options]);\n\n  // ---------- debounce filter input ----------\n  useEffect(() => {\n    filterSubRef.current?.unsubscribe();\n    filterSubRef.current = filterInput$\n      .pipe(debounceTime(filterDelay))\n      .subscribe((val) => {\n        handleInputText(val);\n        setIsLoading(false);\n      });\n\n    return () => {\n      filterSubRef.current?.unsubscribe();\n      filterSubRef.current = null;\n    };\n  }, [filterInput$, filterDelay]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // ---------- sync view text from model/options ----------\n  useEffect(() => {\n    // on init and when model/options change: keep displayText showing selected label (if closed)\n    if (!isOpen) {\n      setDisplayText(resolveDisplayText(modelValue));\n      setFilterText('');\n      setHighlightIndex(-1);\n    }\n    // keep filteredOptions in sync when open\n    if (isOpen) {\n      applyFilter(true, filterText);\n    } else {\n      setFilteredOptions(rawOptions);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [modelValue, rawOptions]);\n\n  // ---------- derived ----------\n  const panelPositionClass = useMemo(\n    () => normalizePanelClass(panelPosition),\n    [panelPosition]\n  );\n\n  const hasNoResults = isOpen && !!filterText && filteredOptions.length === 0;\n\n  const hasOptionsList = isOpen && filteredOptions.length > 0;\n\n  // ---------- filter ----------\n  const applyFilter = (force: boolean, nextFilterText?: string) => {\n    if (!isOpen && !force) return;\n\n    const term = (nextFilterText ?? filterText ?? '').toLowerCase().trim();\n\n    const next = !term\n      ? [...rawOptions]\n      : rawOptions.filter((row) => {\n          try {\n            return filterPredicate(row, term);\n          } catch {\n            return false;\n          }\n        });\n\n    setFilteredOptions(next);\n\n    setHighlightIndex((idx) => {\n      if (next.length === 0) return -1;\n      if (idx < 0) return -1;\n      if (idx >= next.length) return -1;\n      return idx;\n    });\n  };\n\n  // ---------- open/close ----------\n  const scrollHighlightedIntoView = () => {\n    // defer until options rendered\n    setTimeout(() => {\n      if (!isOpen) return;\n      const host = hostRef.current;\n      if (!host) return;\n\n      const list = host.querySelector('.i-options') as HTMLElement | null;\n      if (!list) return;\n\n      const items = list.querySelectorAll('.i-option');\n      const el = items[highlightIndex] as HTMLElement | undefined;\n      el?.scrollIntoView?.({ block: 'nearest' });\n    });\n  };\n\n  const openDropdown = () => {\n    if (disabled) return;\n    if (isOpen) return;\n\n    setIsOpen(true);\n\n    // ensure filter applied\n    const term = filterText;\n    const next = !term\n      ? [...rawOptions]\n      : rawOptions.filter((row) =>\n          filterPredicate(row, term.toLowerCase().trim())\n        );\n\n    setFilteredOptions(next);\n\n    if (next.length === 0) {\n      setHighlightIndex(-1);\n      return;\n    }\n\n    // highlight selected row if present\n    if (modelValue !== null && modelValue !== undefined) {\n      const idx = next.indexOf(modelValue as T);\n      if (idx >= 0) {\n        setHighlightIndex(idx);\n        scrollHighlightedIntoView();\n        return;\n      }\n    }\n\n    setHighlightIndex(0);\n    scrollHighlightedIntoView();\n  };\n\n  const closeDropdown = () => {\n    setIsOpen(false);\n    setHighlightIndex(-1);\n  };\n\n  const focus = () => {\n    if (disabled) return;\n    inputRef.current?.focus?.();\n  };\n\n  // ---------- input behavior ----------\n  const handleInputText = (val: string) => {\n    setDisplayText(val);\n    setFilterText(val);\n\n    // open if collapsed, and show filtered options\n    if (!isOpen) {\n      setIsOpen(true);\n      // next tick after open: apply filter\n      setTimeout(() => applyFilter(true, val), 0);\n    } else {\n      applyFilter(true, val);\n    }\n  };\n\n  const onHostInput: React.FormEventHandler<HTMLInputElement> = (e) => {\n    if (disabled) return;\n    const v = e.currentTarget.value ?? '';\n\n    setIsLoading(true);\n    filterInput$.next(v);\n  };\n\n  // ---------- toggle behavior (matches your Angular) ----------\n  const toggleDropdown = (event?: React.MouseEvent) => {\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    if (disabled) return;\n\n    if (!isOpen) {\n      openDropdown();\n    } else if (hasNoResults) {\n      // open + no results -> clear filter & show all, keep open\n      setDisplayText('');\n      setFilterText('');\n      applyFilter(true, '');\n    } else {\n      // open + has results -> close and restore selected display text\n      setDisplayText(resolveDisplayText(modelValue));\n      setFilterText('');\n      closeDropdown();\n    }\n\n    focus();\n  };\n\n  // ---------- selection ----------\n  const emitChange = (row: T | null) => {\n    const label = resolveDisplayText(row);\n    const payload: ISelectChange<T> = { value: row, label };\n\n    onChanged?.(payload);\n    onOptionSelected?.(payload);\n  };\n\n  const selectRow = (row: T) => {\n    if (disabled) return;\n\n    if (!isControlled) {\n      setModelValue(row);\n    }\n    // for controlled, still update display immediately\n    setDisplayText(resolveDisplayText(row));\n    setFilterText('');\n\n    // keep options list fresh\n    applyFilter(true, '');\n\n    emitChange(row);\n    closeDropdown();\n  };\n\n  const isRowSelected = (row: T) => modelValue === row;\n\n  const setActiveIndex = (idx: number) => {\n    if (idx < 0 || idx >= filteredOptions.length) {\n      setHighlightIndex(-1);\n    } else {\n      setHighlightIndex(idx);\n    }\n  };\n\n  const moveHighlight = (delta: number) => {\n    const len = filteredOptions.length;\n    if (!len) {\n      setHighlightIndex(-1);\n      return;\n    }\n\n    setHighlightIndex((prev) => {\n      let next = prev;\n      if (next === -1) next = 0;\n      else next = (next + delta + len) % len;\n      return next;\n    });\n\n    scrollHighlightedIntoView();\n  };\n\n  // ---------- keyboard ----------\n  const onHostKeyDown: React.KeyboardEventHandler<HTMLElement> = (event) => {\n    if (disabled) return;\n\n    const opts = filteredOptions;\n\n    switch (event.key) {\n      case 'ArrowDown':\n        event.preventDefault();\n        if (!isOpen) openDropdown();\n        else if (opts.length) moveHighlight(1);\n        break;\n\n      case 'ArrowUp':\n        event.preventDefault();\n        if (!isOpen) openDropdown();\n        else if (opts.length) moveHighlight(-1);\n        break;\n\n      case 'Enter':\n        event.preventDefault();\n        if (!isOpen) {\n          openDropdown();\n        } else if (highlightIndex >= 0 && highlightIndex < opts.length) {\n          selectRow(opts[highlightIndex]);\n        }\n        break;\n\n      case 'Escape':\n        if (isOpen) {\n          event.preventDefault();\n          // close and restore selected text (same as toggle close path)\n          setDisplayText(resolveDisplayText(modelValue));\n          setFilterText('');\n          closeDropdown();\n        }\n        break;\n    }\n  };\n\n  // ---------- outside click ----------\n  useEffect(() => {\n    const onDocClick = (e: MouseEvent) => {\n      if (!isOpen) return;\n\n      const target = e.target as Node | null;\n      const host = hostRef.current;\n      if (!host) return;\n\n      if (target && !host.contains(target)) {\n        // close and restore\n        setDisplayText(resolveDisplayText(modelValue));\n        setFilterText('');\n        closeDropdown();\n      }\n    };\n\n    document.addEventListener('click', onDocClick);\n    return () => document.removeEventListener('click', onDocClick);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, modelValue, rawOptions]);\n\n  // ---------- append addon ----------\n  const appendAddon: IInputAddonButton | IInputAddonLoading = useMemo(() => {\n    if (isLoading) {\n      return { type: 'loading', visible: true };\n    }\n\n    return {\n      type: 'button',\n      icon: isOpen ? 'angle-up' : 'angle-down',\n      visible: true,\n      variant: 'primary',\n      onClick: () => toggleDropdown(),\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    isLoading,\n    isOpen,\n    disabled,\n    hasNoResults,\n    modelValue,\n    displayText,\n    filterText,\n  ]);\n\n  return (\n    <i-select\n      {...hostProps}\n      className={className}\n      ref={(el) => {\n        hostRef.current = el as any;\n      }}\n      onKeyDown={onHostKeyDown as any}>\n      <IInput\n        inputRef={inputRef}\n        append={appendAddon}\n        invalid={invalid || hasNoResults}\n        placeholder={placeholder}\n        readonly={disabled}\n        value={displayText}\n        onInput={onHostInput}\n      />\n\n      {hasOptionsList ? (\n        <div className={`i-options scroll scroll-y ${panelPositionClass}`}>\n          {filteredOptions.map((row, idx) => (\n            <div\n              key={(row as any)?.id ?? `${idx}-${String(row)}`}\n              className={[\n                'i-option',\n                highlightIndex === idx ? 'active' : null,\n                isRowSelected(row) ? 'selected' : null,\n              ]\n                .filter(Boolean)\n                .join(' ')}\n              onMouseEnter={() => setActiveIndex(idx)}\n              onMouseDown={(e) => {\n                // prevent blur (Angular uses mousedown too)\n                e.preventDefault();\n                e.stopPropagation();\n                selectRow(row);\n              }}>\n              <div className=\"i-option-label\">\n                {renderOption ? (\n                  renderOption(row)\n                ) : (\n                  <span>\n                    {highlightParts(resolveDisplayText(row), filterText)}\n                  </span>\n                )}\n              </div>\n\n              {isRowSelected(row) ? (\n                <span className=\"i-option-check\">\n                  <IIcon icon=\"check\" />\n                </span>\n              ) : null}\n            </div>\n          ))}\n        </div>\n      ) : null}\n    </i-select>\n  );\n}\n","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { IButton } from '../button';\nimport { IInput, type IInputAddonButton, type IInputMask } from '../input';\nimport { ISelect, type ISelectChange } from '../select';\nimport type { IFormControlErrorMessage } from '../shared/form.types';\n\n/* =========================================\n * Types (match Angular)\n * ========================================= */\n\nexport type IDatepickerPanelPosition =\n  | 'bottom left'\n  | 'bottom right'\n  | 'top left'\n  | 'top right';\n\ntype IMonthOption = { value: number; label: string };\n\ntype IDatepickerDay = {\n  date: Date;\n  inCurrentMonth: boolean;\n  isToday: boolean;\n  isSelected: boolean;\n};\n\nexport type IDatepickerProps = React.HTMLAttributes<HTMLElement> & {\n  placeholder?: string;\n  disabled?: boolean;\n  invalid?: boolean;\n  format?: string;\n  panelPosition?: IDatepickerPanelPosition;\n\n  /** Angular parity: accepts Date | string | null */\n  value?: Date | string | null;\n\n  /** Angular parity event name */\n  onChanged?: (value: Date | null) => void;\n};\n\nexport type IFCDatepickerProps = React.HTMLAttributes<HTMLElement> & {\n  label?: string;\n  placeholder?: string;\n  format?: string;\n  panelPosition?: IDatepickerPanelPosition;\n\n  value?: Date | string | null;\n  onChanged?: (v: Date | null) => void;\n\n  disabled?: boolean;\n\n  /** React-style validation (Angular derives from forms) */\n  required?: boolean;\n  invalid?: boolean;\n\n  /** Angular-like template map */\n  errorMessage?: IFormControlErrorMessage;\n\n  /** which key to render when invalid (default: 'required') */\n  errorKey?: string;\n};\n\n/* =========================================\n * Constants (match Angular)\n * ========================================= */\n\nconst MONTHS: IMonthOption[] = [\n  { value: 0, label: 'January' },\n  { value: 1, label: 'February' },\n  { value: 2, label: 'March' },\n  { value: 3, label: 'April' },\n  { value: 4, label: 'May' },\n  { value: 5, label: 'June' },\n  { value: 6, label: 'July' },\n  { value: 7, label: 'August' },\n  { value: 8, label: 'September' },\n  { value: 9, label: 'October' },\n  { value: 10, label: 'November' },\n  { value: 11, label: 'December' },\n];\n\nconst WEEKDAYS = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n\nfunction noop(): void {}\n\nfunction startOfDay(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n\nfunction isSameDate(a: Date, b: Date): boolean {\n  return (\n    a.getFullYear() === b.getFullYear() &&\n    a.getMonth() === b.getMonth() &&\n    a.getDate() === b.getDate()\n  );\n}\n\nfunction parseInputDate(value: string, format: string): Date | null {\n  if (!value) return null;\n\n  const fmt = format || 'yyyy-MM-dd';\n  const parts = value.match(/\\d+/g);\n  if (!parts || parts.length < 3) return null;\n\n  const tokens = fmt.match(/(yyyy|MM|dd)/g) || ['yyyy', 'MM', 'dd'];\n\n  let year: number | undefined;\n  let month: number | undefined;\n  let day: number | undefined;\n\n  tokens.forEach((t, idx) => {\n    const p = parts[idx];\n    if (!p) return;\n    const n = Number(p);\n\n    if (t === 'yyyy') year = n;\n    else if (t === 'MM') month = n;\n    else if (t === 'dd') day = n;\n  });\n\n  if (!year || !month || !day) return null;\n\n  const date = new Date(year, month - 1, day);\n  if (\n    date.getFullYear() !== year ||\n    date.getMonth() !== month - 1 ||\n    date.getDate() !== day\n  ) {\n    return null;\n  }\n\n  return startOfDay(date);\n}\n\nfunction formatDateLocal(date: Date, format: string): string {\n  const fmt = format || 'yyyy-MM-dd';\n\n  const yyyy = String(date.getFullYear());\n  const MM = String(date.getMonth() + 1).padStart(2, '0');\n  const dd = String(date.getDate()).padStart(2, '0');\n\n  return fmt.replace(/yyyy/g, yyyy).replace(/MM/g, MM).replace(/dd/g, dd);\n}\n\nfunction normalizeToDate(\n  value: Date | string | null | undefined,\n  format: string\n): Date | null {\n  if (value instanceof Date) return startOfDay(value);\n  if (typeof value === 'string' && value.trim()) {\n    return parseInputDate(value.trim(), format);\n  }\n  return null;\n}\n\nfunction panelPositionClass(\n  panelPosition: IDatepickerPanelPosition | undefined\n): string {\n  const value = (panelPosition || 'bottom left').trim();\n  const normalized = value.replace(/\\s+/g, '-');\n  return `i-datepicker-panel--${normalized}`;\n}\n\nfunction ensureYearRange(focusYear: number, currentYears: number[]): number[] {\n  if (\n    !currentYears.length ||\n    focusYear < currentYears[0] ||\n    focusYear > currentYears[currentYears.length - 1]\n  ) {\n    const start = focusYear - 50;\n    const end = focusYear + 10;\n    const arr: number[] = [];\n    for (let y = start; y <= end; y++) arr.push(y);\n    return arr;\n  }\n  return currentYears;\n}\n\nfunction buildCalendar(\n  viewYear: number,\n  viewMonth: number,\n  selected: Date | null\n): IDatepickerDay[][] {\n  const firstOfMonth = new Date(viewYear, viewMonth, 1);\n\n  // Monday = 0 (Angular: (getDay()+6)%7)\n  const startDay = (firstOfMonth.getDay() + 6) % 7;\n  const startDate = new Date(viewYear, viewMonth, 1 - startDay);\n\n  const weeks: IDatepickerDay[][] = [];\n  const current = new Date(startDate);\n\n  const today = startOfDay(new Date());\n  const selectedDay = selected ? startOfDay(selected) : null;\n\n  for (let w = 0; w < 6; w++) {\n    const row: IDatepickerDay[] = [];\n    for (let i = 0; i < 7; i++) {\n      const date = new Date(current);\n      const inCurrentMonth = date.getMonth() === viewMonth;\n\n      row.push({\n        date,\n        inCurrentMonth,\n        isToday: isSameDate(date, today),\n        isSelected: selectedDay ? isSameDate(date, selectedDay) : false,\n      });\n\n      current.setDate(current.getDate() + 1);\n    }\n    weeks.push(row);\n  }\n\n  return weeks;\n}\n\n/* =========================================\n * IDatepicker\n * ========================================= */\n\nexport function IDatepicker(props: IDatepickerProps) {\n  const {\n    placeholder = '',\n    disabled = false,\n    invalid = false,\n    format = 'dd/MM/yyyy',\n    panelPosition = 'bottom left',\n    value = null,\n    onChanged = noop,\n    className,\n    ...rest\n  } = props;\n\n  const hostRef = useRef<HTMLElement | null>(null);\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  const [modelValue, setModelValue] = useState<Date | null>(null);\n  const [displayText, setDisplayText] = useState<string>('');\n  const [isOpen, setIsOpen] = useState(false);\n\n  const [viewYear, setViewYear] = useState(0);\n  const [viewMonth, setViewMonth] = useState(0);\n  const [years, setYears] = useState<number[]>([]);\n\n  const weeks = useMemo(\n    () => buildCalendar(viewYear, viewMonth, modelValue),\n    [viewYear, viewMonth, modelValue]\n  );\n\n  const monthSelected = useMemo(\n    () => MONTHS.find((m) => m.value === viewMonth) ?? null,\n    [viewMonth]\n  );\n\n  const dateMask: IInputMask = useMemo(\n    () => ({ type: 'date', format }),\n    [format]\n  );\n\n  // Cache the real <input> inside <i-input> (Angular queries DOM too)\n  const refreshInputRef = useCallback(() => {\n    const host = hostRef.current;\n    const input = host?.querySelector?.(\n      'i-input input'\n    ) as HTMLInputElement | null;\n    if (input) inputRef.current = input;\n  }, []);\n\n  // writeValue parity\n  useEffect(() => {\n    const next = normalizeToDate(value, format);\n\n    setModelValue(next);\n    setDisplayText(next ? formatDateLocal(next, format) : '');\n\n    const baseDate =\n      next ?? parseInputDate(displayText, format) ?? startOfDay(new Date());\n\n    setViewYear(baseDate.getFullYear());\n    setViewMonth(baseDate.getMonth());\n    setYears((prev) => ensureYearRange(baseDate.getFullYear(), prev));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value, format]);\n\n  // ngOnInit parity: default to today visually\n  useEffect(() => {\n    if (!modelValue && !displayText) {\n      const today = startOfDay(new Date());\n      setModelValue(today);\n      setDisplayText(formatDateLocal(today, format));\n      setViewYear(today.getFullYear());\n      setViewMonth(today.getMonth());\n      setYears((p) => ensureYearRange(today.getFullYear(), p));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Ensure we can focus input after mount and whenever popup toggles\n  useEffect(() => {\n    refreshInputRef();\n  }, [refreshInputRef, isOpen, displayText]);\n\n  const initViewFromModel = useCallback(() => {\n    let base: Date;\n\n    if (modelValue) base = startOfDay(modelValue);\n    else if (displayText)\n      base = parseInputDate(displayText, format) ?? startOfDay(new Date());\n    else base = startOfDay(new Date());\n\n    setViewYear(base.getFullYear());\n    setViewMonth(base.getMonth());\n    setYears((p) => ensureYearRange(base.getFullYear(), p));\n  }, [displayText, format, modelValue]);\n\n  const toggleOpen = useCallback(() => {\n    if (disabled) return;\n\n    setIsOpen((prev) => {\n      const next = !prev;\n\n      if (next) {\n        refreshInputRef();\n\n        const inputVal = inputRef.current?.value ?? '';\n        if (inputVal) {\n          const parsed = parseInputDate(inputVal, format);\n          if (parsed) {\n            setModelValue(parsed);\n            setDisplayText(formatDateLocal(parsed, format));\n          }\n        }\n\n        initViewFromModel();\n      }\n\n      return next;\n    });\n  }, [disabled, format, initViewFromModel, refreshInputRef]);\n\n  const appendAddon: IInputAddonButton = useMemo(\n    () => ({\n      type: 'button',\n      icon: 'calendar',\n      visible: true,\n      variant: 'primary',\n      onClick: (): void => {\n        toggleOpen();\n        refreshInputRef();\n        inputRef.current?.focus();\n      },\n    }),\n    [refreshInputRef, toggleOpen]\n  );\n\n  const handleInput = useCallback(\n    (raw: string) => {\n      setDisplayText(raw);\n\n      const parsed = parseInputDate(raw, format);\n      setModelValue(parsed);\n\n      if (parsed) {\n        setViewYear(parsed.getFullYear());\n        setViewMonth(parsed.getMonth());\n        setYears((p) => ensureYearRange(parsed.getFullYear(), p));\n      }\n\n      onChanged(parsed);\n    },\n    [format, onChanged]\n  );\n\n  // outside click close\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const onDocClick = (event: MouseEvent) => {\n      const target = event.target as Node | null;\n      const host = hostRef.current;\n      if (host && target && !host.contains(target)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('click', onDocClick);\n    return () => document.removeEventListener('click', onDocClick);\n  }, [isOpen]);\n\n  const prevMonth = useCallback(() => {\n    setViewMonth((m) => {\n      if (m === 0) {\n        setViewYear((y) => {\n          const ny = y - 1;\n          setYears((p) => ensureYearRange(ny, p));\n          return ny;\n        });\n        return 11;\n      }\n      return m - 1;\n    });\n  }, []);\n\n  const nextMonth = useCallback(() => {\n    setViewMonth((m) => {\n      if (m === 11) {\n        setViewYear((y) => {\n          const ny = y + 1;\n          setYears((p) => ensureYearRange(ny, p));\n          return ny;\n        });\n        return 0;\n      }\n      return m + 1;\n    });\n  }, []);\n\n  const onMonthChange = useCallback((change: ISelectChange<any>) => {\n    const row = change?.value;\n    if (!row) return;\n\n    const month =\n      typeof row === 'object' && row && 'value' in row\n        ? (row as IMonthOption).value\n        : row;\n\n    if (typeof month !== 'number') return;\n    if (month < 0 || month > 11) return;\n\n    setViewMonth(month);\n  }, []);\n\n  const onYearChange = useCallback((change: ISelectChange<number>) => {\n    const year = change.value;\n    if (typeof year !== 'number') return;\n\n    setViewYear(year);\n    setYears((p) => ensureYearRange(year, p));\n  }, []);\n\n  const selectDay = useCallback(\n    (day: IDatepickerDay) => {\n      if (disabled) return;\n\n      const selected = startOfDay(day.date);\n\n      setModelValue(selected);\n      setDisplayText(formatDateLocal(selected, format));\n\n      onChanged(selected);\n\n      setViewYear(selected.getFullYear());\n      setViewMonth(selected.getMonth());\n      setYears((p) => ensureYearRange(selected.getFullYear(), p));\n\n      setIsOpen(false);\n    },\n    [disabled, format, onChanged]\n  );\n\n  useEffect(() => {\n    setYears((p) =>\n      ensureYearRange(viewYear || startOfDay(new Date()).getFullYear(), p)\n    );\n  }, [viewYear]);\n\n  return (\n    <i-datepicker\n      ref={(el) => {\n        hostRef.current = el as any;\n        refreshInputRef();\n      }}\n      className={className}\n      {...rest}>\n      <IInput\n        append={appendAddon}\n        mask={dateMask}\n        invalid={invalid}\n        placeholder={placeholder}\n        readonly={disabled}\n        value={displayText}\n        onInput={(e) =>\n          handleInput((e.currentTarget as HTMLInputElement).value ?? '')\n        }\n        onBlur={() => {\n          // Angular calls onTouched; no external callback here (parity is fine)\n        }}\n      />\n\n      {isOpen ? (\n        <div\n          className={[\n            'i-datepicker-panel',\n            panelPositionClass(panelPosition),\n          ].join(' ')}>\n          <div className=\"i-datepicker-header\">\n            <IButton icon=\"prev\" size=\"xs\" onClick={prevMonth} />\n\n            <ISelect\n              className=\"i-date-picker-month-select\"\n              options={MONTHS}\n              value={monthSelected}\n              onOptionSelected={onMonthChange}\n            />\n\n            <ISelect\n              className=\"i-date-picker-year-select\"\n              options={years}\n              value={viewYear}\n              onOptionSelected={onYearChange}\n            />\n\n            <IButton icon=\"next\" size=\"xs\" onClick={nextMonth} />\n          </div>\n\n          <div className=\"i-datepicker-weekdays\">\n            {WEEKDAYS.map((w) => (\n              <small key={w}>{w}</small>\n            ))}\n          </div>\n\n          <div className=\"i-datepicker-weeks\">\n            {weeks.map((week, wi) => (\n              <div className=\"i-datepicker-week\" key={`w-${wi}`}>\n                {week.map((d) => (\n                  <div\n                    key={d.date.getTime()}\n                    className={[\n                      'i-datepicker-day',\n                      d.inCurrentMonth ? 'current-month' : null,\n                      d.isSelected ? 'selected' : null,\n                      d.isToday && !d.isSelected ? 'today' : null,\n                    ]\n                      .filter(Boolean)\n                      .join(' ')}\n                    onClick={() => selectDay(d)}>\n                    {d.date.getDate()}\n                  </div>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : null}\n    </i-datepicker>\n  );\n}\n\n/* =========================================\n * IFCDatepicker\n * ========================================= */\n\nfunction resolveErrorMessage(\n  label: string,\n  errorKey: string,\n  errorMessage?: IFormControlErrorMessage\n): string | null {\n  const tpl = errorMessage?.[errorKey];\n  if (!tpl) return null;\n  return tpl.replaceAll('{label}', label || 'This field');\n}\n\nexport function IFCDatepicker(props: IFCDatepickerProps) {\n  const {\n    label = '',\n    placeholder = '',\n    format = 'dd/MM/yyyy',\n    panelPosition = 'bottom left',\n    value = null,\n    onChanged = noop,\n    disabled = false,\n\n    required = false,\n    invalid = false,\n\n    errorMessage,\n    errorKey = 'required',\n\n    className,\n    ...rest\n  } = props;\n\n  const hostRef = useRef<HTMLElement | null>(null);\n\n  const resolvedErrorText = useMemo(() => {\n    if (!invalid) return null;\n\n    return (\n      resolveErrorMessage(label || 'This field', errorKey, errorMessage) ??\n      `${label || 'This field'} is invalid`\n    );\n  }, [invalid, label, errorKey, errorMessage]);\n\n  const focusInnerDatepicker = () => {\n    if (disabled) return;\n    const input = hostRef.current?.querySelector?.(\n      'i-datepicker i-input input'\n    ) as HTMLInputElement | null;\n    input?.focus();\n  };\n\n  return (\n    <i-fc-datepicker\n      ref={(el) => {\n        hostRef.current = el as any;\n      }}\n      className={className}\n      {...rest}>\n      {label ? (\n        <label\n          className=\"i-fc-datepicker__label\"\n          onClick={focusInnerDatepicker}>\n          {label} :{' '}\n          {required ? (\n            <span className=\"i-fc-datepicker__required\">*</span>\n          ) : null}\n        </label>\n      ) : null}\n\n      <IDatepicker\n        disabled={disabled}\n        format={format}\n        invalid={invalid}\n        panelPosition={panelPosition}\n        placeholder={placeholder}\n        value={value}\n        onChanged={onChanged}\n      />\n\n      {invalid && resolvedErrorText ? (\n        <div className=\"i-fc-datepicker__error\">{resolvedErrorText}</div>\n      ) : null}\n    </i-fc-datepicker>\n  );\n}\n","import React, { useCallback, useMemo, useRef } from 'react';\nimport type { IFormControlErrorMessage } from '../shared';\n\nfunction resolveErrorMessage(\n  label: string,\n  errorKey: string,\n  errorMessage?: IFormControlErrorMessage\n): string | null {\n  const tpl = errorMessage?.[errorKey];\n  if (!tpl) return null;\n  return tpl.replaceAll('{label}', label || 'This field');\n}\n\n/* =========================\n * ITextArea\n * ========================= */\n\nexport type ITextAreaProps = Omit<\n  React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n  'value' | 'defaultValue' | 'onChange' | 'readOnly'\n> & {\n  value?: string; // Angular allows null; React uses empty string as default\n  invalid?: boolean;\n\n  disabled?: boolean;\n  readonly?: boolean;\n\n  rows?: number;\n  placeholder?: string;\n\n  onChange?: (value: string) => void;\n};\n\nexport function ITextArea(props: ITextAreaProps) {\n  const {\n    value = '',\n    invalid = false,\n\n    disabled = false,\n    readonly = false,\n\n    rows = 3,\n    placeholder = '',\n\n    onChange,\n    ...rest\n  } = props;\n\n  const textareaRef = useRef<HTMLTextAreaElement | null>(null);\n\n  // Angular parity: click anywhere on <i-textarea> focuses the inner textarea\n  const handleHostClick = useCallback(() => {\n    if (!disabled) {\n      textareaRef.current?.focus();\n    }\n  }, [disabled]);\n\n  return (\n    <i-textarea onClick={handleHostClick}>\n      <textarea\n        {...rest}\n        ref={textareaRef}\n        aria-invalid={invalid ? 'true' : undefined}\n        disabled={disabled}\n        readOnly={readonly}\n        rows={rows}\n        placeholder={placeholder}\n        value={value}\n        onChange={(e) => onChange?.(e.currentTarget.value)}\n      />\n    </i-textarea>\n  );\n}\n\n/* =========================\n * IFCTextArea\n * ========================= */\n\nexport type IFCTextAreaProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'onChange'\n> & {\n  // UI inputs (match Angular)\n  label?: string;\n  placeholder?: string;\n  readonly?: boolean;\n  rows?: number;\n  errorMessage?: IFormControlErrorMessage;\n\n  // Value (React-controlled)\n  value?: string;\n  onChange?: (value: string) => void;\n\n  /**\n   * React-only adapters (Angular derives these from NgControl/FormGroupDirective):\n   * Keep optional so React users can integrate with any form lib.\n   */\n  disabled?: boolean;\n  invalid?: boolean;\n  required?: boolean;\n\n  /** maps to errorMessage[errorKey]; Angular resolves by control error keys */\n  errorKey?: string;\n};\n\nexport function IFCTextArea(props: IFCTextAreaProps) {\n  const {\n    label = '',\n    placeholder = '',\n    readonly = false,\n    rows = 3,\n    errorMessage,\n\n    value = '',\n    onChange,\n\n    disabled = false,\n    invalid = false,\n    required = false,\n\n    errorKey = 'required',\n\n    ...hostProps\n  } = props;\n\n  const resolvedErrorText = useMemo(() => {\n    if (!invalid) return null;\n\n    return (\n      resolveErrorMessage(label || 'This field', errorKey, errorMessage) ??\n      `${label || 'This field'} is invalid`\n    );\n  }, [invalid, label, errorKey, errorMessage]);\n\n  return (\n    <i-fc-textarea {...hostProps}>\n      {label ? (\n        <label className=\"i-fc-textarea__label\">\n          {label} :{' '}\n          {required ? <span className=\"i-fc-textarea__required\">*</span> : null}\n        </label>\n      ) : null}\n\n      <ITextArea\n        placeholder={placeholder}\n        readonly={readonly}\n        rows={rows}\n        value={value}\n        invalid={invalid}\n        disabled={disabled}\n        onChange={(v) => onChange?.(v)}\n      />\n\n      {invalid && resolvedErrorText ? (\n        <div className=\"i-fc-textarea__error\">{resolvedErrorText}</div>\n      ) : null}\n    </i-fc-textarea>\n  );\n}\n","// dialog.tsx (React)  full updated file (visible removed from action types)\nimport React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n  type ReactNode,\n} from 'react';\nimport { IButton, type IButtonVariant } from '../button/button';\nimport { IIcon, type IIconName } from '../icon/icon';\nimport { IFCTextArea } from '../textarea/textarea';\n\n/* =========================================================\n * Types (matches Angular)\n * ========================================================= */\n\nexport type IDialogConfig<TData = any> = {\n  id?: string;\n  data?: TData;\n  width?: string;\n  height?: string;\n  disableClose?: boolean; // ignore ESC/backdrop\n  backdropClose?: boolean; // allow click backdrop to close\n};\n\nexport type IAlertData = {\n  title: string;\n  description: string;\n  type: 'information' | 'success' | 'warning' | 'danger';\n};\n\nexport type IConfirmData = {\n  title: string;\n  description: string;\n  type: 'information' | 'success' | 'warning' | 'danger';\n  reason?: boolean;\n};\n\ntype Listener<T> = (value: T) => void;\n\nexport class IDialogRef<TResult = any> {\n  private _closed = false;\n  private _result: TResult | undefined = undefined;\n  private _listeners = new Set<Listener<TResult | undefined>>();\n  private _resolve!: (v: TResult | undefined) => void;\n  private _promise: Promise<TResult | undefined>;\n\n  constructor() {\n    this._promise = new Promise<TResult | undefined>((resolve) => {\n      this._resolve = resolve;\n    });\n  }\n\n  close(result?: TResult): void {\n    if (this._closed) return;\n    this._closed = true;\n    this._result = result;\n\n    for (const l of this._listeners) l(this._result);\n    this._listeners.clear();\n\n    this._resolve(this._result);\n  }\n\n  /** Promise style */\n  afterClosed(): Promise<TResult | undefined> {\n    return this._promise;\n  }\n\n  /** Observable-like subscribe (no rxjs dependency) */\n  subscribe(cb: Listener<TResult | undefined>): () => void {\n    if (this._closed) {\n      cb(this._result);\n      return () => {};\n    }\n    this._listeners.add(cb);\n    return () => this._listeners.delete(cb);\n  }\n}\n\nexport type IDialogInstance<TData = any, TResult = any> = {\n  id: string;\n  component: React.ComponentType<any>;\n  config: Required<IDialogConfig<TData>>;\n  ref: IDialogRef<TResult>;\n};\n\n/* =========================================================\n * Provider (service state)\n * ========================================================= */\n\nlet DIALOG_ID_COUNTER = 0;\n\ntype DialogApi = {\n  dialogs: IDialogInstance[];\n  open: <TData = any, TResult = any>(\n    component: React.ComponentType<any>,\n    config?: IDialogConfig<TData>\n  ) => IDialogRef<TResult>;\n  closeById: (id: string, result?: any) => void;\n  closeAll: () => void;\n};\n\nconst DialogContext = createContext<DialogApi | null>(null);\n\ntype DialogInstanceContextValue = {\n  data: any;\n  dialogRef: IDialogRef<any>;\n};\n\nconst DialogInstanceContext = createContext<DialogInstanceContextValue | null>(\n  null\n);\n\nexport function useIDialog(): DialogApi {\n  const ctx = useContext(DialogContext);\n  if (!ctx)\n    throw new Error('useIDialog() must be used inside <IDialogProvider>.');\n  return ctx;\n}\n\n/** React equivalent to inject(I_DIALOG_DATA) */\nexport function useDialogData<T = any>(): T {\n  const ctx = useContext(DialogInstanceContext);\n  return (ctx?.data ?? undefined) as T;\n}\n\n/** React equivalent to inject(IDialogRef) */\nexport function useDialogRef<TResult = any>(): IDialogRef<TResult> {\n  const ctx = useContext(DialogInstanceContext);\n  if (!ctx?.dialogRef) {\n    throw new Error('useDialogRef() must be used inside a dialog component.');\n  }\n  return ctx.dialogRef as IDialogRef<TResult>;\n}\n\n/** Optional version (lets <IDialog> be used outside the service too) */\nfunction useOptionalDialogRef<TResult = any>(): IDialogRef<TResult> | null {\n  const ctx = useContext(DialogInstanceContext);\n  return (ctx?.dialogRef ?? null) as IDialogRef<TResult> | null;\n}\n\nexport type IDialogProviderProps = {\n  children?: ReactNode;\n};\n\nexport function IDialogProvider(props: IDialogProviderProps) {\n  const { children } = props;\n  const [dialogs, setDialogs] = useState<IDialogInstance[]>([]);\n\n  const open: DialogApi['open'] = useCallback((component, config = {}) => {\n    const id = config.id ?? `i-dialog-${++DIALOG_ID_COUNTER}`;\n    const ref = new IDialogRef<any>();\n\n    const instance: IDialogInstance<any, any> = {\n      id,\n      component,\n      config: {\n        width: config.width ?? 'auto',\n        height: config.height ?? 'auto',\n        disableClose: config.disableClose ?? false,\n        backdropClose: config.backdropClose ?? true,\n        data: (config.data as any) ?? (undefined as any),\n        id,\n      },\n      ref,\n    };\n\n    setDialogs((prev) => [...prev, instance]);\n\n    ref.subscribe(() => {\n      setDialogs((prev) => prev.filter((d) => d.id !== id));\n    });\n\n    return ref as IDialogRef<any>;\n  }, []);\n\n  const closeById = useCallback(\n    (id: string, result?: any) => {\n      const inst = dialogs.find((d) => d.id === id);\n      inst?.ref.close(result);\n    },\n    [dialogs]\n  );\n\n  const closeAll = useCallback(() => {\n    dialogs.forEach((d) => d.ref.close(undefined));\n  }, [dialogs]);\n\n  const api = useMemo<DialogApi>(\n    () => ({ dialogs, open, closeById, closeAll }),\n    [dialogs, open, closeById, closeAll]\n  );\n\n  return (\n    <DialogContext.Provider value={api}>{children}</DialogContext.Provider>\n  );\n}\n\n/* =========================================================\n * Outlet + Container (Angular-like)\n * ========================================================= */\n\ntype IDialogContainerProps = {\n  instance: IDialogInstance;\n  isTopMost: boolean;\n};\n\nfunction IDialogContainer(props: IDialogContainerProps) {\n  const { instance, isTopMost } = props;\n  const { width, height, disableClose, backdropClose } = instance.config;\n\n  const onEsc = useCallback(\n    (e: KeyboardEvent) => {\n      if (!isTopMost) return;\n      if (e.key !== 'Escape') return;\n      if (disableClose) return;\n      instance.ref.close(undefined);\n    },\n    [isTopMost, disableClose, instance.ref]\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', onEsc, true);\n    return () => document.removeEventListener('keydown', onEsc, true);\n  }, [onEsc]);\n\n  const onBackdropClick = (e: React.MouseEvent) => {\n    if (!isTopMost) return;\n    if (disableClose) return;\n    if (!backdropClose) return;\n\n    e.preventDefault();\n    instance.ref.close(undefined);\n  };\n\n  const panelStyles: React.CSSProperties = {\n    width: width || undefined,\n    height: height || undefined,\n  };\n\n  const Comp = instance.component;\n\n  return (\n    <i-dialog-container data-dialog-id={instance.id}>\n      <div className=\"i-dialog-backdrop\" onClick={onBackdropClick} />\n      <div className=\"i-dialog-wrapper\">\n        <div className=\"i-dialog-panel\" style={panelStyles}>\n          <DialogInstanceContext.Provider\n            value={{ data: instance.config.data, dialogRef: instance.ref }}>\n            <Comp />\n          </DialogInstanceContext.Provider>\n        </div>\n      </div>\n    </i-dialog-container>\n  );\n}\n\n/** Put this once near app root (Option A) */\nexport function IDialogOutlet() {\n  const { dialogs } = useIDialog();\n\n  return (\n    <i-dialog-outlet>\n      {dialogs.map((dialog, idx) => {\n        const last = idx === dialogs.length - 1;\n        return (\n          <IDialogContainer\n            key={dialog.id}\n            instance={dialog}\n            isTopMost={last}\n          />\n        );\n      })}\n    </i-dialog-outlet>\n  );\n}\n\n/* =========================================================\n * i-dialog-close replacement\n * ========================================================= */\n\nexport type IDialogCloseProps = {\n  result?: any;\n  children?: ReactNode;\n  className?: string;\n};\n\nexport function IDialogClose(props: IDialogCloseProps) {\n  const { result, children, className } = props;\n  const ref = useDialogRef<any>();\n\n  return (\n    <span\n      className={className}\n      onClick={(e) => {\n        e.preventDefault();\n        ref.close(result);\n      }}>\n      {children}\n    </span>\n  );\n}\n\n/* =========================================================\n * Public <IDialog> (title + actions)  mirrors Angular\n * ========================================================= */\n\nexport type IDialogActionTypes = {\n  type: 'cancel' | 'save' | 'ok' | 'confirm' | 'custom';\n};\nexport type IDialogActionType = IDialogActionTypes['type'];\n\nexport type IDialogActionCancel = {\n  type: 'cancel';\n  className?: string;\n};\n\nexport type IDialogActionSave = {\n  type: 'save';\n  className?: string;\n};\n\nexport type IDialogActionOK = {\n  type: 'ok';\n  className?: string;\n};\n\nexport type IDialogActionConfirm = {\n  type: 'confirm';\n  className?: string;\n};\n\nexport type IDialogActionCustom = {\n  type: 'custom';\n  label: string;\n  variant?: IButtonVariant;\n  icon?: IIconName | string;\n  className?: string;\n  onClick?: () => void;\n};\n\nexport type IDialogActionObject =\n  | IDialogActionCancel\n  | IDialogActionSave\n  | IDialogActionOK\n  | IDialogActionConfirm\n  | IDialogActionCustom;\n\nexport type DialogAction = IDialogActionType | IDialogActionObject;\n\nexport type IDialogProps = React.HTMLAttributes<HTMLElement> & {\n  title?: string;\n  actions?: DialogAction[];\n\n  /** on* prefix (matches Angular Outputs) */\n  onOk?: (value?: any) => void;\n  onConfirm?: (value?: any) => void;\n  onSave?: (value?: any) => void;\n  onCustomAction?: (action: IDialogActionObject) => void;\n\n  children?: ReactNode;\n};\n\nfunction normalizeActions(\n  actions: DialogAction[] | undefined\n): IDialogActionObject[] {\n  return (actions ?? ['save', 'cancel']).map((a) =>\n    typeof a === 'string' ? ({ type: a } as IDialogActionObject) : a\n  );\n}\n\nexport function IDialog(props: IDialogProps) {\n  const {\n    title,\n    actions = ['save', 'cancel'],\n\n    onOk,\n    onConfirm,\n    onSave,\n    onCustomAction,\n\n    children,\n    ...rest\n  } = props;\n\n  //  safe: if used outside dialog context, cancel just no-ops\n  const dialogRef = useOptionalDialogRef<any>();\n\n  const normalized = useMemo(() => normalizeActions(actions), [actions]);\n\n  const saveAction = normalized.find((a) => a.type === 'save') as\n    | IDialogActionSave\n    | undefined;\n  const okAction = normalized.find((a) => a.type === 'ok') as\n    | IDialogActionOK\n    | undefined;\n  const confirmAction = normalized.find((a) => a.type === 'confirm') as\n    | IDialogActionConfirm\n    | undefined;\n  const cancelAction = normalized.find((a) => a.type === 'cancel') as\n    | IDialogActionCancel\n    | undefined;\n\n  const customActions = normalized.filter(\n    (a) => a.type === 'custom'\n  ) as IDialogActionCustom[];\n\n  // Angular renders actions block if actions.length > 0\n  const hasActionsBlock = (actions ?? []).length > 0;\n\n  const hasBuiltInActions = !!(\n    okAction ||\n    confirmAction ||\n    saveAction ||\n    cancelAction\n  );\n\n  return (\n    <i-dialog {...rest}>\n      {title ? <h4 className=\"i-dialog-title\">{title}</h4> : null}\n\n      <div className=\"i-dialog-content\">{children}</div>\n\n      {hasActionsBlock ? (\n        <div className=\"i-dialog-actions\">\n          {customActions.length > 0\n            ? customActions.map((a, idx) => (\n                <IButton\n                  key={idx}\n                  icon={a.icon as any}\n                  className={a.className}\n                  variant={a.variant || 'primary'}\n                  onClick={() => {\n                    // Angular: only emits onCustomAction (does NOT call a.onClick)\n                    onCustomAction?.(a);\n                  }}>\n                  {a.label}\n                </IButton>\n              ))\n            : null}\n\n          {hasBuiltInActions && customActions.length > 0 ? (\n            <span className=\"flex-fill\" />\n          ) : null}\n\n          {okAction ? (\n            <IButton\n              icon=\"check\"\n              variant=\"primary\"\n              className={okAction.className}\n              onClick={() => onOk?.()}>\n              OK\n            </IButton>\n          ) : null}\n\n          {confirmAction ? (\n            <IButton\n              icon=\"save\"\n              variant=\"primary\"\n              className={confirmAction.className}\n              onClick={() => onConfirm?.()}>\n              Confirm\n            </IButton>\n          ) : null}\n\n          {saveAction ? (\n            <IButton\n              icon=\"save\"\n              variant=\"primary\"\n              className={saveAction.className}\n              onClick={() => onSave?.()}>\n              Save\n            </IButton>\n          ) : null}\n\n          {cancelAction ? (\n            <IButton\n              icon=\"cancel\"\n              variant=\"danger\"\n              className={cancelAction.className}\n              onClick={(e) => {\n                e.preventDefault();\n                dialogRef?.close(undefined); // Angular closes with undefined\n              }}>\n              Cancel\n            </IButton>\n          ) : null}\n        </div>\n      ) : null}\n    </i-dialog>\n  );\n}\n\n/* =========================================================\n * ALERT (React port)\n * ========================================================= */\n\nexport function IAlert() {\n  const data = useDialogData<IAlertData>();\n  const dialog = useDialogRef<boolean>();\n\n  const alertClass = `i-alert i-alert-${data.type}`;\n\n  return (\n    <IDialog\n      className={alertClass}\n      actions={[{ type: 'ok', className: 'w-full' }]}\n      onOk={() => dialog.close(true)}>\n      {data.type === 'information' ? <IIcon icon=\"info\" size=\"3xl\" /> : null}\n      {data.type === 'success' ? (\n        <IIcon icon=\"check-circle\" size=\"3xl\" />\n      ) : null}\n      {data.type === 'warning' ? <IIcon icon=\"exclamation\" size=\"3xl\" /> : null}\n      {data.type === 'danger' ? <IIcon icon=\"x-circle\" size=\"3xl\" /> : null}\n\n      <h4>{data.title}</h4>\n      <p dangerouslySetInnerHTML={{ __html: data.description }} />\n    </IDialog>\n  );\n}\n\nexport function useIAlertService() {\n  const dialog = useIDialog();\n\n  const show = useCallback(\n    async (data: IAlertData) => {\n      const ref = dialog.open<IAlertData, boolean>(IAlert, {\n        width: '',\n        data,\n        disableClose: true,\n      });\n      const result = await ref.afterClosed();\n      return !!result;\n    },\n    [dialog]\n  );\n\n  return useMemo(\n    () => ({\n      show,\n      information: (title: string, description: string) =>\n        show({ title, description, type: 'information' }),\n      success: (title: string, description: string) =>\n        show({ title, description, type: 'success' }),\n      warning: (title: string, description: string) =>\n        show({ title, description, type: 'warning' }),\n      danger: (title: string, description: string) =>\n        show({ title, description, type: 'danger' }),\n    }),\n    [show]\n  );\n}\n\n/* =========================================================\n * CONFIRM (React port)\n * ========================================================= */\n\nexport function IConfirm() {\n  const data = useDialogData<IConfirmData>();\n  const dialog = useDialogRef<any>();\n\n  const [reason, setReason] = useState<string>('');\n  const [invalid, setInvalid] = useState(false);\n\n  const confirmClass = `i-confirm i-confirm-${data.type}`;\n\n  const submit = () => {\n    if (data.reason) {\n      const ok = !!reason.trim();\n      setInvalid(!ok);\n      if (!ok) return;\n      dialog.close(reason);\n      return;\n    }\n    dialog.close(true);\n  };\n\n  return (\n    <IDialog\n      className={confirmClass}\n      actions={[\n        { type: 'confirm', className: 'w-104' },\n        { type: 'cancel', className: 'w-104' },\n      ]}\n      onConfirm={submit}>\n      {data.type === 'information' ? <IIcon icon=\"info\" size=\"3xl\" /> : null}\n      {data.type === 'success' ? (\n        <IIcon icon=\"check-circle\" size=\"3xl\" />\n      ) : null}\n      {data.type === 'warning' ? <IIcon icon=\"exclamation\" size=\"3xl\" /> : null}\n      {data.type === 'danger' ? <IIcon icon=\"x-circle\" size=\"3xl\" /> : null}\n\n      <h4>{data.title}</h4>\n      <p dangerouslySetInnerHTML={{ __html: data.description }} />\n\n      {data.reason ? (\n        <form\n          className=\"mt-xs\"\n          onSubmit={(e) => {\n            e.preventDefault();\n            submit();\n          }}>\n          <IFCTextArea\n            label=\"Reason\"\n            placeholder=\"Fill your reason here..\"\n            value={reason}\n            onChange={(v) => {\n              setReason(v);\n              if (invalid) setInvalid(false);\n            }}\n            invalid={invalid}\n            errorMessage={{ required: 'Please fill in the reason..' }}\n            errorKey=\"required\"\n          />\n          <button className=\"hidden\" type=\"submit\">\n            Submit\n          </button>\n        </form>\n      ) : null}\n    </IDialog>\n  );\n}\n\nexport function useIConfirmService() {\n  const dialog = useIDialog();\n\n  const show = useCallback(\n    async (data: IConfirmData) => {\n      const ref = dialog.open<IConfirmData, any>(IConfirm, {\n        width: '',\n        data,\n      });\n      return ref.afterClosed();\n    },\n    [dialog]\n  );\n\n  return useMemo(\n    () => ({\n      show,\n      information: async (title: string, description: string) => {\n        const r = await show({ title, description, type: 'information' });\n        return !!r;\n      },\n      success: async (title: string, description: string) => {\n        const r = await show({ title, description, type: 'success' });\n        return !!r;\n      },\n      warning: (title: string, description: string, reason?: boolean) =>\n        show({ title, description, type: 'warning', reason }),\n      danger: (title: string, description: string, reason?: boolean) =>\n        show({ title, description, type: 'danger', reason }),\n    }),\n    [show]\n  );\n}\n\n/** DONT REMOVE THIS, ITS FOR REMINDER\n  <IDialogProvider>\n    <App />\n    <IDialogOutlet />\n  </IDialogProvider>\n*/\n","/* paginator.tsx */\n/**\n * IPaginator (React)\n * Matches Angular behavior:\n * - page size buttons\n * - numeric pages with ellipsis\n * - emits pageChange with { pageIndex, pageSize }\n */\n\nimport { useMemo } from 'react';\nimport { IButton } from '../button/button';\n\nexport type IPaginatorState = {\n  pageIndex: number;\n  pageSize: number;\n};\n\ntype IPaginatorItem =\n  | { type: 'page'; pageIndex: number; label: string; active: boolean }\n  | { type: 'ellipsis'; key: string };\n\nexport type IPaginatorProps = {\n  length: number;\n  pageIndex: number; // 0-based\n  pageSize: number;\n  pageSizeOptions: number[];\n  onPageChange: (state: IPaginatorState) => void;\n};\n\nexport function IPaginator(props: IPaginatorProps) {\n  const { length, pageIndex, pageSize, pageSizeOptions, onPageChange } = props;\n\n  const maxVisiblePages = 6;\n\n  const pageCount = Math.max(1, Math.ceil(length / pageSize));\n\n  const pageItems: IPaginatorItem[] = useMemo(() => {\n    const total = pageCount;\n    const current = pageIndex + 1; // 1-based\n    const last = total;\n\n    const range = (from: number, to: number) => {\n      const out: number[] = [];\n      for (let i = from; i <= to; i++) out.push(i);\n      return out;\n    };\n\n    const pageItem = (pageNumber1Based: number): IPaginatorItem => {\n      const idx = pageNumber1Based - 1;\n      return {\n        type: 'page',\n        pageIndex: idx,\n        label: String(pageNumber1Based),\n        active: pageNumber1Based === current,\n      };\n    };\n\n    if (total <= maxVisiblePages) {\n      return range(1, last).map(pageItem);\n    }\n\n    if (current <= 4) {\n      return [\n        ...range(1, 5).map(pageItem),\n        { type: 'ellipsis', key: 'e-end' },\n        pageItem(last),\n      ];\n    }\n\n    if (current >= last - 3) {\n      const start = last - 4;\n      return [\n        pageItem(1),\n        { type: 'ellipsis', key: 'e-start' },\n        ...range(start, last).map(pageItem),\n      ];\n    }\n\n    const midStart = current - 2;\n    const midEnd = current + 1;\n\n    return [\n      pageItem(1),\n      { type: 'ellipsis', key: 'e-start' },\n      ...range(midStart, midEnd).map(pageItem),\n      { type: 'ellipsis', key: 'e-end' },\n      pageItem(last),\n    ];\n  }, [pageCount, pageIndex]);\n\n  const emit = (nextIndex: number, nextSize: number) => {\n    const maxIndex = pageCount - 1;\n    const clampedIndex = Math.max(0, Math.min(maxIndex, nextIndex));\n    onPageChange({ pageIndex: clampedIndex, pageSize: nextSize });\n  };\n\n  const goToPage = (idx: number) => {\n    if (idx === pageIndex) return;\n    emit(idx, pageSize);\n  };\n\n  const changePageSize = (size: number) => {\n    const newSize = Number(size);\n    if (!Number.isFinite(newSize) || newSize <= 0) return;\n\n    const oldSize = pageSize;\n    const firstItemIndex = pageIndex * oldSize;\n\n    const nextIndex = Math.floor(firstItemIndex / newSize);\n    emit(nextIndex, newSize);\n  };\n\n  return (\n    <i-paginator className=\"i-paginator\">\n      <div className=\"i-paginator flex align-center gap-md flex-fill\">\n        {/* Page size */}\n        {pageSizeOptions.map((size) => (\n          <IButton\n            key={size}\n            size=\"sm\"\n            disabled={pageSize === size}\n            onClick={() => changePageSize(size)}>\n            {size}\n          </IButton>\n        ))}\n\n        <span className=\"flex-fill\" />\n\n        <p>\n          Page {pageIndex + 1} of {pageCount} ({length} row\n          {length > 1 ? 's' : ''})\n        </p>\n\n        {pageCount > 1 ? (\n          <div className=\"i-paginator-pages flex align-center gap-xs\">\n            {pageItems.map((item) => {\n              if (item.type === 'ellipsis') {\n                return (\n                  <span\n                    key={item.key}\n                    aria-hidden=\"true\"\n                    className=\"i-paginator-ellipsis\">\n                    ...\n                  </span>\n                );\n              }\n\n              return (\n                <IButton\n                  key={`p-${item.pageIndex}`}\n                  size=\"sm\"\n                  disabled={item.active}\n                  onClick={() => goToPage(item.pageIndex)}>\n                  {item.label}\n                </IButton>\n              );\n            })}\n          </div>\n        ) : null}\n      </div>\n    </i-paginator>\n  );\n}\n","import type {\n  IErrorContext,\n  IErrors,\n  IFormControlErrorMessage,\n} from './form.types';\n\ntype MinMaxLengthError = { requiredLength: number; actualLength: number };\n\n// ---------- type guards ----------\nexport function isRecord(v: unknown): v is Record<string, unknown> {\n  return typeof v === 'object' && v !== null;\n}\n\nexport function hasNumber(\n  obj: Record<string, unknown>,\n  key: string\n): obj is Record<string, unknown> & Record<string, number> {\n  return typeof obj[key] === 'number';\n}\n\nexport function asMinMaxLengthError(err: unknown): MinMaxLengthError | null {\n  if (!isRecord(err)) return null;\n  if (!hasNumber(err, 'requiredLength')) return null;\n  if (!hasNumber(err, 'actualLength')) return null;\n  return { requiredLength: err.requiredLength, actualLength: err.actualLength };\n}\n\nexport function readNumber(err: unknown, key: 'min' | 'max'): number | null {\n  if (!isRecord(err)) return null;\n  const v = err[key];\n  return typeof v === 'number' ? v : null;\n}\n\n// ---------- defaults ----------\nexport const DEFAULT_ERROR_FACTORIES: Record<\n  string,\n  (ctx: IErrorContext) => string\n> = {\n  required: ({ label }) => `${label || 'This field'} is required.`,\n  requiredTrue: ({ label }) => `Please confirm ${label || 'this field'}.`,\n\n  minlength: ({ label, error }) => {\n    const e = asMinMaxLengthError(error);\n    if (!e) return `${label || 'This field'} is too short.`;\n    return `${label || 'This field'} must be at least ${e.requiredLength} characters (currently ${e.actualLength}).`;\n  },\n\n  maxlength: ({ label, error }) => {\n    const e = asMinMaxLengthError(error);\n    if (!e) return `${label || 'This field'} is too long.`;\n    return `${label || 'This field'} must be at most ${e.requiredLength} characters (currently ${e.actualLength}).`;\n  },\n\n  pattern: ({ label }) => `${label || 'This field'} format is invalid.`,\n  email: ({ label }) => `Please enter a valid ${label || 'email'}.`,\n\n  min: ({ label, error }) => {\n    const min = readNumber(error, 'min');\n    return min === null\n      ? `${label || 'This field'} is too small.`\n      : `${label || 'This field'} must be  ${min}.`;\n  },\n\n  max: ({ label, error }) => {\n    const max = readNumber(error, 'max');\n    return max === null\n      ? `${label || 'This field'} is too large.`\n      : `${label || 'This field'} must be  ${max}.`;\n  },\n};\n\nexport type ResolveControlErrorMessageArgs = {\n  errors: IErrors | null | undefined;\n  label?: string;\n  errorMessage?: IFormControlErrorMessage;\n  extraFactories?: Record<string, (ctx: IErrorContext) => string>;\n  control?: unknown;\n};\n\nexport function resolveControlErrorMessage({\n  errors,\n  label,\n  errorMessage,\n  extraFactories = {},\n  control,\n}: ResolveControlErrorMessageArgs): string | null {\n  if (!errors) return null;\n\n  const keys = Object.keys(errors);\n  if (keys.length === 0) return null;\n\n  const key = keys[0];\n  const err = errors[key];\n  const trimmedLabel = (label || '').trim();\n\n  const ctx: IErrorContext = {\n    label: trimmedLabel,\n    error: err,\n    control,\n  };\n\n  // 1) custom template via errorMessage\n  const customTpl = errorMessage?.[key];\n  if (customTpl) {\n    return interpolate(customTpl, ctx);\n  }\n\n  // 2) factory\n  const factories = { ...DEFAULT_ERROR_FACTORIES, ...extraFactories };\n  const factory = factories[key];\n  if (factory) return factory(ctx);\n\n  // 3) fallback\n  return `${trimmedLabel || 'This field'} is invalid.`;\n}\n\nexport function isControlRequired(args: {\n  errors?: IErrors | null;\n  errorMessage?: IFormControlErrorMessage;\n}): boolean {\n  const { errors, errorMessage } = args;\n  const hasCustomRequired = !!errorMessage?.required;\n  const hasRequiredError = !!errors?.required;\n  return hasCustomRequired || hasRequiredError;\n}\n\nexport function interpolate(tpl: string, ctx: IErrorContext): string {\n  const err = isRecord(ctx.error) ? ctx.error : {};\n\n  const map: Record<string, unknown> = {\n    label: ctx.label || 'This field',\n    requiredLength:\n      typeof err.requiredLength === 'number' ? err.requiredLength : undefined,\n    actualLength:\n      typeof err.actualLength === 'number' ? err.actualLength : undefined,\n    min: typeof err.min === 'number' ? err.min : undefined,\n    max: typeof err.max === 'number' ? err.max : undefined,\n    ...err,\n  };\n\n  return tpl.replace(/\\{(\\w+)\\}/g, (_match, key: string) => {\n    const v = map[key];\n    return v === undefined || v === null ? `{${key}}` : String(v);\n  });\n}\n","/* grid.tsx */\n/**\n * IGrid (React)\n * - Renders tags similar to Angular version:\n *   i-grid, i-grid-viewport, i-grid-header-row, i-grid-header-cell, i-grid-cell, i-grid-row, etc.\n *\n * IMPORTANT:\n * - Uses your React IButton (not native button)\n * - Custom tags are just semantic/styling hooks (not Web Components)\n * - Column config components behave like Angular: sortable/resizable/freeze are OPTIONAL with defaults\n *\n * Version: 1.24.0-ish parity (group header + tree + selection + expandable rows + paginator)\n *\n *  Updated (Angular-close frozen/z-index/sticky logic):\n * - HeaderCell/Cell behave like Angular IGridHeaderCell/IGridCell:\n *   - If `col` exists, frozen/stickyLeft/zIndex are derived internally via grid helpers.\n *   - Call-sites no longer manually compute frozen props for normal columns.\n * - Special expand/selection/number columns still pass explicit stickyLeft like Angular template does.\n *\n *  FIXED (Angular-close column order with ColumnGroup):\n * - Column parsing now preserves the exact JSX order:\n *   <IGridColumn/> , <IGridColumnGroup/> , <IGridCustomColumn/> ... in-place\n * - No more collect direct columns first, then groups later (which caused your order flip).\n */\n\nimport React, {\n  Children,\n  type ReactElement,\n  type ReactNode,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { IButton } from '../button/button';\nimport { IIcon } from '../icon/icon';\nimport { IPaginator } from './paginator';\n\n/* ----------------------------------------------------\n * SELECTION TYPES\n * ---------------------------------------------------- */\n\nexport type IGridSelectionMode = false | 'single' | 'multiple';\n\nexport type IGridSelectionChange<T = any> = {\n  selected: T[];\n  lastChanged: T | null;\n};\n\n/* ----------------------------------------------------\n * COLUMN WIDTH TYPES\n * ---------------------------------------------------- */\n\nexport type IGridColumnWidth = number | 'fill';\n\n/* ----------------------------------------------------\n * COLUMN-LIKE (internal strict model)\n * ---------------------------------------------------- */\n\nexport type IGridColumnLike<T = any> = {\n  fieldName?: string;\n  title: string;\n\n  sortable: boolean;\n  resizable: boolean;\n  freeze: boolean;\n\n  width?: IGridColumnWidth;\n\n  headerDef?: (col: IGridColumnLike<T>) => ReactNode;\n\n  // allow both signatures:\n  cellDef?:\n    | ((row: T) => ReactNode)\n    | ((\n        row: T,\n        ctx: { row: T; index: number; column: IGridColumnLike<T> }\n      ) => ReactNode);\n\n  isAuto?: boolean;\n};\n\n/* ----------------------------------------------------\n * GROUP HEADER MODEL\n * ---------------------------------------------------- */\n\nexport type IGridHeaderItem<T = any> =\n  | { kind: 'col'; col: IGridColumnLike<T> }\n  | { kind: 'group'; title: string; columns: IGridColumnLike<T>[] };\n\nimport { isRecord } from '../shared';\n\nexport type ISortDirection = 'asc' | 'desc' | '';\n\nexport type ISortState = {\n  active: string;\n  direction: ISortDirection;\n};\n\nexport type ISortConfig = ISortState | ISortState[] | null;\n\nexport type IGridFilter =\n  | string\n  | {\n      recursive: true;\n      text: string;\n      key?: string; // children key\n    };\n\nexport type IGridPaginatorInput =\n  | false\n  | {\n      pageIndex?: number;\n      pageSize?: number;\n      pageSizeOptions?: number[];\n    };\n\n/**\n * NOTE:\n * No generic here because it's unused (fixes \"T is declared but never read\")\n * If you later want column-specific typed filter/sort accessors,\n * you can add generic usages in this config.\n */\nexport type IGridDataSourceConfig = {\n  sort?: ISortConfig;\n  filter?: IGridFilter;\n\n  /**\n   * paginator:\n   * - false  disabled\n   * - undefined/missing  enabled with defaults\n   * - { pageIndex?, pageSize?, pageSizeOptions? }  enabled + overridden\n   */\n  paginator?: IGridPaginatorInput;\n};\n\ntype Listener<T> = (rows: T[]) => void;\n\n/**  Sorting accessor must be comparable */\nexport type IGridSortAccessor<T> = (\n  data: T,\n  columnId: string\n) => string | number;\n\nexport class IGridDataSource<T = unknown> {\n  private _rawData: T[] = [];\n\n  // filter internal\n  private _filter = '';\n  private _recursive = false;\n  private _childrenKey = 'children';\n\n  // sort internal\n  private _sort: ISortState[] | null = null;\n\n  // paginator internal\n  private _paginatorEnabled = true;\n  private _pageIndex = 0;\n  private _pageSize = 10;\n  private _pageSizeOptions = [10, 50, 100];\n\n  // listeners\n  private _listeners = new Set<Listener<T>>();\n\n  constructor(initialData: T[] = [], config: IGridDataSourceConfig = {}) {\n    this._rawData = initialData || [];\n\n    // filter (uses setter to normalize)\n    if (config.filter !== null) {\n      this.filter = config.filter;\n    }\n\n    // sort\n    this._sort = this._normalizeSort(config.sort ?? null);\n\n    // paginator\n    this._applyPaginatorConfig(config.paginator);\n\n    this._emit();\n  }\n\n  /* ---------------- paginator config ---------------- */\n\n  private _applyPaginatorConfig(config: IGridPaginatorInput | undefined): void {\n    if (config === false) {\n      this._paginatorEnabled = false;\n      return;\n    }\n\n    // default: enabled\n    this._paginatorEnabled = true;\n\n    if (config && typeof config === 'object') {\n      this._pageIndex = config.pageIndex ?? 0;\n      this._pageSizeOptions = config.pageSizeOptions ?? this._pageSizeOptions;\n      this._pageSize = config.pageSize ?? this._pageSizeOptions[0];\n      return;\n    }\n\n    // paginator missing => defaults\n    this._pageIndex = 0;\n    this._pageSizeOptions = [10, 50, 100];\n    this._pageSize = 10;\n  }\n\n  get paginatorEnabled(): boolean {\n    return this._paginatorEnabled;\n  }\n\n  get pageIndex(): number {\n    return this._pageIndex;\n  }\n\n  get pageSize(): number {\n    return this._pageSize;\n  }\n\n  get pageSizeOptions(): number[] {\n    return this._pageSizeOptions;\n  }\n\n  set paginator(state: { pageIndex: number; pageSize: number } | null) {\n    if (!this._paginatorEnabled || !state) return;\n    this._pageIndex = state.pageIndex;\n    this._pageSize = state.pageSize;\n    this._emit();\n  }\n\n  get paginator(): { pageIndex: number; pageSize: number } | null {\n    if (!this._paginatorEnabled) return null;\n    return { pageIndex: this._pageIndex, pageSize: this._pageSize };\n  }\n\n  /* ---------------- data ---------------- */\n\n  get data(): T[] {\n    return this._rawData;\n  }\n\n  set data(value: T[]) {\n    this._rawData = value || [];\n    this._emit();\n  }\n\n  get length(): number {\n    return this._rawData.length;\n  }\n\n  /* ---------------- filter / sort ---------------- */\n\n  /**\n   * Smart filter:\n   * - string: normal flat filtering\n   * - { recursive: true, text, key? }: recursive tree filtering\n   */\n  set filter(value: IGridFilter | null | undefined) {\n    if (!value) {\n      this._filter = '';\n      this._recursive = false;\n      this._childrenKey = 'children';\n      this._emit();\n      return;\n    }\n\n    if (typeof value === 'string') {\n      this._filter = value.toLowerCase().trim();\n      this._recursive = false;\n      this._childrenKey = 'children';\n      this._emit();\n      return;\n    }\n\n    // object: recursive filter (tree mode)\n    this._filter = (value.text ?? '').toLowerCase().trim();\n    this._recursive = value.recursive === true;\n    this._childrenKey = (value.key || 'children').trim() || 'children';\n\n    this._emit();\n  }\n\n  /**\n   * Returns the current normalized filter text.\n   * (Always plain string, lowercased & trimmed.)\n   */\n  get filter(): string {\n    return this._filter;\n  }\n\n  get sort(): ISortState[] | null {\n    return this._sort;\n  }\n\n  set sort(value: ISortConfig) {\n    this._sort = this._normalizeSort(value);\n    this._emit();\n  }\n\n  // can be customized by consumer\n  filterPredicate: (data: T, filter: string) => boolean = (data, filter) => {\n    if (!filter) return true;\n\n    // JSON.stringify on unknown is OK (same behavior as Angular version)\n    const target = JSON.stringify(data).toLowerCase();\n    return target.includes(filter);\n  };\n\n  /**\n   *  must always return comparable primitive (string|number)\n   * Normalize:\n   * - non-record  ''\n   * - null/undefined  ''\n   * - string/number  itself\n   * - everything else  String(value)\n   */\n  sortAccessor: IGridSortAccessor<T> = (data, columnId) => {\n    if (!isRecord(data)) return '';\n\n    const v = data[columnId];\n\n    if (typeof v === 'string' || typeof v === 'number') return v;\n    if (v === null || v === undefined) return '';\n\n    // (optional) handle Date nicely\n    if (v instanceof Date) return v.getTime();\n\n    return String(v);\n  };\n\n  /* ---------------- connect ---------------- */\n\n  connect(listener: Listener<T>): () => void {\n    this._listeners.add(listener);\n\n    // immediate push (like BehaviorSubject)\n    listener(this._computeRendered());\n\n    return () => {\n      this._listeners.delete(listener);\n    };\n  }\n\n  disconnect(): void {\n    this._listeners.clear();\n  }\n\n  /* ---------------- internals ---------------- */\n\n  /** Basic row match using public filterPredicate */\n  private _rowMatchesFilter(data: T, filter: string): boolean {\n    if (!filter) return true;\n    return this.filterPredicate(data, filter);\n  }\n\n  private _filterRecursiveArray(nodes: unknown[], filter: string): unknown[] {\n    const result: unknown[] = [];\n\n    for (const node of nodes) {\n      const pruned = this._filterRecursiveNode(node, filter);\n      if (pruned !== null) result.push(pruned);\n    }\n\n    return result;\n  }\n\n  private _filterRecursiveNode(node: unknown, filter: string): unknown | null {\n    if (!isRecord(node)) {\n      // if node isn't an object, treat it like a leaf\n      const selfMatches = this._rowMatchesFilter(node as T, filter);\n      return selfMatches ? node : null;\n    }\n\n    const rawChildren = node[this._childrenKey];\n    const children = Array.isArray(rawChildren) ? rawChildren : [];\n\n    const filteredChildren = this._filterRecursiveArray(children, filter);\n    const selfMatches = this._rowMatchesFilter(node as T, filter);\n\n    if (!selfMatches && filteredChildren.length === 0) {\n      return null;\n    }\n\n    const clone: Record<string, unknown> = { ...node };\n\n    if (filteredChildren.length) {\n      clone[this._childrenKey] = filteredChildren;\n    } else {\n      if (Object.prototype.hasOwnProperty.call(clone, this._childrenKey)) {\n        delete clone[this._childrenKey];\n      }\n    }\n\n    return clone;\n  }\n\n  private _normalizeSort(sort: ISortConfig): ISortState[] | null {\n    if (!sort) return null;\n\n    const arr: ISortState[] = Array.isArray(sort) ? sort : [sort];\n\n    const cleaned = arr.filter(\n      (s): s is ISortState =>\n        !!s &&\n        typeof s.active === 'string' &&\n        (s.direction === 'asc' || s.direction === 'desc')\n    );\n\n    return cleaned.length ? cleaned : null;\n  }\n\n  private _computeRendered(): T[] {\n    let data: T[] = [...this._rawData];\n\n    // FILTER\n    if (this._filter) {\n      const f = this._filter;\n\n      if (this._recursive) {\n        data = this._filterRecursiveArray(data as unknown[], f) as T[];\n      } else {\n        data = data.filter((row) => this.filterPredicate(row, f));\n      }\n    }\n\n    // SORT (multi-column)\n    if (this._sort && this._sort.length > 0) {\n      const sorts = [...this._sort];\n\n      data.sort((a: T, b: T) => {\n        for (const sort of sorts) {\n          const { active, direction } = sort;\n          if (!active || !direction) continue;\n\n          const dir = direction === 'asc' ? 1 : -1;\n\n          const aValue = this.sortAccessor(a, active);\n          const bValue = this.sortAccessor(b, active);\n\n          if (aValue < bValue) return -1 * dir;\n          if (aValue > bValue) return 1 * dir;\n        }\n\n        return 0;\n      });\n    }\n\n    // PAGINATION\n    if (this._paginatorEnabled) {\n      const start = this._pageIndex * this._pageSize;\n      data = data.slice(start, start + this._pageSize);\n    }\n\n    return data;\n  }\n\n  private _emit(): void {\n    const rendered = this._computeRendered();\n    this._listeners.forEach((l) => l(rendered));\n  }\n}\n\n/* ----------------------------------------------------\n * CONFIG ELEMENTS (JSX-only, render nothing)\n * - Angular-ish props: sortable/resizable/freeze optional with defaults\n * - Angular naming: headerDef / cellDef\n * ---------------------------------------------------- */\n\nexport type IGridColumnProps<T> = {\n  fieldName: string;\n  title?: string;\n\n  width?: IGridColumnWidth;\n  freeze?: boolean;\n\n  // Angular defaults: sortable/resizable true for data columns\n  sortable?: boolean;\n  resizable?: boolean;\n\n  headerDef?: (col: IGridColumnLike<T>) => ReactNode;\n\n  cellDef?:\n    | ((row: T) => ReactNode)\n    | ((\n        row: T,\n        ctx: { row: T; index: number; column: IGridColumnLike<T> }\n      ) => ReactNode);\n};\n\nexport function IGridColumn<T>(_props: IGridColumnProps<T>) {\n  return null;\n}\n(IGridColumn as any).$$kind = 'IGridColumn';\n\nexport type IGridCustomColumnProps<T> = {\n  title?: string;\n\n  width?: IGridColumnWidth;\n  freeze?: boolean;\n\n  // Angular defaults for custom columns: sortable false, resizable true\n  sortable?: boolean;\n  resizable?: boolean;\n\n  headerDef?: (col: IGridColumnLike<T>) => ReactNode;\n\n  cellDef?:\n    | ((row: T) => ReactNode)\n    | ((\n        row: T,\n        ctx: { row: T; index: number; column: IGridColumnLike<T> }\n      ) => ReactNode);\n};\n\nexport function IGridCustomColumn<T>(_props: IGridCustomColumnProps<T>) {\n  return null;\n}\n(IGridCustomColumn as any).$$kind = 'IGridCustomColumn';\n\nexport type IGridColumnGroupProps = { title: string; children: ReactNode };\nexport function IGridColumnGroup(_props: IGridColumnGroupProps) {\n  return null;\n}\n(IGridColumnGroup as any).$$kind = 'IGridColumnGroup';\n\nexport type IGridExpandableRowRenderCtx<T> = { row: T; index: number };\nexport type IGridExpandableRowProps<T> = {\n  expandSingle?: boolean;\n  render: (row: T, ctx: IGridExpandableRowRenderCtx<T>) => ReactNode;\n};\nexport function IGridExpandableRow<T>(_props: IGridExpandableRowProps<T>) {\n  return null;\n}\n(IGridExpandableRow as any).$$kind = 'IGridExpandableRow';\n\n/* ----------------------------------------------------\n * Helpers\n * ---------------------------------------------------- */\n\nfunction IndeterminateCheckbox(props: {\n  checked: boolean;\n  indeterminate: boolean;\n  onChange: (checked: boolean) => void;\n  className?: string;\n  stopRowClick?: boolean;\n}) {\n  const { checked, indeterminate, onChange, className, stopRowClick } = props;\n  const ref = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (ref.current) ref.current.indeterminate = indeterminate;\n  }, [indeterminate]);\n\n  return (\n    <input\n      ref={ref}\n      className={className}\n      type=\"checkbox\"\n      checked={checked}\n      onChange={(e) => onChange(e.target.checked)}\n      onClick={(e) => {\n        if (stopRowClick) e.stopPropagation();\n      }}\n    />\n  );\n}\n\nfunction renderCellDef<T>(\n  def: IGridColumnLike<T>['cellDef'],\n  row: T,\n  ctx: { row: T; index: number; column: IGridColumnLike<T> }\n): ReactNode {\n  if (!def) return null;\n  // supports (row) and (row, ctx)\n  return def.length >= 2 ? (def as any)(row, ctx) : (def as any)(row);\n}\n\n/* ----------------------------------------------------\n * GRID PROPS\n * ---------------------------------------------------- */\n\nexport type IGridProps<T> = {\n  dataSource: IGridDataSource<T> | T[];\n\n  selectionMode?: IGridSelectionMode;\n\n  tree?: string | boolean | null;\n  treeIndent?: number;\n  treeColumn?: string;\n  treeInitialExpandLevel?: number | null;\n\n  showNumberColumn?: boolean;\n\n  onSelectionChange?: (e: IGridSelectionChange<T>) => void;\n  onRowClick?: (row: T) => void;\n\n  onRowExpandChange?: (e: { row: T; expanded: boolean }) => void;\n  onExpandedRowsChange?: (rows: T[]) => void;\n\n  children?: ReactNode;\n\n  /**\n   * If you want React-side highlighting (instead of Angular pipe),\n   * pass a function; otherwise plain text will render.\n   */\n  highlightSearch?: (text: string, filter: string) => ReactNode;\n  rowKey?: (row: T, index: number) => string | number;\n};\n\n/* ----------------------------------------------------\n * GRID\n * ---------------------------------------------------- */\n\nexport function IGrid<T>(props: IGridProps<T>) {\n  const {\n    dataSource,\n    selectionMode = false,\n\n    tree = null,\n    treeIndent = 16,\n    treeColumn,\n    treeInitialExpandLevel = null,\n\n    showNumberColumn = true,\n\n    onSelectionChange,\n    onRowClick,\n\n    onRowExpandChange,\n    onExpandedRowsChange,\n\n    children,\n    highlightSearch,\n  } = props;\n\n  const idRef = useRef<string>(Math.random().toString(36).slice(2));\n\n  const selectionColumnWidth = 32;\n  const numberColumnWidth = 60;\n  const expandColumnWidth = 32;\n  const defaultColumnWidth = 200;\n\n  const [renderedData, setRenderedData] = useState<T[]>([]);\n  const [currentFilterText, setCurrentFilterText] = useState<string>('');\n  const [sortStates, setSortStates] = useState<ISortState[]>([]);\n\n  const columnWidthsRef = useRef<Map<IGridColumnLike<T>, number>>(new Map());\n  const [, setTick] = useState(0);\n\n  const [selectionSet, setSelectionSet] = useState<Set<T>>(new Set());\n  const [expandedSet, setExpandedSet] = useState<Set<T>>(new Set());\n\n  // tree meta\n  const treeMetaRef = useRef<\n    Map<\n      T,\n      {\n        level: number;\n        parent: T | null;\n        hasChildren: boolean;\n        expanded: boolean;\n      }\n    >\n  >(new Map());\n  const treeRootsRef = useRef<T[]>([]);\n\n  /* ---------------- parse JSX config ---------------- */\n  /**\n   *  IMPORTANT FIX:\n   * Preserve the exact JSX order (Angular-like content projection order):\n   * - If user writes: Column, Group, Custom => headerItems should be [col, group, col]\n   * - And effectiveColumns should be flattened in that same visual order.\n   */\n  const { headerItems, columns, expandableRowDef } = useMemo(() => {\n    const all = Children.toArray(children).filter(Boolean) as ReactElement[];\n\n    let expandable: IGridExpandableRowProps<T> | null = null;\n\n    const parseColumnEl = (\n      el: ReactElement<any>\n    ): IGridColumnLike<T> | null => {\n      const kind = (el.type as any)?.$$kind;\n      if (kind !== 'IGridColumn' && kind !== 'IGridCustomColumn') return null;\n\n      const p = el.props as any;\n      const isDataCol = kind === 'IGridColumn';\n\n      const col: IGridColumnLike<T> = {\n        fieldName: isDataCol ? p.fieldName : undefined,\n        title: p.title ?? '',\n\n        //  Angular-ish defaults:\n        sortable: p.sortable ?? (isDataCol ? true : false),\n        resizable: p.resizable ?? true,\n        freeze: !!p.freeze,\n\n        width: p.width,\n\n        headerDef: p.headerDef,\n        cellDef: p.cellDef,\n\n        isAuto: false,\n      };\n\n      return col;\n    };\n\n    //  Build header items IN PLACE (preserve order)\n    const header: IGridHeaderItem<T>[] = [];\n\n    for (const node of all) {\n      const kind = (node.type as any)?.$$kind;\n\n      if (kind === 'IGridExpandableRow') {\n        expandable = node.props as IGridExpandableRowProps<T>;\n        continue;\n      }\n\n      if (kind === 'IGridColumnGroup') {\n        const gp = node.props as any;\n        const kids = Children.toArray(gp.children).filter(\n          Boolean\n        ) as ReactElement[];\n\n        const gCols: IGridColumnLike<T>[] = [];\n        for (const kid of kids) {\n          const c = parseColumnEl(kid as any);\n          if (c) gCols.push(c);\n        }\n\n        header.push({\n          kind: 'group',\n          title: gp.title ?? '',\n          columns: gCols,\n        });\n        continue;\n      }\n\n      const c = parseColumnEl(node as any);\n      if (c) header.push({ kind: 'col', col: c });\n    }\n\n    const explicit = header.some(\n      (h) =>\n        h.kind === 'col' ||\n        (h.kind === 'group' && h.columns && h.columns.length > 0)\n    );\n\n    if (!explicit) {\n      return {\n        headerItems: [] as IGridHeaderItem<T>[],\n        columns: [] as IGridColumnLike<T>[],\n        expandableRowDef: expandable,\n      };\n    }\n\n    //  Flatten columns in the same order as header items (group columns inline)\n    const flat: IGridColumnLike<T>[] = [];\n    for (const item of header) {\n      if (item.kind === 'col') flat.push(item.col);\n      else flat.push(...item.columns);\n    }\n\n    return { headerItems: header, columns: flat, expandableRowDef: expandable };\n  }, [children]);\n\n  const hasExpandableRow = !!expandableRowDef?.render;\n\n  /* ---------------- tree config ---------------- */\n\n  const treeEnabled = tree !== null && tree !== false;\n\n  const treeChildrenKey = useMemo(() => {\n    if (!treeEnabled) return 'children';\n    if (tree === true) return 'children';\n    if (typeof tree === 'string') {\n      const t = tree.trim();\n      if (!t || t === 'true') return 'children';\n      return t;\n    }\n    return 'children';\n  }, [tree, treeEnabled]);\n\n  const showNumberColumnEffective = !treeEnabled ? showNumberColumn : false;\n\n  /* ---------------- auto columns fallback ---------------- */\n\n  const rawRows = useMemo(() => {\n    if (dataSource instanceof IGridDataSource) return dataSource.data ?? [];\n    if (Array.isArray(dataSource)) return dataSource;\n    return [];\n  }, [dataSource]);\n\n  const autoColumns: IGridColumnLike<T>[] = useMemo(() => {\n    if (!rawRows.length) return [];\n    const first = rawRows[0] as unknown;\n    if (first === null || typeof first !== 'object') return [];\n    const keys = Object.keys(first as Record<string, unknown>);\n\n    return keys.map((key) => ({\n      fieldName: key,\n      title: key,\n      sortable: true,\n      resizable: true,\n      width: 'fill' as const,\n      freeze: false,\n      headerDef: undefined,\n      cellDef: undefined,\n      isAuto: true,\n    }));\n  }, [rawRows]);\n\n  const effectiveHeaderItems: IGridHeaderItem<T>[] = useMemo(() => {\n    if (headerItems.length) return headerItems;\n    return autoColumns.map((c) => ({ kind: 'col', col: c }));\n  }, [headerItems, autoColumns]);\n\n  const effectiveColumns: IGridColumnLike<T>[] = useMemo(() => {\n    if (columns.length) return columns;\n    return autoColumns;\n  }, [columns, autoColumns]);\n\n  /* ---------------- widths ---------------- */\n\n  const getColumnWidth = (col: IGridColumnLike<T>): number | null => {\n    const override = columnWidthsRef.current.get(col);\n    if (typeof override === 'number') return override;\n\n    if (typeof col.width === 'number') return col.width;\n    if (col.width === 'fill') return null;\n\n    return defaultColumnWidth;\n  };\n\n  const getColumnFlex = (col: IGridColumnLike<T>): string => {\n    const px = getColumnWidth(col);\n    if (px !== null) return `0 0 ${px}px`;\n    return '1 1 0';\n  };\n\n  const setColumnWidth = (col: IGridColumnLike<T>, width: number) => {\n    columnWidthsRef.current.set(col, width);\n    setTick((n) => n + 1);\n  };\n\n  useEffect(() => {\n    const map = columnWidthsRef.current;\n    for (const col of effectiveColumns) {\n      if (!map.has(col)) {\n        const px = getColumnWidth(col);\n        if (px !== null) map.set(col, px);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [effectiveColumns]);\n\n  /* ---------------- frozen columns ---------------- */\n\n  const getFrozenEndIndex = (): number => {\n    for (let i = effectiveColumns.length - 1; i >= 0; i--) {\n      if (effectiveColumns[i].freeze) return i;\n    }\n    return -1;\n  };\n\n  const hasFrozenColumns = getFrozenEndIndex() >= 0;\n\n  const isColumnFrozen = (col: IGridColumnLike<T>): boolean => {\n    const end = getFrozenEndIndex();\n    if (end < 0) return false;\n    const idx = effectiveColumns.indexOf(col);\n    if (idx === -1) return false;\n    return idx <= end;\n  };\n\n  const getSpecialColumnsLeftOffset = (opts?: {\n    includeNumber?: boolean;\n    includeExpand?: boolean;\n    includeSelection?: boolean;\n  }): number => {\n    const includeNumber = opts?.includeNumber ?? true;\n    const includeExpand = opts?.includeExpand ?? true;\n    const includeSelection = opts?.includeSelection ?? true;\n\n    let left = 0;\n\n    // tree mode has NO special expand/selection columns (matches Angular)\n    if (!treeEnabled) {\n      if (includeSelection && !!selectionMode) left += selectionColumnWidth;\n      if (includeExpand && hasExpandableRow) left += expandColumnWidth;\n    }\n\n    if (includeNumber && showNumberColumnEffective) left += numberColumnWidth;\n\n    return left;\n  };\n\n  const getStickyLeftForExpandColumn = () =>\n    getSpecialColumnsLeftOffset({\n      includeSelection: false,\n      includeExpand: false,\n      includeNumber: false,\n    });\n\n  const getStickyLeftForSelectionColumn = () =>\n    getSpecialColumnsLeftOffset({\n      includeSelection: false,\n      includeExpand: true,\n      includeNumber: false,\n    });\n\n  const getStickyLeftForNumberColumn = () =>\n    getSpecialColumnsLeftOffset({\n      includeSelection: true,\n      includeExpand: true,\n      includeNumber: false,\n    });\n\n  const getColumnStickyLeft = (col: IGridColumnLike<T>): number | null => {\n    if (!isColumnFrozen(col)) return null;\n\n    const end = getFrozenEndIndex();\n    if (end < 0) return null;\n\n    const idx = effectiveColumns.indexOf(col);\n    if (idx === -1 || idx > end) return null;\n\n    let left = 0;\n    left += getSpecialColumnsLeftOffset();\n\n    for (let i = 0; i < idx; i++) {\n      const c = effectiveColumns[i];\n      if (!isColumnFrozen(c)) continue;\n\n      const w = getColumnWidth(c);\n      if (w === null) return null;\n      left += w;\n    }\n\n    return left;\n  };\n\n  const getFrozenColumnZ = (col: IGridColumnLike<T>): number => {\n    //  identical to Angular:\n    // base + (endIndex - idx)\n    const end = getFrozenEndIndex();\n    if (end < 0) return 2;\n\n    const idx = effectiveColumns.indexOf(col);\n    if (idx === -1) return 2;\n\n    const base = 20;\n    return base + (end - idx);\n  };\n\n  /* ---------------- connect data ---------------- */\n\n  useEffect(() => {\n    const updateFilterText = () => {\n      setCurrentFilterText(\n        dataSource instanceof IGridDataSource ? dataSource.filter : ''\n      );\n    };\n\n    const buildTreeMeta = (roots: T[]) => {\n      treeMetaRef.current.clear();\n      treeRootsRef.current = [];\n\n      const getChildren = (row: T): T[] => {\n        const r = row as unknown as Record<string, unknown>;\n        const value = r?.[treeChildrenKey] as unknown;\n        return Array.isArray(value) ? (value as T[]) : [];\n      };\n\n      const getInitialExpandLevelInternal = (): number | null => {\n        if (!treeEnabled) return null;\n        if (treeInitialExpandLevel === null) return null;\n        const n = Number(treeInitialExpandLevel);\n        if (!Number.isFinite(n) || n <= 0) return null;\n        return n - 1;\n      };\n\n      const shouldRowStartExpanded = (\n        level: number,\n        hasChildrenFlag: boolean\n      ) => {\n        if (!hasChildrenFlag) return false;\n        const max = getInitialExpandLevelInternal();\n        if (max === null) return false;\n        return level <= max;\n      };\n\n      const visit = (row: T, level: number, parent: T | null) => {\n        const children = getChildren(row);\n        const hasChildrenFlag = children.length > 0;\n        const expanded = shouldRowStartExpanded(level, hasChildrenFlag);\n\n        if (parent === null) treeRootsRef.current.push(row);\n        treeMetaRef.current.set(row, {\n          level,\n          parent,\n          hasChildren: hasChildrenFlag,\n          expanded,\n        });\n\n        children.forEach((c) => visit(c, level + 1, row));\n      };\n\n      (roots || []).forEach((r) => visit(r, 0, null));\n    };\n\n    const rebuildTreeRenderedWith = (getChildren: (r: T) => T[]) => {\n      const out: T[] = [];\n\n      const appendVisible = (row: T) => {\n        out.push(row);\n        const meta = treeMetaRef.current.get(row);\n        if (!meta?.expanded) return;\n\n        const children = getChildren(row);\n        for (const child of children) appendVisible(child);\n      };\n\n      for (const root of treeRootsRef.current) appendVisible(root);\n      setRenderedData(out);\n      updateFilterText();\n    };\n\n    const connectTree = (roots: T[]) => {\n      const getChildren = (row: T): T[] => {\n        const r = row as unknown as Record<string, unknown>;\n        const value = r?.[treeChildrenKey] as unknown;\n        return Array.isArray(value) ? (value as T[]) : [];\n      };\n\n      buildTreeMeta(roots);\n      rebuildTreeRenderedWith(getChildren);\n    };\n\n    // TREE\n    if (treeEnabled) {\n      if (dataSource instanceof IGridDataSource) {\n        setSortStates(\n          dataSource.sort?.length ? dataSource.sort.map((s) => ({ ...s })) : []\n        );\n        const unsub = dataSource.connect((rows) => connectTree(rows || []));\n        return () => unsub();\n      }\n\n      if (Array.isArray(dataSource)) {\n        setSortStates([]);\n        connectTree(dataSource);\n        return;\n      }\n\n      setSortStates([]);\n      setRenderedData([]);\n      updateFilterText();\n      return;\n    }\n\n    // FLAT\n    if (dataSource instanceof IGridDataSource) {\n      setSortStates(\n        dataSource.sort?.length ? dataSource.sort.map((s) => ({ ...s })) : []\n      );\n\n      const unsub = dataSource.connect((rows) => {\n        setRenderedData(rows || []);\n        updateFilterText();\n      });\n\n      return () => unsub();\n    }\n\n    if (Array.isArray(dataSource)) {\n      setSortStates([]);\n      setRenderedData(dataSource);\n      updateFilterText();\n      return;\n    }\n\n    setSortStates([]);\n    setRenderedData([]);\n    updateFilterText();\n  }, [dataSource, treeEnabled, treeChildrenKey, treeInitialExpandLevel]);\n\n  /* ---------------- selection helpers ---------------- */\n\n  const getTreeChildren = (row: T): T[] => {\n    if (!treeEnabled || !row) return [];\n    const r = row as unknown as Record<string, unknown>;\n    const value = r?.[treeChildrenKey] as unknown;\n    return Array.isArray(value) ? (value as T[]) : [];\n  };\n\n  const getTreeDescendants = (row: T): T[] => {\n    const out: T[] = [];\n    const visit = (r: T) => {\n      const children = getTreeChildren(r);\n      for (const child of children) {\n        out.push(child);\n        visit(child);\n      }\n    };\n    visit(row);\n    return out;\n  };\n\n  const hasChildren = (row: T): boolean => {\n    if (!treeEnabled) return false;\n    return treeMetaRef.current.get(row)?.hasChildren ?? false;\n  };\n\n  const getRowChecked = (row: T): boolean => {\n    if (!treeEnabled) return selectionSet.has(row);\n\n    const descendants = getTreeDescendants(row);\n    if (!descendants.length) return selectionSet.has(row);\n\n    const total = descendants.length;\n    const selectedChildren = descendants.filter((c) =>\n      selectionSet.has(c)\n    ).length;\n\n    const allChildrenSelected = total > 0 && selectedChildren === total;\n    const anyChildrenSelected = selectedChildren > 0;\n\n    if (allChildrenSelected && selectionSet.has(row)) return true;\n    if (anyChildrenSelected && !allChildrenSelected) return false;\n\n    return selectionSet.has(row);\n  };\n\n  const getRowIndeterminate = (row: T): boolean => {\n    if (!treeEnabled) return false;\n\n    const descendants = getTreeDescendants(row);\n    if (!descendants.length) return false;\n\n    const total = descendants.length;\n    const selectedChildren = descendants.filter((c) =>\n      selectionSet.has(c)\n    ).length;\n\n    const allChildrenSelected = total > 0 && selectedChildren === total;\n    const anyChildrenSelected = selectedChildren > 0;\n\n    return anyChildrenSelected && !allChildrenSelected;\n  };\n\n  const allVisibleSelected = (): boolean => {\n    if (!selectionMode || !renderedData.length) return false;\n    return renderedData.every((r) => getRowChecked(r));\n  };\n\n  const someVisibleSelected = (): boolean => {\n    if (!selectionMode || !renderedData.length) return false;\n    const anySelected = renderedData.some(\n      (r) => getRowChecked(r) || getRowIndeterminate(r)\n    );\n    return anySelected && !allVisibleSelected();\n  };\n\n  const emitSelectionChange = (lastChanged: T | null, next: Set<T>) => {\n    if (!selectionMode) return;\n    onSelectionChange?.({ selected: Array.from(next), lastChanged });\n  };\n\n  const syncSelectionUpwardsFrom = (row: T, next: Set<T>) => {\n    if (!treeEnabled) return;\n\n    let current = treeMetaRef.current.get(row)?.parent ?? null;\n\n    while (current) {\n      const descendants = getTreeDescendants(current);\n      if (!descendants.length) {\n        current = treeMetaRef.current.get(current)?.parent ?? null;\n        continue;\n      }\n\n      const total = descendants.length;\n      const selectedChildren = descendants.filter((c) => next.has(c)).length;\n\n      if (selectedChildren === 0) next.delete(current);\n      else if (selectedChildren === total) next.add(current);\n      else next.delete(current);\n\n      current = treeMetaRef.current.get(current)?.parent ?? null;\n    }\n  };\n\n  const setBranchSelection = (row: T, selected: boolean, next: Set<T>) => {\n    if (!treeEnabled) {\n      if (selected) next.add(row);\n      else next.delete(row);\n      return;\n    }\n\n    const all = [row, ...getTreeDescendants(row)];\n    if (selected) all.forEach((r) => next.add(r));\n    else all.forEach((r) => next.delete(r));\n  };\n\n  const onRowSelectionToggle = (row: T) => {\n    if (!selectionMode) return;\n\n    if (selectionMode === 'single') {\n      const next = new Set<T>();\n      next.add(row);\n      setSelectionSet(next);\n      emitSelectionChange(row, next);\n      return;\n    }\n\n    // multiple\n    if (treeEnabled) {\n      const next = new Set(selectionSet);\n\n      if (hasChildren(row)) {\n        const currentlyChecked = getRowChecked(row);\n        setBranchSelection(row, !currentlyChecked, next);\n      } else {\n        if (next.has(row)) next.delete(row);\n        else next.add(row);\n      }\n\n      syncSelectionUpwardsFrom(row, next);\n      setSelectionSet(next);\n      emitSelectionChange(row, next);\n      return;\n    }\n\n    const next = new Set(selectionSet);\n    if (next.has(row)) next.delete(row);\n    else next.add(row);\n    setSelectionSet(next);\n    emitSelectionChange(row, next);\n  };\n\n  const onToggleAllVisible = () => {\n    if (selectionMode !== 'multiple') return;\n\n    const shouldSelect = !allVisibleSelected();\n\n    if (treeEnabled) {\n      const next = new Set(selectionSet);\n      const roots = [...treeRootsRef.current];\n\n      roots.forEach((r) => {\n        setBranchSelection(r, shouldSelect, next);\n        syncSelectionUpwardsFrom(r, next);\n      });\n\n      setSelectionSet(next);\n      emitSelectionChange(null, next);\n      return;\n    }\n\n    const next = new Set(selectionSet);\n    if (shouldSelect) renderedData.forEach((r) => next.add(r));\n    else renderedData.forEach((r) => next.delete(r));\n\n    setSelectionSet(next);\n    emitSelectionChange(null, next);\n  };\n\n  /* ---------------- tree helpers ---------------- */\n\n  const isTreeHostColumn = (col: IGridColumnLike<T>): boolean => {\n    if (!treeEnabled) return false;\n\n    const wanted = (treeColumn ?? '').trim();\n    const host = wanted\n      ? effectiveColumns.find((c) => !!c.fieldName && c.fieldName === wanted)\n          ?.fieldName\n      : effectiveColumns.find((c) => !!c.fieldName)?.fieldName;\n\n    if (!host) return false;\n    return !!col.fieldName && col.fieldName === host;\n  };\n\n  const isExpandedTree = (row: T): boolean => {\n    if (!treeEnabled) return false;\n    return treeMetaRef.current.get(row)?.expanded ?? false;\n  };\n\n  const anyTreeExpanded = (): boolean => {\n    if (!treeEnabled || !treeRootsRef.current.length) return false;\n    return treeRootsRef.current.some((r) => {\n      const meta = treeMetaRef.current.get(r);\n      return !!meta?.hasChildren && !!meta?.expanded;\n    });\n  };\n\n  const allTreeExpanded = (): boolean => {\n    if (!treeEnabled || !treeRootsRef.current.length) return false;\n    for (const meta of treeMetaRef.current.values()) {\n      if (meta.hasChildren && !meta.expanded) return false;\n    }\n    return true;\n  };\n\n  const rebuildTreeRendered = () => {\n    const out: T[] = [];\n    const appendVisible = (row: T) => {\n      out.push(row);\n      const meta = treeMetaRef.current.get(row);\n      if (!meta?.expanded) return;\n\n      const children = getTreeChildren(row);\n      for (const child of children) appendVisible(child);\n    };\n\n    for (const root of treeRootsRef.current) appendVisible(root);\n    setRenderedData(out);\n  };\n\n  const onToggleAllTree = () => {\n    if (!treeEnabled) return;\n    const shouldExpand = !allTreeExpanded();\n    treeMetaRef.current.forEach((meta) => {\n      if (meta.hasChildren) meta.expanded = shouldExpand;\n    });\n    rebuildTreeRendered();\n  };\n\n  //  accept native MouseEvent (because IButton gives native event)\n  const onTreeToggle = (row: T, event?: MouseEvent) => {\n    event?.stopPropagation();\n    if (!treeEnabled) return;\n    const meta = treeMetaRef.current.get(row);\n    if (!meta || !meta.hasChildren) return;\n    meta.expanded = !meta.expanded;\n    rebuildTreeRendered();\n  };\n\n  const getRowLevel = (row: T): number => {\n    if (!treeEnabled) return 0;\n    return treeMetaRef.current.get(row)?.level ?? 0;\n  };\n\n  const getTreeIndentPx = (row: T): number => getRowLevel(row) * treeIndent;\n\n  /* ---------------- expandable row (flat mode) ---------------- */\n\n  const isRowExpanded = (row: T) => expandedSet.has(row);\n\n  const setExpanded = (row: T, expanded: boolean) => {\n    if (!hasExpandableRow) return;\n\n    setExpandedSet((prev) => {\n      const expandSingle = !!expandableRowDef?.expandSingle;\n      const was = prev.has(row);\n      if (expanded === was) return prev;\n\n      const next = new Set(prev);\n\n      if (expanded) {\n        if (expandSingle) {\n          const toCollapse = Array.from(next).filter((r) => r !== row);\n          toCollapse.forEach((r) =>\n            onRowExpandChange?.({ row: r, expanded: false })\n          );\n          next.clear();\n        }\n        next.add(row);\n        onRowExpandChange?.({ row, expanded: true });\n      } else {\n        next.delete(row);\n        onRowExpandChange?.({ row, expanded: false });\n      }\n\n      onExpandedRowsChange?.(Array.from(next));\n      return next;\n    });\n  };\n\n  const allVisibleExpanded = (): boolean => {\n    if (!hasExpandableRow || !renderedData.length) return false;\n    return renderedData.every((r) => expandedSet.has(r));\n  };\n\n  const onToggleAllExpanded = () => {\n    if (!hasExpandableRow) return;\n    const shouldExpand = !allVisibleExpanded();\n\n    if (shouldExpand) {\n      const expandSingle = !!expandableRowDef?.expandSingle;\n      if (expandSingle) {\n        const first = renderedData[0];\n        setExpandedSet((prev) => {\n          const next = new Set<T>();\n          Array.from(prev).forEach((r) =>\n            onRowExpandChange?.({ row: r, expanded: false })\n          );\n          if (first) {\n            next.add(first);\n            onRowExpandChange?.({ row: first, expanded: true });\n          }\n          onExpandedRowsChange?.(Array.from(next));\n          return next;\n        });\n        return;\n      }\n\n      setExpandedSet((prev) => {\n        const before = new Set(prev);\n        const next = new Set(prev);\n\n        for (const row of renderedData) next.add(row);\n        for (const row of renderedData)\n          if (!before.has(row)) onRowExpandChange?.({ row, expanded: true });\n\n        onExpandedRowsChange?.(Array.from(next));\n        return next;\n      });\n      return;\n    }\n\n    setExpandedSet((prev) => {\n      const prevArr = Array.from(prev);\n      prevArr.forEach((r) => onRowExpandChange?.({ row: r, expanded: false }));\n      onExpandedRowsChange?.([]);\n      return new Set();\n    });\n  };\n\n  /* ---------------- sorting ---------------- */\n\n  const sortStatesRef = useRef<ISortState[]>([]);\n  useEffect(() => {\n    sortStatesRef.current = sortStates;\n  }, [sortStates]);\n\n  const computeNextSort = (\n    prev: ISortState[],\n    columnId: string\n  ): ISortState[] => {\n    const next = prev.map((s) => ({ ...s })); // clone\n    const idx = next.findIndex((s) => s.active === columnId);\n\n    if (idx === -1) {\n      // first click -> asc\n      next.push({ active: columnId, direction: 'asc' });\n      return next;\n    }\n\n    const cur = next[idx];\n    if (cur.direction === 'asc') {\n      cur.direction = 'desc';\n      return next;\n    }\n\n    if (cur.direction === 'desc') {\n      // third click -> remove sort\n      next.splice(idx, 1);\n      return next;\n    }\n\n    // fallback\n    cur.direction = 'asc';\n    return next;\n  };\n\n  const sortByColumn = (col: IGridColumnLike<T>) => {\n    if (!(dataSource instanceof IGridDataSource)) return;\n    const columnId = col.fieldName;\n    if (!columnId) return;\n    if (col.sortable === false) return;\n\n    const next = computeNextSort(sortStatesRef.current, columnId);\n\n    //  1) update UI state\n    setSortStates(next);\n\n    //  2) side effect OUTSIDE setState updater\n    dataSource.sort = next.length ? next : null;\n\n    // (optional but matches Angular-ish UX)\n    // reset to first page when sorting changes\n    if (dataSource.paginatorEnabled) {\n      dataSource.paginator = { pageIndex: 0, pageSize: dataSource.pageSize };\n    }\n  };\n\n  const getColumnDirection = (columnId: string): ISortDirection => {\n    const found = sortStates.find((s) => s.active === columnId);\n    return found ? found.direction : '';\n  };\n\n  /* ---------------- pagination proxies ---------------- */\n\n  const hasPagination =\n    !treeEnabled &&\n    dataSource instanceof IGridDataSource &&\n    dataSource.paginatorEnabled;\n\n  const totalLength =\n    dataSource instanceof IGridDataSource\n      ? dataSource.length\n      : renderedData.length;\n  const pageIndex =\n    dataSource instanceof IGridDataSource ? dataSource.pageIndex : 0;\n  const pageSize =\n    dataSource instanceof IGridDataSource ? dataSource.pageSize : 0;\n  const pageSizeOptions =\n    dataSource instanceof IGridDataSource ? dataSource.pageSizeOptions : [];\n\n  const onPageChange = (e: { pageIndex: number; pageSize: number }) => {\n    if (!(dataSource instanceof IGridDataSource)) return;\n    dataSource.paginator = { pageIndex: e.pageIndex, pageSize: e.pageSize };\n  };\n\n  const getRowNumber = (visibleRowIndex: number): number => {\n    if (dataSource instanceof IGridDataSource && hasPagination) {\n      return pageIndex * pageSize + visibleRowIndex + 1;\n    }\n    return visibleRowIndex + 1;\n  };\n\n  /* ----------------------------------------------------\n   * ANGULAR-CLOSE HeaderCell / Cell\n   * - If `col` exists => frozen/sticky/z computed internally (like HostBinding in Angular)\n   * - Special columns can still force sticky with overrides (like Angular template does)\n   * ---------------------------------------------------- */\n\n  type StickyOverride = {\n    /** force sticky/frozen even without `col` (for special columns) */\n    frozen?: boolean;\n    /** explicit sticky left (for special columns) */\n    stickyLeft?: number | null;\n    /** explicit zIndex (for special columns) */\n    zIndex?: number | null;\n  };\n\n  const HeaderCell = (p: {\n    col?: IGridColumnLike<T>;\n    fixedWidth?: number;\n    children: ReactNode;\n    className?: string;\n\n    /** Angular parity: header cell may render without column (group title, special columns) */\n    resizable?: boolean;\n    disableSortClick?: boolean;\n    auto?: boolean;\n\n    /** override sticky for special columns (expand/selection/number) */\n    sticky?: StickyOverride;\n  }) => {\n    const {\n      col,\n      fixedWidth,\n      children,\n      className,\n      resizable,\n      disableSortClick,\n      auto,\n      sticky,\n    } = p;\n\n    const minWidth = 50;\n    const isResizingRef = useRef(false);\n\n    //  Angular-like: if col exists, compute frozen behavior via grid helpers\n    const computedFrozen = !!col && isColumnFrozen(col);\n    const computedLeft =\n      computedFrozen && col ? getColumnStickyLeft(col) : null;\n    const computedZ = computedFrozen && col ? getFrozenColumnZ(col) : null;\n\n    //  allow special columns to override (expand/selection/number)\n    const frozen = sticky?.frozen ?? computedFrozen;\n    const stickyLeft = sticky?.stickyLeft ?? computedLeft;\n    const zIndex = sticky?.zIndex ?? computedZ;\n\n    const isSortable =\n      !disableSortClick &&\n      !!col?.fieldName &&\n      col.sortable !== false &&\n      dataSource instanceof IGridDataSource;\n\n    const direction = col?.fieldName ? getColumnDirection(col.fieldName) : '';\n    const showIcon = isSortable && direction !== '';\n\n    const flex =\n      typeof fixedWidth === 'number'\n        ? `0 0 ${fixedWidth}px`\n        : col\n          ? getColumnFlex(col)\n          : '1 1 0';\n\n    const onResizeMouseDown = (event: React.MouseEvent) => {\n      if (!col || !resizable) return;\n      event.stopPropagation();\n      event.preventDefault();\n\n      const startX = event.clientX;\n\n      // measure the header cell, not the handle\n      const headerEl = (event.currentTarget as HTMLElement).closest(\n        'i-grid-header-cell'\n      ) as HTMLElement | null;\n\n      const currentWidth =\n        getColumnWidth(col) ?? headerEl?.clientWidth ?? defaultColumnWidth;\n      const startWidth = currentWidth;\n\n      const onMove = (e: MouseEvent) => {\n        const delta = e.clientX - startX;\n        let next = startWidth + delta;\n        if (next < minWidth) next = minWidth;\n        setColumnWidth(col, next);\n      };\n\n      isResizingRef.current = true;\n\n      const onUp = () => {\n        window.removeEventListener('mousemove', onMove);\n        window.removeEventListener('mouseup', onUp);\n\n        // let click pass, then re-enable sorting\n        setTimeout(() => {\n          isResizingRef.current = false;\n        }, 0);\n      };\n\n      window.addEventListener('mousemove', onMove);\n      window.addEventListener('mouseup', onUp);\n    };\n\n    return (\n      <i-grid-header-cell\n        className={[\n          'i-grid-header-cell',\n          className,\n          isSortable ? 'i-grid-header-cell--sortable' : null,\n          direction !== '' ? 'i-grid-header-cell--sorted' : null,\n          direction === 'asc' ? 'i-grid-header-cell--sorted-asc' : null,\n          direction === 'desc' ? 'i-grid-header-cell--sorted-desc' : null,\n          resizable ? 'i-grid-header-cell--resizable' : null,\n          frozen ? 'i-grid-header-cell--frozen' : null,\n          auto ? 'i-grid-header-cell--auto' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        role=\"columnheader\"\n        style={{\n          flex,\n          position: frozen ? 'sticky' : undefined,\n          left: frozen ? (stickyLeft ?? undefined) : undefined,\n          zIndex: frozen && typeof zIndex === 'number' ? zIndex : undefined, //  only if explicitly passed\n        }}\n        onClick={() => {\n          if (isResizingRef.current) return;\n          if (!col) return;\n          if (!isSortable) return;\n          sortByColumn(col);\n        }}>\n        <span className=\"i-grid-header-cell__content\">{children}</span>\n\n        {showIcon ? (\n          <span className=\"i-grid-header-cell__icon\">\n            <IIcon\n              size=\"sm\"\n              icon={direction === 'asc' ? 'sort-asc' : 'sort-dsc'}\n            />\n          </span>\n        ) : null}\n\n        <span\n          className=\"i-grid-header-cell__resize-handle\"\n          onMouseDown={(e) => {\n            e.stopPropagation();\n            e.preventDefault();\n            onResizeMouseDown(e);\n          }}\n          onClick={(e) => {\n            e.stopPropagation();\n            e.preventDefault();\n          }}\n        />\n      </i-grid-header-cell>\n    );\n  };\n\n  const Cell = (p: {\n    col?: IGridColumnLike<T>;\n    fixedWidth?: number;\n    children: ReactNode;\n    className?: string;\n\n    /** stop propagation on cell click (used by special columns / tree host) */\n    onClickStop?: boolean;\n\n    auto?: boolean;\n\n    /** override sticky for special columns */\n    sticky?: StickyOverride;\n  }) => {\n    const { col, fixedWidth, children, className, onClickStop, auto, sticky } =\n      p;\n\n    const computedFrozen = !!col && isColumnFrozen(col);\n    const computedLeft =\n      computedFrozen && col ? getColumnStickyLeft(col) : null;\n    const computedZ = computedFrozen && col ? getFrozenColumnZ(col) : null;\n\n    const frozen = sticky?.frozen ?? computedFrozen;\n    const stickyLeft = sticky?.stickyLeft ?? computedLeft;\n    const zIndex = sticky?.zIndex ?? computedZ;\n\n    const flex =\n      typeof fixedWidth === 'number'\n        ? `0 0 ${fixedWidth}px`\n        : col\n          ? getColumnFlex(col)\n          : '1 1 0';\n\n    return (\n      <i-grid-cell\n        className={[\n          'i-grid-cell',\n          className,\n          frozen ? 'i-grid-cell--frozen' : null,\n          auto ? 'i-grid-cell--auto' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        role=\"cell\"\n        style={{\n          flex,\n          position: frozen ? 'sticky' : undefined,\n          left: frozen ? (stickyLeft ?? undefined) : undefined,\n          zIndex: frozen && typeof zIndex === 'number' ? zIndex : undefined, //  only if explicitly passed\n        }}\n        onClick={(e) => {\n          if (onClickStop) e.stopPropagation();\n        }}>\n        {children}\n      </i-grid-cell>\n    );\n  };\n\n  /* ---------------- render ---------------- */\n\n  return (\n    <i-grid className=\"i-grid\" role=\"table\">\n      <i-grid-viewport className=\"i-grid-viewport\">\n        {/* HEADER */}\n        {effectiveHeaderItems.length ? (\n          <i-grid-header-row className=\"i-grid-header-row\" role=\"row\">\n            {/* FLAT: expand-all (only when expandable row exists AND not single) */}\n            {!treeEnabled &&\n            hasExpandableRow &&\n            !expandableRowDef?.expandSingle ? (\n              <HeaderCell\n                className=\"i-grid-expand-cell i-grid-expand-cell--header i-grid-header-cell--frozen\"\n                fixedWidth={expandColumnWidth}\n                disableSortClick\n                sticky={{\n                  frozen: true,\n                  stickyLeft: getStickyLeftForExpandColumn(),\n                }}>\n                <span className=\"i-grid-header-cell__content\">\n                  <IButton\n                    className=\"i-grid-expand-toggle\"\n                    size=\"2xs\"\n                    variant=\"outline\"\n                    icon={allVisibleExpanded() ? 'down' : 'next'}\n                    onClick={(e: MouseEvent) => {\n                      e.stopPropagation();\n                      onToggleAllExpanded();\n                    }}\n                  />\n                </span>\n              </HeaderCell>\n            ) : null}\n\n            {/* FLAT: selection header */}\n            {!treeEnabled && selectionMode ? (\n              <HeaderCell\n                className=\"i-grid-selection-cell i-grid-selection-cell--header i-grid-header-cell--frozen\"\n                fixedWidth={selectionColumnWidth}\n                disableSortClick\n                sticky={{\n                  frozen: true,\n                  stickyLeft: getStickyLeftForSelectionColumn(),\n                }}>\n                <span className=\"i-grid-header-cell__content\">\n                  {selectionMode === 'multiple' ? (\n                    <IndeterminateCheckbox\n                      checked={allVisibleSelected()}\n                      indeterminate={someVisibleSelected()}\n                      onChange={() => onToggleAllVisible()}\n                      stopRowClick\n                    />\n                  ) : null}\n                </span>\n              </HeaderCell>\n            ) : null}\n\n            {/* Number header */}\n            {showNumberColumnEffective ? (\n              <HeaderCell\n                className=\"i-grid-number-cell i-grid-number-cell--header\"\n                fixedWidth={numberColumnWidth}\n                disableSortClick\n                sticky={\n                  hasFrozenColumns\n                    ? {\n                        frozen: true,\n                        stickyLeft: getStickyLeftForNumberColumn(),\n                        // Angular template: number header z=3 when frozen\n                        zIndex: 3,\n                      }\n                    : undefined\n                }>\n                No.\n              </HeaderCell>\n            ) : null}\n\n            {/* Header items */}\n            {effectiveHeaderItems.map((item, idx) => {\n              if (item.kind === 'col') {\n                const col = item.col;\n\n                // TREE host column header content\n                if (treeEnabled && isTreeHostColumn(col)) {\n                  return (\n                    <HeaderCell\n                      key={`h-${idx}`}\n                      col={col}\n                      resizable={col.resizable}\n                      auto={!!col.isAuto}>\n                      <span className=\"i-grid-tree-head\">\n                        <IButton\n                          className=\"i-grid-tree-expand-all\"\n                          size=\"2xs\"\n                          variant=\"outline\"\n                          icon={anyTreeExpanded() ? 'down' : 'next'}\n                          onClick={(e: MouseEvent) => {\n                            e.stopPropagation();\n                            onToggleAllTree();\n                          }}\n                        />\n\n                        {selectionMode === 'multiple' ? (\n                          <IndeterminateCheckbox\n                            className=\"i-grid-tree-header-checkbox\"\n                            checked={allVisibleSelected()}\n                            indeterminate={someVisibleSelected()}\n                            onChange={() => onToggleAllVisible()}\n                            stopRowClick\n                          />\n                        ) : null}\n\n                        <span className=\"i-grid-tree-head__title\">\n                          {col.title || col.fieldName}\n                        </span>\n                      </span>\n                    </HeaderCell>\n                  );\n                }\n\n                // custom headerDef\n                if (col.headerDef) {\n                  return (\n                    <React.Fragment key={`h-${idx}`}>\n                      {col.headerDef(col)}\n                    </React.Fragment>\n                  );\n                }\n\n                return (\n                  <HeaderCell\n                    key={`h-${idx}`}\n                    col={col}\n                    resizable={col.resizable}\n                    auto={!!col.isAuto}>\n                    {col.title || col.fieldName}\n                  </HeaderCell>\n                );\n              }\n\n              // GROUP HEADER\n              return (\n                <i-grid-header-cell-group\n                  key={`g-${idx}`}\n                  className=\"i-grid-header-cell-group\"\n                  role=\"presentation\">\n                  {/* Group title cell (NOT frozen in Angular) */}\n                  <HeaderCell disableSortClick>{item.title}</HeaderCell>\n\n                  <i-grid-header-cell-group-columns\n                    className=\"i-grid-header-cell-group-columns\"\n                    role=\"presentation\">\n                    {item.columns.map((col, cIdx) => {\n                      if (col.headerDef) {\n                        return (\n                          <React.Fragment key={`gc-${cIdx}`}>\n                            {col.headerDef(col)}\n                          </React.Fragment>\n                        );\n                      }\n\n                      return (\n                        <HeaderCell\n                          key={`gc-${cIdx}`}\n                          col={col}\n                          resizable={col.resizable}\n                          auto={!!col.isAuto}>\n                          {col.title || col.fieldName}\n                        </HeaderCell>\n                      );\n                    })}\n                  </i-grid-header-cell-group-columns>\n                </i-grid-header-cell-group>\n              );\n            })}\n          </i-grid-header-row>\n        ) : null}\n\n        {/* ROWS */}\n        {renderedData.map((row, rowIndex) => {\n          const key = props.rowKey ? props.rowKey(row, rowIndex) : rowIndex;\n\n          return (\n            <React.Fragment key={`r-${key}`}>\n              <i-grid-row\n                className={[\n                  'i-grid-row',\n                  selectionMode ? 'i-grid-selection-row' : null,\n                ]\n                  .filter(Boolean)\n                  .join(' ')}\n                role=\"row\"\n                onClick={() => onRowClick?.(row)}>\n                {/* Expand control (flat mode) */}\n                {!treeEnabled && hasExpandableRow ? (\n                  <Cell\n                    className=\"i-grid-expand-cell i-grid-expand-cell--body\"\n                    fixedWidth={expandColumnWidth}\n                    onClickStop\n                    sticky={{\n                      frozen: true,\n                      stickyLeft: getStickyLeftForExpandColumn(),\n                    }}>\n                    <span className=\"i-grid-expand-cell__content\">\n                      <IButton\n                        className=\"i-grid-expand-toggle\"\n                        size=\"2xs\"\n                        variant=\"outline\"\n                        icon={isRowExpanded(row) ? 'down' : 'next'}\n                        onClick={(e: MouseEvent) => {\n                          e.stopPropagation();\n                          setExpanded(row, !isRowExpanded(row));\n                        }}\n                      />\n                    </span>\n                  </Cell>\n                ) : null}\n\n                {/* Selection (flat mode) */}\n                {!treeEnabled && selectionMode ? (\n                  <Cell\n                    className=\"i-grid-selection-cell i-grid-selection-cell--body\"\n                    fixedWidth={selectionColumnWidth}\n                    onClickStop\n                    sticky={{\n                      frozen: true,\n                      stickyLeft: getStickyLeftForSelectionColumn(),\n                    }}>\n                    {selectionMode === 'multiple' ? (\n                      <IndeterminateCheckbox\n                        checked={getRowChecked(row)}\n                        indeterminate={getRowIndeterminate(row)}\n                        onChange={() => onRowSelectionToggle(row)}\n                        stopRowClick\n                      />\n                    ) : (\n                      <input\n                        type=\"radio\"\n                        checked={selectionSet.has(row)}\n                        name={`i-grid-radio-${idRef.current}`}\n                        onChange={() => onRowSelectionToggle(row)}\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                    )}\n                  </Cell>\n                ) : null}\n\n                {/* Number */}\n                {showNumberColumnEffective ? (\n                  <Cell\n                    className=\"i-grid-number-cell i-grid-number-cell--body\"\n                    fixedWidth={numberColumnWidth}\n                    onClickStop\n                    sticky={\n                      hasFrozenColumns\n                        ? {\n                            frozen: true,\n                            stickyLeft: getStickyLeftForNumberColumn(),\n                            zIndex: 2,\n                          }\n                        : undefined\n                    }>\n                    <span className=\"i-grid-cell__content\">\n                      {getRowNumber(rowIndex)}\n                    </span>\n                  </Cell>\n                ) : null}\n\n                {/* Cells */}\n                {effectiveColumns.map((col, colIndex) => {\n                  // TREE HOST\n                  if (treeEnabled && isTreeHostColumn(col)) {\n                    return (\n                      <Cell\n                        key={`c-${rowIndex}-${colIndex}`}\n                        col={col}\n                        onClickStop\n                        auto={!!col.isAuto}>\n                        <span className=\"i-grid-tree-inline\">\n                          <span\n                            className=\"i-grid-tree-indent\"\n                            style={{ width: getTreeIndentPx(row) }}\n                          />\n\n                          {hasChildren(row) ? (\n                            <IButton\n                              className=\"i-grid-tree-toggle\"\n                              size=\"2xs\"\n                              variant=\"outline\"\n                              icon={isExpandedTree(row) ? 'down' : 'next'}\n                              onClick={(e: MouseEvent) => {\n                                e.stopPropagation();\n                                onTreeToggle(row, e);\n                              }}\n                            />\n                          ) : (\n                            <span className=\"i-grid-tree-spacer\" />\n                          )}\n\n                          {selectionMode === 'multiple' ? (\n                            <IndeterminateCheckbox\n                              className=\"i-grid-tree-checkbox\"\n                              checked={getRowChecked(row)}\n                              indeterminate={getRowIndeterminate(row)}\n                              onChange={() => onRowSelectionToggle(row)}\n                              stopRowClick\n                            />\n                          ) : selectionMode === 'single' ? (\n                            <input\n                              className=\"i-grid-tree-radio\"\n                              type=\"radio\"\n                              checked={selectionSet.has(row)}\n                              name={`i-grid-radio-${idRef.current}`}\n                              onChange={() => onRowSelectionToggle(row)}\n                              onClick={(e) => e.stopPropagation()}\n                            />\n                          ) : null}\n\n                          {col.cellDef ? (\n                            renderCellDef(col.cellDef, row, {\n                              row,\n                              index: rowIndex,\n                              column: col,\n                            })\n                          ) : (\n                            <span className=\"i-grid-tree-text\">\n                              {col.fieldName\n                                ? highlightSearch\n                                  ? highlightSearch(\n                                      String(\n                                        (\n                                          row as unknown as Record<\n                                            string,\n                                            unknown\n                                          >\n                                        )?.[col.fieldName] ?? ''\n                                      ),\n                                      currentFilterText\n                                    )\n                                  : String(\n                                      (\n                                        row as unknown as Record<\n                                          string,\n                                          unknown\n                                        >\n                                      )?.[col.fieldName] ?? ''\n                                    )\n                                : ''}\n                            </span>\n                          )}\n                        </span>\n                      </Cell>\n                    );\n                  }\n\n                  // NORMAL CELL\n                  return (\n                    <Cell\n                      key={`c-${rowIndex}-${colIndex}`}\n                      col={col}\n                      auto={!!col.isAuto}>\n                      {col.cellDef ? (\n                        renderCellDef(col.cellDef, row, {\n                          row,\n                          index: rowIndex,\n                          column: col,\n                        })\n                      ) : (\n                        <span className=\"i-grid-cell__content\">\n                          {col.fieldName\n                            ? highlightSearch\n                              ? highlightSearch(\n                                  String(\n                                    (\n                                      row as unknown as Record<string, unknown>\n                                    )?.[col.fieldName] ?? ''\n                                  ),\n                                  currentFilterText\n                                )\n                              : String(\n                                  (row as unknown as Record<string, unknown>)?.[\n                                    col.fieldName\n                                  ] ?? ''\n                                )\n                            : ''}\n                        </span>\n                      )}\n                    </Cell>\n                  );\n                })}\n              </i-grid-row>\n\n              {/* DETAIL ROW */}\n              {hasExpandableRow && isRowExpanded(row) ? (\n                <i-grid-expandable-row\n                  className=\"i-grid-expandable-row flex\"\n                  role=\"row\">\n                  {expandableRowDef!.render(row, { row, index: rowIndex })}\n                </i-grid-expandable-row>\n              ) : null}\n            </React.Fragment>\n          );\n        })}\n      </i-grid-viewport>\n\n      {/* FOOTER */}\n      {hasPagination ? (\n        <div className=\"i-grid-footer\">\n          <IPaginator\n            length={totalLength}\n            pageIndex={pageIndex}\n            pageSize={pageSize}\n            pageSizeOptions={pageSizeOptions}\n            onPageChange={onPageChange}\n          />\n        </div>\n      ) : null}\n    </i-grid>\n  );\n}\n","// host-api.context.tsx\nimport React, { createContext, useContext } from 'react';\nimport type { IHostApi } from './host-api.types';\n\nconst IHostApiContext = createContext<IHostApi | null>(null);\n\nexport function IHostApiProvider(props: {\n  hostApi: IHostApi;\n  children: React.ReactNode;\n}) {\n  return (\n    <IHostApiContext.Provider value={props.hostApi}>\n      {props.children}\n    </IHostApiContext.Provider>\n  );\n}\n\nexport function useHostApi(): IHostApi {\n  const api = useContext(IHostApiContext);\n  if (!api)\n    throw new Error(\n      'useHostApi() must be used under <IHostApiProvider hostApi={...} />'\n    );\n  return api;\n}\n\n/** For components like IRouter (wont crash standalone mode) */\nexport function useHostApiOptional(): IHostApi | null {\n  return useContext(IHostApiContext);\n}\n","// host-ui.context.tsx\nimport React, { createContext, useContext, useMemo, useState } from 'react';\nimport type { IBreadcrumbItem } from './host-api.types';\n\nexport type IHostUiState = {\n  title: string | null;\n  breadcrumbs: IBreadcrumbItem[] | null;\n  setTitle: (title: string | null) => void;\n  setBreadcrumbs: (items: IBreadcrumbItem[] | null) => void;\n};\n\nconst IHostUiContext = createContext<IHostUiState | null>(null);\n\nexport function IHostUiProvider(props: { children: React.ReactNode }) {\n  const [title, setTitle] = useState<string | null>(null);\n  const [breadcrumbs, setBreadcrumbs] = useState<IBreadcrumbItem[] | null>(\n    null\n  );\n\n  const value = useMemo<IHostUiState>(\n    () => ({ title, breadcrumbs, setTitle, setBreadcrumbs }),\n    [title, breadcrumbs]\n  );\n\n  return (\n    <IHostUiContext.Provider value={value}>\n      {props.children}\n    </IHostUiContext.Provider>\n  );\n}\n\nexport function useHostUi(): IHostUiState {\n  const ctx = useContext(IHostUiContext);\n  if (!ctx)\n    throw new Error('useHostUi() must be used under <IHostUiProvider />');\n  return ctx;\n}\n","// host.tsx\nimport React, {\n  memo,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n  type JSX,\n} from 'react';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\nimport { IHostApiProvider, useHostApiOptional } from './host-api.context';\nimport type { IBreadcrumbItem, IHostApi, IMenu, IUser } from './host-api.types';\nimport { IHostUiProvider, useHostUi } from './host-ui.context';\n\n/* =========================================================\n * Highlight (Angular pipe replacement)\n * ========================================================= */\n\nfunction escapeHtml(input: string): string {\n  return (input ?? '')\n    .replaceAll('&', '&amp;')\n    .replaceAll('<', '&lt;')\n    .replaceAll('>', '&gt;')\n    .replaceAll('\"', '&quot;')\n    .replaceAll(\"'\", '&#039;');\n}\n\nfunction highlightSearchHtml(text: string, rawTerm: string): string {\n  const term = (rawTerm ?? '').trim();\n  if (!term) return escapeHtml(text ?? '');\n\n  const safeText = text ?? '';\n  const lower = safeText.toLowerCase();\n  const lowerTerm = term.toLowerCase();\n\n  let out = '';\n  let i = 0;\n\n  while (i < safeText.length) {\n    const idx = lower.indexOf(lowerTerm, i);\n    if (idx === -1) {\n      out += escapeHtml(safeText.slice(i));\n      break;\n    }\n    out += escapeHtml(safeText.slice(i, idx));\n    out += `<span class=\"highlight-search\">${escapeHtml(\n      safeText.slice(idx, idx + term.length)\n    )}</span>`;\n    i = idx + term.length;\n  }\n\n  return out;\n}\n\nconst Highlighted = memo(function Highlighted(props: {\n  text: string;\n  term: string;\n  as?: keyof JSX.IntrinsicElements;\n}) {\n  const { text, term, as = 'span' } = props;\n  const html = useMemo(() => highlightSearchHtml(text, term), [text, term]);\n  const Tag: React.ElementType = as; //  avoid `any`\n  return <Tag dangerouslySetInnerHTML={{ __html: html }} />;\n});\n\n/* =========================================\n * Breadcrumb helpers\n * ========================================= */\n\nfunction normalizeCrumbs(\n  items: IBreadcrumbItem[] | null | undefined\n): IBreadcrumbItem[] {\n  if (!items?.length) return [];\n  return items.filter((x): x is IBreadcrumbItem => !!x?.label);\n}\n\nfunction isPlainLeftClick(e: React.MouseEvent): boolean {\n  return e.button === 0 && !e.metaKey && !e.ctrlKey && !e.shiftKey && !e.altKey;\n}\n\n/* =========================================\n * IHContent (wrapper)\n * ========================================= */\n\nexport function IHContent(props: {\n  title?: string | null;\n  breadcrumbs?: IBreadcrumbItem[] | null;\n  onSidebarToggled?: (visible: boolean) => void;\n  defaultSidebarVisible?: boolean;\n  onNavigate?: (url: string) => void;\n}) {\n  const nav = useNavigate();\n\n  const crumbs = useMemo(\n    () => normalizeCrumbs(props.breadcrumbs),\n    [props.breadcrumbs]\n  );\n\n  const title =\n    props.title ?? (crumbs.length ? crumbs[crumbs.length - 1].label : null);\n\n  const [sidebarVisibility, setSidebarVisibility] = useState(\n    props.defaultSidebarVisible ?? true\n  );\n\n  const toggleSidebar = useCallback(() => {\n    setSidebarVisibility((prev) => {\n      const next = !prev;\n      props.onSidebarToggled?.(next);\n      return next;\n    });\n  }, [props]);\n\n  const go = useCallback(\n    (url: string) => {\n      if (props.onNavigate) return props.onNavigate(url);\n      nav(url);\n    },\n    [nav, props.onNavigate]\n  );\n\n  const onCrumbClick = useCallback(\n    (e: React.MouseEvent<HTMLAnchorElement>, url: string) => {\n      if (!isPlainLeftClick(e)) return;\n      e.preventDefault();\n\n      if (url.startsWith('/')) go(url);\n      else window.location.href = url;\n    },\n    [go]\n  );\n\n  return (\n    <ih-content>\n      <div className=\"ih-content-header\">\n        <a className=\"i-clickable\" onClick={toggleSidebar}>\n          {sidebarVisibility ? (\n            <img alt=\"sidebar-left\" src=\"/svgs/sidebar-left.svg\" />\n          ) : (\n            <img alt=\"sidebar-right\" src=\"/svgs/sidebar-right.svg\" />\n          )}\n        </a>\n\n        <h1>{title || 'Insight'}</h1>\n      </div>\n\n      <div className=\"ih-content-breadcrumbs\">\n        {crumbs.length ? (\n          crumbs.map((b, idx) => {\n            const first = idx === 0;\n            const last = idx === crumbs.length - 1;\n\n            //  first crumb is never clickable (Dashboard)\n            const clickable = !first && !last && !!b.url;\n\n            return (\n              <React.Fragment key={`${b.label}-${idx}`}>\n                {clickable ? (\n                  <a\n                    className=\"ih-content-breadcrumb ih-content-breadcrumb__link\"\n                    href={b.url}\n                    onClick={(e) => onCrumbClick(e, b.url!)}>\n                    {b.label}\n                  </a>\n                ) : (\n                  <span\n                    className={[\n                      'ih-content-breadcrumb',\n                      last\n                        ? 'ih-content-breadcrumb__current'\n                        : 'ih-content-breadcrumb__link',\n                      first ? 'ih-content-breadcrumb__first' : '',\n                    ]\n                      .filter(Boolean)\n                      .join(' ')}>\n                    {b.label}\n                  </span>\n                )}\n\n                {!last ? (\n                  <span className=\"ih-content-breadcrumb ih-content-breadcrumb__separator\">\n                    {'>'}\n                  </span>\n                ) : null}\n              </React.Fragment>\n            );\n          })\n        ) : (\n          <span className=\"ih-content-breadcrumb ih-content-breadcrumb__first\">\n            Home\n          </span>\n        )}\n      </div>\n\n      <div className=\"ih-content-body scroll scroll-y\">\n        <Outlet />\n      </div>\n    </ih-content>\n  );\n}\n\n/**\n * IHContentLayout\n * - Reads title/breadcrumbs from Host UI context\n * - Uses hostApi.navigate when available (MF host mode),\n *   otherwise IHContent falls back to react-router navigate()\n */\nexport function IHContentLayout() {\n  const ui = useHostUi();\n  const hostApi = useHostApiOptional();\n\n  return (\n    <IHContent\n      title={ui.title}\n      breadcrumbs={ui.breadcrumbs}\n      onNavigate={hostApi ? (url) => void hostApi.navigate(url) : undefined}\n    />\n  );\n}\n\n/* =========================================================\n * Filtering (same rules as Angular)\n * ========================================================= */\n\nfunction filterMenuTree(menus: IMenu[], rawTerm: string): IMenu[] {\n  const term = (rawTerm ?? '').trim().toLowerCase();\n  if (!term) return menus;\n\n  const filtered: IMenu[] = [];\n  for (const menu of menus) {\n    const result = filterMenuBranch(menu, term);\n    if (result) filtered.push(result);\n  }\n  return filtered;\n}\n\nfunction filterMenuBranch(menu: IMenu, term: string): IMenu | null {\n  const name = (menu.menuName ?? '').toLowerCase();\n  const selfMatches = name.includes(term);\n\n  const originalChildren = menu.child ?? [];\n\n  const filteredChildren: IMenu[] = [];\n  for (const child of originalChildren) {\n    const childResult = filterMenuBranch(child, term);\n    if (childResult) filteredChildren.push(childResult);\n  }\n\n  const childMatches = filteredChildren.length > 0;\n  if (!selfMatches && !childMatches) return null;\n\n  const childrenToUse = selfMatches ? originalChildren : filteredChildren;\n  const cloned: IMenu = { ...menu, child: childrenToUse };\n\n  if (+cloned.menuTypeId === 3 && (selfMatches || childMatches)) {\n    cloned.visibility = 'expanded';\n  }\n\n  return cloned;\n}\n\nfunction flattenNavigableMenus(menus: IMenu[]): IMenu[] {\n  const result: IMenu[] = [];\n\n  const visit = (menu: IMenu) => {\n    const children = menu.child ?? [];\n    const hasChildren = children.length > 0;\n\n    const isLeaf =\n      +menu.menuTypeId === 3 &&\n      (!hasChildren || menu.visibility === 'no-child');\n\n    if (isLeaf) result.push(menu);\n\n    for (const c of children) visit(c);\n  };\n\n  for (const m of menus) visit(m);\n  return result;\n}\n\n/* =========================================================\n * IHMenu (recursive)\n * ========================================================= */\n\ntype IHMenuProps = {\n  menu?: IMenu;\n  filter: string;\n  selectedMenuId: number | null;\n  onToggleGroup: (menuId: number) => void;\n};\n\nexport const IHMenu = memo(function IHMenu(props: IHMenuProps) {\n  const { menu, filter, selectedMenuId, onToggleGroup } = props;\n  const navigate = useNavigate();\n\n  const menuItemRef = useRef<HTMLElement | null>(null);\n  const hasChild = !!menu?.child?.length;\n\n  const isSelected = useMemo(() => {\n    if (!menu) return false;\n\n    const matchesId = menu.menuId === selectedMenuId;\n    if (!matchesId) return false;\n\n    const children = menu.child ?? [];\n    const hasChildren = children.length > 0;\n\n    const isLeaf =\n      +menu.menuTypeId === 3 &&\n      (!hasChildren || menu.visibility === 'no-child');\n\n    return isLeaf;\n  }, [menu, selectedMenuId]);\n\n  useLayoutEffect(() => {\n    if (isSelected && menuItemRef.current) {\n      menuItemRef.current.scrollIntoView({\n        block: 'nearest',\n        behavior: 'smooth',\n      });\n    }\n  }, [isSelected]);\n\n  const clickGroup = useCallback(() => {\n    if (!menu) return;\n    if (menu.visibility !== 'no-child') onToggleGroup(menu.menuId);\n  }, [menu, onToggleGroup]);\n\n  const renderIndent = (level: number) => {\n    if (!level || level <= 0) return null;\n    return Array.from({ length: level }).map((_, i) => <span key={i} />);\n  };\n\n  const onLeafNavigate = useCallback(\n    (m: IMenu) => {\n      if (m.applicationCode === 'INS5' && m.route) {\n        navigate(m.route);\n      } else if (m.applicationUrl) {\n        window.location.href = m.applicationUrl;\n      }\n    },\n    [navigate]\n  );\n\n  if (!menu) return null;\n\n  return (\n    <ih-menu>\n      <li\n        className={[\n          +menu.menuTypeId === 2 ? 'is-module' : '',\n          +menu.menuTypeId === 2 ? (menu.visibility ?? '') : '',\n        ]\n          .filter(Boolean)\n          .join(' ')}>\n        {+menu.menuTypeId === 2 ? (\n          <small>\n            <Highlighted text={menu.menuName} term={filter} />\n          </small>\n        ) : +menu.menuTypeId === 3 ? (\n          hasChild ? (\n            <div onClick={clickGroup}>\n              {menu.level > 0 ? renderIndent(menu.level) : null}\n              <i className={menu.icon ?? ''}></i>\n              <h6>\n                <Highlighted text={menu.menuName} term={filter} />\n              </h6>\n              <i\n                className={\n                  menu.visibility === 'expanded'\n                    ? 'fas fa-angle-up'\n                    : 'fas fa-angle-down'\n                }></i>\n            </div>\n          ) : (\n            <a\n              ref={(el) => {\n                menuItemRef.current = el as unknown as HTMLElement | null;\n              }}\n              className={isSelected ? 'is-selected' : ''}\n              href={\n                menu.applicationCode === 'INS5'\n                  ? (menu.route ?? '#')\n                  : (menu.applicationUrl ?? '#')\n              }\n              onClick={(e) => {\n                // keep open in new tab, etc\n                if (!isPlainLeftClick(e)) return;\n\n                // SPA nav for INS5\n                if (menu.applicationCode === 'INS5') {\n                  e.preventDefault();\n                  onLeafNavigate(menu);\n                  return;\n                }\n\n                // external link: allow normal navigation if url exists\n                if (menu.applicationCode !== 'INS5' && !menu.applicationUrl) {\n                  e.preventDefault();\n                  onLeafNavigate(menu);\n                }\n              }}>\n              {menu.level > 0 ? renderIndent(menu.level) : null}\n              <i className={menu.icon ?? ''}></i>\n              <h6>\n                <Highlighted text={menu.menuName} term={filter} />\n              </h6>\n            </a>\n          )\n        ) : null}\n\n        {hasChild ? (\n          <ul className={+menu.menuTypeId === 3 ? (menu.visibility ?? '') : ''}>\n            {(menu.child ?? []).map((m) => (\n              <IHMenu\n                key={m.menuId}\n                menu={m}\n                filter={filter}\n                selectedMenuId={selectedMenuId}\n                onToggleGroup={onToggleGroup}\n              />\n            ))}\n          </ul>\n        ) : null}\n      </li>\n    </ih-menu>\n  );\n});\n\n/* =========================================================\n * IHSidebar\n * ========================================================= */\n\nexport type IHSidebarProps = {\n  user?: IUser | null;\n  menus: IMenu[];\n  visible?: boolean;\n  footerText?: string;\n};\n\nexport function IHSidebar(props: IHSidebarProps) {\n  const { user, menus, visible = true, footerText = 'Insight Local' } = props;\n\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // init query params (same behavior)\n  const initialFilter = useMemo(() => {\n    const sp = new URLSearchParams(location.search);\n    return sp.get('menu-filter') ?? '';\n  }, [location.search]);\n\n  const [menuFilter, setMenuFilter] = useState(initialFilter);\n  const [keyboardNavActive, setKeyboardNavActive] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(null);\n  const [selectedMenuId, setSelectedMenuId] = useState<number | null>(null);\n\n  const [menuTree, setMenuTree] = useState<IMenu[]>(menus);\n\n  useEffect(() => {\n    setMenuTree(menus);\n  }, [menus]);\n\n  const filteredMenus = useMemo(\n    () => filterMenuTree(menuTree, menuFilter),\n    [menuTree, menuFilter]\n  );\n\n  const navigableMenus = useMemo(\n    () => flattenNavigableMenus(filteredMenus),\n    [filteredMenus]\n  );\n\n  const updateUrl = useCallback(\n    (nextFilter: string) => {\n      const sp = new URLSearchParams(location.search);\n      const f = nextFilter.trim();\n\n      if (f) sp.set('menu-filter', f);\n      else sp.delete('menu-filter');\n\n      navigate(\n        { search: sp.toString() ? `?${sp.toString()}` : '' },\n        { replace: true }\n      );\n    },\n    [location.search, navigate]\n  );\n\n  useEffect(() => {\n    const hasFilter = !!menuFilter.trim();\n\n    if (!navigableMenus.length || !hasFilter) {\n      setKeyboardNavActive(false);\n      setSelectedIndex(null);\n      setSelectedMenuId(null);\n      return;\n    }\n\n    if (keyboardNavActive) {\n      const maxIndex = navigableMenus.length - 1;\n      let idx = selectedIndex;\n      if (idx == null || idx < 0 || idx > maxIndex) idx = 0;\n\n      setSelectedIndex(idx);\n      setSelectedMenuId(navigableMenus[idx].menuId);\n    } else {\n      setSelectedIndex(null);\n      setSelectedMenuId(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [navigableMenus, menuFilter]);\n\n  const onFilterChange = useCallback(\n    (next: string) => {\n      setMenuFilter(next);\n      setKeyboardNavActive(false);\n      setSelectedIndex(null);\n      setSelectedMenuId(null);\n      updateUrl(next);\n    },\n    [updateUrl]\n  );\n\n  const onSearchKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\n      if (!navigableMenus.length) return;\n      if (!menuFilter.trim()) return;\n\n      if (event.key === 'ArrowDown') {\n        event.preventDefault();\n\n        if (!keyboardNavActive) {\n          setKeyboardNavActive(true);\n          setSelectedIndex(0);\n          setSelectedMenuId(navigableMenus[0].menuId);\n          return;\n        }\n\n        setSelectedIndex((cur) => {\n          const current = cur ?? 0;\n          const max = navigableMenus.length - 1;\n          const next = current + 1 > max ? 0 : current + 1;\n          setSelectedMenuId(navigableMenus[next].menuId);\n          return next;\n        });\n      } else if (event.key === 'ArrowUp') {\n        event.preventDefault();\n\n        if (!keyboardNavActive) {\n          setKeyboardNavActive(true);\n          const last = navigableMenus.length - 1;\n          setSelectedIndex(last);\n          setSelectedMenuId(navigableMenus[last].menuId);\n          return;\n        }\n\n        setSelectedIndex((cur) => {\n          const current = cur ?? 0;\n          const max = navigableMenus.length - 1;\n          const next = current - 1 < 0 ? max : current - 1;\n          setSelectedMenuId(navigableMenus[next].menuId);\n          return next;\n        });\n      } else if (event.key === 'Enter') {\n        if (!keyboardNavActive) return;\n        event.preventDefault();\n\n        const idx = selectedIndex;\n        if (idx == null || idx < 0 || idx >= navigableMenus.length) return;\n\n        const m = navigableMenus[idx];\n        if (m.applicationCode === 'INS5' && m.route) {\n          navigate(m.route);\n        } else if (m.applicationUrl) {\n          window.location.href = m.applicationUrl;\n        }\n      }\n    },\n    [navigableMenus, menuFilter, keyboardNavActive, selectedIndex, navigate]\n  );\n\n  const onToggleGroup = useCallback((menuId: number) => {\n    const update = (list: IMenu[]): IMenu[] =>\n      list.map((m) => {\n        if (m.menuId === menuId) {\n          if (m.visibility !== 'no-child') {\n            const nextVis =\n              m.visibility === 'expanded' ? 'collapsed' : 'expanded';\n            return { ...m, visibility: nextVis };\n          }\n          return m;\n        }\n        if (m.child?.length) return { ...m, child: update(m.child) };\n        return m;\n      });\n\n    setMenuTree((prev) => update(prev));\n  }, []);\n\n  return (\n    <ih-sidebar className={!visible ? 'hidden' : undefined}>\n      <div className=\"ih-sidebar-header\">\n        {user ? (\n          <>\n            <div className=\"user-image\">\n              <img alt=\"User Image\" src={user.userImagePath} />\n            </div>\n            <div className=\"user-info\">\n              <small className=\"text-subtle\">{user.employeeCode}</small>\n              <h6>{user.fullName}</h6>\n            </div>\n          </>\n        ) : null}\n      </div>\n\n      <div className=\"ih-sidebar-search\">\n        <input\n          placeholder=\"Search Menu..\"\n          className=\"form-control\"\n          value={menuFilter}\n          onChange={(e) => onFilterChange(e.target.value)}\n          onKeyDown={onSearchKeyDown}\n        />\n      </div>\n\n      <div className=\"ih-sidebar-body scroll scroll-y\">\n        <ul>\n          {filteredMenus.map((m) => (\n            <IHMenu\n              key={m.menuId}\n              menu={m}\n              filter={menuFilter}\n              selectedMenuId={selectedMenuId}\n              onToggleGroup={onToggleGroup}\n            />\n          ))}\n        </ul>\n      </div>\n\n      <div className=\"ih-sidebar-footer\">\n        <small>{footerText}</small>\n      </div>\n    </ih-sidebar>\n  );\n}\n\n/* =========================================================\n * HostShell (bridge host api -> host ui)\n * ========================================================= */\n\nfunction HostApiBridge(props: { children: React.ReactNode }) {\n  const navigate = useNavigate();\n  const { setTitle, setBreadcrumbs } = useHostUi(); //  only grab stable setters\n\n  const hostApi = useMemo<IHostApi>(\n    () => ({\n      navigate: (url) => navigate(url),\n      setTitle,\n      setBreadcrumbs,\n    }),\n    [navigate, setTitle, setBreadcrumbs] //  stable deps\n  );\n\n  return (\n    <IHostApiProvider hostApi={hostApi}>{props.children}</IHostApiProvider>\n  );\n}\n\nexport function HostShell(props: { children: React.ReactNode }) {\n  return (\n    <IHostUiProvider>\n      <HostApiBridge>{props.children}</HostApiBridge>\n    </IHostUiProvider>\n  );\n}\n","// router.tsx\nimport React, { Suspense, lazy, useEffect, useMemo, useRef } from 'react';\nimport { Navigate, Outlet, Route, Routes, useLocation } from 'react-router-dom';\nimport { useHostApiOptional } from './host-api.context';\nimport type { IBreadcrumbItem } from './host-api.types';\nimport type { IRoute, IRouteComponent, IRoutes } from './router.types';\n\nexport type IRouterProps = {\n  routes: IRoutes;\n  loading?: React.ReactNode;\n  notFound?: React.ReactNode;\n};\n\nfunction stripSlashes(s: string): string {\n  return (s ?? '').replace(/^\\/+|\\/+$/g, '');\n}\n\nfunction normalizePath(path?: string) {\n  // react-router treats \"\" specially; we use \"\" to mean \"index-like\" when redirecting\n  if (path == null) return '';\n  return path;\n}\n\nfunction splitPathname(pathname: string): string[] {\n  const clean = stripSlashes(pathname);\n  return clean ? clean.split('/').filter(Boolean) : [];\n}\n\nfunction matchSegment(routeSegment: string, urlSegment: string) {\n  if (routeSegment.startsWith(':')) return true;\n  return routeSegment === urlSegment;\n}\n\n/**\n * Implicit index support:\n * If a route has children AND has element/loadComponent,\n * we inject an index child that renders the original content.\n *\n * IMPORTANT:\n * - We MUST NOT do this for root/layout routes like path \"\" (DevLayout), otherwise the layout disappears.\n * - We DO want it for non-root pages like \"example-1\" that have children.\n */\nfunction expandImplicitIndexRoutes(routes: IRoutes): IRoutes {\n  const walk = (list: IRoutes): IRoutes =>\n    list.map((r) => {\n      const hasChildren = !!r.children?.length;\n      const hasOwnContent = !!r.element || !!r.loadComponent;\n\n      if (!hasChildren) return r;\n\n      const expandedChildren = walk(r.children ?? []);\n\n      if (!hasOwnContent) {\n        // grouping/layout node (already outlet-only)\n        return { ...r, children: expandedChildren };\n      }\n\n      //  DO NOT rewrite index-like layout routes (path \"\" / undefined)\n      // This is what keeps DevLayout rendering in AppDev.\n      const p = r.path;\n      const isIndexLikeLayout = p == null || p === '';\n      if (isIndexLikeLayout) {\n        return { ...r, children: expandedChildren };\n      }\n\n      const hasExplicitIndex = expandedChildren.some((c) => c.index === true);\n\n      const implicitIndex: IRoute = {\n        index: true,\n        //  NO meta here (parent keeps it so nested children show parent crumb)\n        title: undefined,\n        breadcrumb: undefined,\n        redirectTo: undefined,\n        element: r.element,\n        loadComponent: r.loadComponent,\n      };\n\n      //  parent becomes outlet wrapper but keeps meta\n      const parent: IRoute = {\n        ...r,\n        element: <Outlet />,\n        loadComponent: undefined,\n        children: hasExplicitIndex\n          ? expandedChildren\n          : [implicitIndex, ...expandedChildren],\n      };\n\n      return parent;\n    });\n\n  return walk(routes);\n}\n\ntype MatchNode = { route: IRoute; url: string };\n\nfunction findMatchChain(\n  routes: IRoutes,\n  urlSegments: string[],\n  baseUrl: string\n): MatchNode[] | null {\n  // at end: match index route if present\n  if (urlSegments.length === 0) {\n    const indexRoute = routes.find((r) => r.index);\n    if (indexRoute) return [{ route: indexRoute, url: baseUrl || '/' }];\n    return null;\n  }\n\n  for (const r of routes) {\n    if (r.index) continue;\n\n    const routePath = stripSlashes(normalizePath(r.path));\n    const routeSegments = routePath ? routePath.split('/').filter(Boolean) : [];\n\n    // path '' wrapper: try children without consuming segments\n    if (routeSegments.length === 0) {\n      if (r.children?.length) {\n        const next = findMatchChain(r.children, urlSegments, baseUrl);\n        if (next) return [{ route: r, url: baseUrl || '/' }, ...next];\n      }\n      continue;\n    }\n\n    if (routeSegments.length > urlSegments.length) continue;\n\n    let ok = true;\n    const consumed: string[] = [];\n\n    for (let i = 0; i < routeSegments.length; i++) {\n      const a = routeSegments[i];\n      const b = urlSegments[i];\n      if (!matchSegment(a, b)) {\n        ok = false;\n        break;\n      }\n      consumed.push(b);\n    }\n    if (!ok) continue;\n\n    const nextBase = (baseUrl + '/' + consumed.join('/')).replace(/\\/+/g, '/');\n    const remaining = urlSegments.slice(routeSegments.length);\n\n    if (remaining.length === 0) {\n      // exact match: if it has index child, include it (it renders the parents content)\n      if (r.children?.length) {\n        const indexChild = r.children.find((c) => c.index);\n        if (indexChild) {\n          return [\n            { route: r, url: nextBase || '/' },\n            { route: indexChild, url: nextBase || '/' },\n          ];\n        }\n      }\n      return [{ route: r, url: nextBase || '/' }];\n    }\n\n    if (r.children?.length) {\n      const child = findMatchChain(r.children, remaining, nextBase);\n      if (child) return [{ route: r, url: nextBase || '/' }, ...child];\n    }\n  }\n\n  return null;\n}\n\nfunction buildBreadcrumbsFromChain(chain: MatchNode[]): IBreadcrumbItem[] {\n  const items: IBreadcrumbItem[] = [];\n\n  for (const m of chain) {\n    // ignore redirect-only nodes\n    if (m.route.redirectTo) continue;\n\n    const label = m.route.breadcrumb ?? m.route.title;\n    if (!label) continue;\n\n    // de-dupe consecutive labels\n    const last = items[items.length - 1];\n    if (last && last.label === label) continue;\n\n    items.push({ label, url: m.url });\n  }\n\n  if (items.length) {\n    items[items.length - 1] = { ...items[items.length - 1], url: undefined };\n  }\n\n  return items;\n}\n\nfunction makeElement(r: IRoute) {\n  // redirect node\n  if (r.redirectTo) return <Navigate to={r.redirectTo} replace />;\n\n  if (r.element) return r.element;\n\n  if (r.loadComponent) {\n    const C = lazy(async () => {\n      const comp: IRouteComponent = await r.loadComponent!();\n      return { default: comp };\n    });\n    return <C />;\n  }\n\n  if (r.children?.length) return <Outlet />;\n\n  return null;\n}\n\nfunction renderRouteTree(routes: IRoutes): React.ReactNode {\n  return routes.map((r, idx) => {\n    const element = makeElement(r);\n\n    // treat path \"\" redirect as index redirect\n    const isIndexLike = r.index === true || r.path === '' || r.path == null;\n\n    if (isIndexLike) {\n      if (r.redirectTo) {\n        return <Route key={`redir-${idx}`} index element={element} />;\n      }\n      if (r.index) {\n        return <Route key={`idx-${idx}`} index element={element} />;\n      }\n      // path \"\" layout route\n      return (\n        <Route key={`layout-${idx}`} element={element}>\n          {r.children?.length ? renderRouteTree(r.children) : null}\n        </Route>\n      );\n    }\n\n    const path = normalizePath(r.path) || undefined;\n\n    return (\n      <Route key={`${path ?? 'root'}-${idx}`} path={path} element={element}>\n        {r.children?.length ? renderRouteTree(r.children) : null}\n      </Route>\n    );\n  });\n}\n\nexport function IRouter(props: IRouterProps) {\n  const {\n    routes,\n    loading = <div style={{ padding: 16 }}>Loading</div>,\n    notFound = <div style={{ padding: 16 }}>Not Found</div>,\n  } = props;\n\n  const hostApi = useHostApiOptional();\n  const location = useLocation();\n\n  const expandedRoutes = useMemo(\n    () => expandImplicitIndexRoutes(routes),\n    [routes]\n  );\n  const routeElements = useMemo(\n    () => renderRouteTree(expandedRoutes),\n    [expandedRoutes]\n  );\n\n  const lastTitleRef = useRef<string | null>(null);\n  const lastCrumbsKeyRef = useRef<string>('');\n\n  useEffect(() => {\n    if (!hostApi) return;\n\n    const urlSegments = splitPathname(location.pathname);\n    const chain = findMatchChain(expandedRoutes, urlSegments, '') ?? [];\n\n    const crumbs = buildBreadcrumbsFromChain(chain);\n    const crumbsKey = JSON.stringify(\n      crumbs.map((c) => ({ l: c.label, u: c.url ?? '' }))\n    );\n\n    // title = last route in chain that has title\n    const lastWithTitle = [...chain]\n      .reverse()\n      .find((x) => x.route.title)?.route;\n    const nextTitle = lastWithTitle?.title ?? null;\n\n    if (lastTitleRef.current !== nextTitle) {\n      lastTitleRef.current = nextTitle;\n      hostApi.setTitle(nextTitle);\n    }\n\n    if (lastCrumbsKeyRef.current !== crumbsKey) {\n      lastCrumbsKeyRef.current = crumbsKey;\n      hostApi.setBreadcrumbs(crumbs.length ? crumbs : null);\n    }\n  }, [hostApi, location.pathname, expandedRoutes]);\n\n  return (\n    <Suspense fallback={loading}>\n      <Routes>\n        {routeElements}\n        <Route path=\"*\" element={notFound} />\n      </Routes>\n    </Suspense>\n  );\n}\n","// section.tsx\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nexport type ISectionTabBadge =\n  | boolean\n  | ''\n  | number\n  | string\n  | null\n  | undefined;\n\nexport type ISectionTabsHeight =\n  | 'wrap'\n  | 'auto'\n  | number\n  | string\n  | null\n  | undefined;\n\n/* =========================\n * Helpers (match Angular)\n * ========================= */\n\nfunction isTruthyAttr(v: any): boolean {\n  if (v === null || v === undefined) return false;\n  const s = String(v).trim().toLowerCase();\n  if (s === 'false' || s === '0' || s === 'null' || s === 'undefined')\n    return false;\n  return true;\n}\n\nfunction parseBadge(v: any): { enabled: boolean; value: number | null } {\n  if (!isTruthyAttr(v)) return { enabled: false, value: null };\n\n  const raw = String(v).trim();\n  if (raw === '' || raw.toLowerCase() === 'true')\n    return { enabled: true, value: null };\n\n  const n = Number(raw);\n  // Angular: finite integer >= 0, else dot\n  if (Number.isFinite(n) && Number.isInteger(n) && n >= 0) {\n    return { enabled: true, value: n };\n  }\n\n  return { enabled: true, value: null };\n}\n\nfunction parseTabsHeight(v: any): number | null {\n  // null => wrap (default)\n  if (v === null || v === undefined) return null;\n\n  const s = String(v).trim().toLowerCase();\n  if (s === '' || s === 'wrap' || s === 'auto') return null;\n\n  // allow \"300\", \"300px\"\n  if (s.endsWith('px')) {\n    const n = Number(s.slice(0, -2).trim());\n    return Number.isFinite(n) && n > 0 ? n : null;\n  }\n\n  const n = Number(s);\n  return Number.isFinite(n) && n > 0 ? n : null;\n}\n\nfunction isValidIndex(index: any, len: number): index is number {\n  return Number.isInteger(index) && index >= 0 && index < len;\n}\n\n/* =========================\n * ISection (shell components)\n * ========================= */\n\nexport function ISection(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-section {...props} />;\n}\n\nexport function ISectionHeader(props: React.HTMLAttributes<HTMLElement>) {\n  return (\n    <i-section-header {...props}>\n      <h4>{props.children}</h4>\n    </i-section-header>\n  );\n}\n\nexport function ISectionSubHeader(props: React.HTMLAttributes<HTMLElement>) {\n  return (\n    <i-section-sub-header {...props}>\n      <h6>{props.children}</h6>\n    </i-section-sub-header>\n  );\n}\n\nexport function ISectionFilter(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-section-filter {...props} />;\n}\n\nexport function ISectionBody(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-section-body {...props} />;\n}\n\nexport function ISectionFooter(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-section-footer {...props} />;\n}\n\n/* =========================\n * ISectionTab (declarative)\n * ========================= */\n\nexport type ISectionTabProps = {\n  title?: string;\n  opened?: boolean;\n  badge?: ISectionTabBadge;\n\n  /**\n   * If provided, overrides the default header (Angular parity:\n   * <i-section-tab-header> replaces default header template).\n   */\n  header?: React.ReactNode;\n\n  /** Content of the tab */\n  children?: React.ReactNode;\n};\n\nexport function ISectionTab(_props: ISectionTabProps) {\n  // not rendered directly; consumed by ISectionTabs\n  return null;\n}\n\ntype NormalizedTab = {\n  key: string;\n  title: string;\n  opened: boolean;\n  badgeEnabled: boolean;\n  badgeValue: number | null;\n\n  /** Resolved header node: custom header OR default header template */\n  headerNode: React.ReactNode;\n\n  contentNode: React.ReactNode;\n};\n\nfunction DefaultHeader(props: {\n  title: string;\n  badgeEnabled: boolean;\n  badgeValue: number | null;\n}) {\n  const { title, badgeEnabled, badgeValue } = props;\n\n  return (\n    <>\n      <span className=\"i-section-tab-title\">{title}</span>\n\n      {badgeEnabled ? (\n        <span\n          className={[\n            'i-section-tab-badge',\n            badgeValue !== null ? 'has-number' : null,\n          ]\n            .filter(Boolean)\n            .join(' ')}>\n          {badgeValue !== null ? (\n            <span className=\"i-section-tab-badge-number\">{badgeValue}</span>\n          ) : null}\n        </span>\n      ) : null}\n    </>\n  );\n}\n\nfunction normalizeTab(\n  node: React.ReactNode,\n  index: number\n): NormalizedTab | null {\n  if (!React.isValidElement(node)) return null;\n\n  // Must be <ISectionTab .../>\n  if ((node.type as any) !== ISectionTab) return null;\n\n  const props = node.props as ISectionTabProps;\n\n  const title = String(props.title ?? '');\n  const opened = !!props.opened;\n\n  const parsed = parseBadge(props.badge);\n  const badgeEnabled = parsed.enabled;\n  const badgeValue = parsed.value;\n\n  // Angular parity:\n  // - header template overrides default header template\n  const headerNode =\n    props.header !== undefined && props.header !== null ? (\n      props.header\n    ) : (\n      <DefaultHeader\n        title={title}\n        badgeEnabled={badgeEnabled}\n        badgeValue={badgeValue}\n      />\n    );\n\n  const contentNode = props.children ?? null;\n\n  return {\n    key: `tab-${index}`,\n    title,\n    opened,\n    badgeEnabled,\n    badgeValue,\n    headerNode,\n    contentNode,\n  };\n}\n\n/* =========================\n * ISectionTabs\n * ========================= */\n\nexport type ISectionTabsProps = React.HTMLAttributes<HTMLElement> & {\n  /** optional controlled mode */\n  selectedIndex?: number | null;\n\n  /**  on* prefix (Angular parity) */\n  onSelectedIndexChange?: (index: number) => void;\n\n  /**\n   * height:\n   * - \"wrap\" / \"auto\" / null => wrap (default)\n   * - 300 / \"300\" / \"300px\" => fixed px height + internal scroll\n   */\n  height?: ISectionTabsHeight;\n\n  children?: React.ReactNode; // expects ISectionTab[]\n};\n\nexport function ISectionTabs(props: ISectionTabsProps) {\n  const {\n    selectedIndex = null,\n    onSelectedIndexChange,\n    height = 'wrap',\n    children,\n    className,\n    ...rest\n  } = props;\n\n  const tabs = useMemo(() => {\n    const arr = React.Children.toArray(children);\n    return arr\n      .map((n, i) => normalizeTab(n, i))\n      .filter(Boolean) as NormalizedTab[];\n  }, [children]);\n\n  const openedIndex = useMemo(() => tabs.findIndex((t) => t.opened), [tabs]);\n  const contentHeightPx = useMemo(() => parseTabsHeight(height), [height]);\n  const isFixedHeight = contentHeightPx !== null;\n\n  // Angular parity:\n  // \"controlled\" only if selectedIndex is valid for current tabs\n  const hasValidControlledIndex = useMemo(\n    () =>\n      selectedIndex !== null &&\n      selectedIndex !== undefined &&\n      isValidIndex(selectedIndex, tabs.length),\n    [selectedIndex, tabs.length]\n  );\n\n  const computeNextIndex = useCallback((): number => {\n    if (hasValidControlledIndex) return selectedIndex as number;\n    if (openedIndex >= 0 && isValidIndex(openedIndex, tabs.length))\n      return openedIndex;\n    return 0;\n  }, [hasValidControlledIndex, selectedIndex, openedIndex, tabs.length]);\n\n  const [activeIndex, setActiveIndex] = useState<number>(() =>\n    computeNextIndex()\n  );\n\n  useEffect(() => {\n    // Sync when children change or selectedIndex changes.\n    setActiveIndex(computeNextIndex());\n  }, [computeNextIndex]);\n\n  const activeTab = tabs[activeIndex] ?? null;\n\n  const setActive = useCallback(\n    (index: number, emit: boolean) => {\n      if (!isValidIndex(index, tabs.length)) return;\n\n      setActiveIndex(index);\n\n      if (emit) {\n        onSelectedIndexChange?.(index);\n      }\n    },\n    [onSelectedIndexChange, tabs.length]\n  );\n\n  const activateByIndex = useCallback(\n    (index: number) => {\n      setActive(index, true);\n    },\n    [setActive]\n  );\n\n  return (\n    <i-section-tabs className={className} {...rest}>\n      {/* Angular DOM: .i-section-tabs-headers / .i-section-tabs-header */}\n      <div className=\"i-section-tabs-headers\" role=\"tablist\">\n        {tabs.map((tab, index) => {\n          const isActive = index === activeIndex;\n\n          return (\n            <button\n              key={tab.key}\n              className={['i-section-tabs-header', isActive ? 'active' : null]\n                .filter(Boolean)\n                .join(' ')}\n              role=\"tab\"\n              type=\"button\"\n              aria-selected={isActive}\n              tabIndex={isActive ? 0 : -1}\n              onClick={() => activateByIndex(index)}>\n              {/* Angular parity: render ONLY headerTpl */}\n              {tab.headerNode}\n            </button>\n          );\n        })}\n      </div>\n\n      <div\n        className={[\n          'i-section-tabs-content',\n          isFixedHeight ? 'scroll' : null,\n          isFixedHeight ? 'scroll-y' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        style={isFixedHeight ? { height: `${contentHeightPx}px` } : undefined}>\n        {activeTab ? activeTab.contentNode : null}\n      </div>\n    </i-section-tabs>\n  );\n}\n","import React, { useCallback, useId, useMemo, useRef, useState } from 'react';\n\n/* =========================================\n * Types\n * ========================================= */\n\nexport type IToggleProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'onChange' | 'children'\n> & {\n  /** Controlled value */\n  checked?: boolean;\n\n  /** Uncontrolled initial value */\n  defaultChecked?: boolean;\n\n  disabled?: boolean;\n\n  /** Label content: <IToggle>Label</IToggle> */\n  children?: React.ReactNode;\n\n  /** Put label left or right */\n  labelPosition?: 'left' | 'right';\n\n  /** Matches your convention */\n  onChange?: (checked: boolean) => void;\n\n  /** Optional: touched semantics */\n  onTouched?: () => void;\n\n  /** Optional: pass through input name/value for forms */\n  name?: string;\n  value?: string;\n};\n\nconst INTERACTIVE_SELECTOR_PARTS = [\n  'a',\n  'button',\n  'input',\n  'textarea',\n  'select',\n  'label',\n  '[role=\"button\"]',\n  '[role=\"link\"]',\n  '[role=\"switch\"]',\n  '[contenteditable=\"true\"]',\n  '[tabindex]:not([tabindex=\"-1\"])',\n] as const;\n\nconst INTERACTIVE_SELECTOR = INTERACTIVE_SELECTOR_PARTS.join(',');\n\nfunction isInteractive(el: HTMLElement | null): boolean {\n  if (!el) return false;\n\n  const tag = el.tagName.toLowerCase();\n  if (\n    tag === 'a' ||\n    tag === 'button' ||\n    tag === 'input' ||\n    tag === 'textarea' ||\n    tag === 'select' ||\n    tag === 'label'\n  )\n    return true;\n\n  const role = el.getAttribute('role');\n  if (role === 'button' || role === 'link' || role === 'switch') return true;\n\n  if ((el as any).isContentEditable) return true;\n\n  const tabindex = el.getAttribute('tabindex');\n  if (tabindex != null && tabindex !== '-1') return true;\n\n  return false;\n}\n\n/* =========================================\n * Component\n * ========================================= */\n\nexport function IToggle(props: IToggleProps) {\n  const {\n    checked,\n    defaultChecked = false,\n    disabled = false,\n    labelPosition = 'right',\n    onChange,\n    onTouched,\n    children,\n    className,\n    name,\n    value,\n    ...rest\n  } = props;\n\n  const inputId = useId();\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  const isControlled = checked != null;\n  const [uncontrolledChecked, setUncontrolledChecked] =\n    useState<boolean>(defaultChecked);\n\n  const currentChecked = isControlled ? !!checked : uncontrolledChecked;\n\n  const hostClassName = useMemo(() => {\n    return [\n      'i-toggle',\n      currentChecked ? 'i-toggle__active' : null,\n      disabled ? 'i-toggle__disabled' : null,\n      labelPosition === 'left' ? 'i-toggle__label-left' : null,\n      className ?? null,\n    ]\n      .filter(Boolean)\n      .join(' ');\n  }, [currentChecked, disabled, labelPosition, className]);\n\n  const emitChange = useCallback(\n    (next: boolean) => {\n      if (!isControlled) setUncontrolledChecked(next);\n      onChange?.(next);\n    },\n    [isControlled, onChange]\n  );\n\n  const handleNativeChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (disabled) return;\n      emitChange(!!e.target.checked);\n    },\n    [disabled, emitChange]\n  );\n\n  const handleBlur = useCallback(() => {\n    onTouched?.();\n  }, [onTouched]);\n\n  const handleHostClick = useCallback(\n    (e: React.MouseEvent<HTMLElement>) => {\n      if (disabled) return;\n\n      const target = e.target as HTMLElement | null;\n\n      // let native input handle itself\n      if (target?.tagName.toLowerCase() === 'input') return;\n\n      // if clicking something interactive inside projected label, don't toggle\n      if (\n        target &&\n        (isInteractive(target) || target.closest(INTERACTIVE_SELECTOR))\n      ) {\n        return;\n      }\n\n      inputRef.current?.click();\n    },\n    [disabled]\n  );\n\n  return (\n    <i-toggle\n      {...rest}\n      className={hostClassName}\n      onClick={handleHostClick}\n      role=\"switch\"\n      aria-checked={currentChecked}\n      aria-disabled={disabled || undefined}>\n      <input\n        ref={inputRef}\n        id={inputId}\n        className=\"i-toggle__input\"\n        type=\"checkbox\"\n        checked={currentChecked}\n        disabled={disabled}\n        name={name}\n        value={value}\n        onChange={handleNativeChange}\n        onBlur={handleBlur}\n      />\n\n      <span className=\"i-toggle__thumb\" />\n\n      <span className=\"i-toggle__label\">{children}</span>\n    </i-toggle>\n  );\n}\n"]}