{"version":3,"sources":["../src/components/icon/icon.constants.ts","../src/components/icon/icon.tsx","../src/components/loading/loading.tsx","../src/components/button/button.tsx","../src/components/card/card.tsx","../src/components/code-viewer/code-viewer.tsx","../src/components/input/input.tsx","../src/components/select/select.tsx","../src/components/datepicker/datepicker.tsx","../src/components/textarea/textarea.tsx","../src/components/dialog/dialog.tsx","../src/components/shared/form.errors.ts","../src/components/grid/grid-data-source.ts","../src/components/grid/paginator.tsx","../src/components/grid/grid.tsx","../src/components/host/host.tsx","../src/components/host/host-api.context.tsx","../src/components/host/page.tsx","../src/components/section/section.tsx"],"names":["jsx","jsxs","n","useEffect","React","useRef","seg","IInput","useState","useMemo","escapeHtml","row","panelPositionClass","useCallback","resolveErrorMessage","selfMatches","_a","c","children","next","Highlighted","IHMenu","Fragment","createContext","useContext","useLocation"],"mappings":";;;;;AACO,IAAM,YAAA,GAAe;AAAA,EAC1B,GAAA,EAAK,kBAAA;AAAA,EACL,YAAA,EAAc,wBAAA;AAAA,EACd,UAAA,EAAY,sBAAA;AAAA,EACZ,YAAA,EAAc,wBAAA;AAAA,EACd,UAAA,EAAY,sBAAA;AAAA,EACZ,IAAA,EAAM,0BAAA;AAAA,EACN,IAAA,EAAM,kBAAA;AAAA,EACN,MAAA,EAAQ,mBAAA;AAAA,EACR,QAAA,EAAU,2BAAA;AAAA,EAEV,KAAA,EAAO,mBAAA;AAAA,EACP,cAAA,EAAgB,0BAAA;AAAA,EAChB,IAAA,EAAM,kBAAA;AAAA,EACN,MAAA,EAAQ,mBAAA;AAAA,EACR,IAAA,EAAM,iBAAA;AAAA,EACN,QAAA,EAAU,sBAAA;AAAA,EAEV,WAAA,EAAa,gCAAA;AAAA,EACb,YAAA,EAAc,wBAAA;AAAA,EACd,UAAA,EAAY,sBAAA;AAAA,EACZ,aAAA,EAAe,yBAAA;AAAA,EACf,OAAA,EAAS,qBAAA;AAAA,EACT,IAAA,EAAM,yBAAA;AAAA,EAEN,aAAA,EAAe,yBAAA;AAAA,EACf,IAAA,EAAM,wCAAA;AAAA,EACN,QAAA,EAAU,6BAAA;AAAA,EACV,YAAA,EAAc,0BAAA;AAAA,EACd,IAAA,EAAM,2BAAA;AAAA,EACN,IAAA,EAAM,0BAAA;AAAA,EACN,EAAA,EAAI,sBAAA;AAAA,EACJ,IAAA,EAAM,wBAAA;AAAA,EACN,IAAA,EAAM,yBAAA;AAAA,EACN,SAAA,EAAW,4BAAA;AAAA,EACX,UAAA,EAAY,4BAAA;AAAA,EACZ,UAAA,EAAY,4BAAA;AAAA,EACZ,IAAA,EAAM,2BAAA;AAAA,EAEN,IAAA,EAAM,kBAAA;AAAA,EACN,IAAA,EAAM,kBAAA;AAAA,EACN,KAAA,EAAO,mBAAA;AAAA,EACP,MAAA,EAAQ,oBAAA;AAAA,EACR,MAAA,EAAQ,4BAAA;AAAA,EAER,IAAA,EAAM,iBAAA;AAAA,EACN,CAAA,EAAG,mBAAA;AAAA,EACH,UAAA,EAAY;AACd;AAEO,IAAM,YAAA,GAAe;AAAA,EAC1B,KAAA,EAAO,YAAA;AAAA,EACP,EAAA,EAAI,WAAA;AAAA,EACJ,EAAA,EAAI,WAAA;AAAA,EACJ,EAAA,EAAI,WAAA;AAAA,EACJ,EAAA,EAAI,WAAA;AAAA,EACJ,EAAA,EAAI,WAAA;AAAA,EACJ,KAAA,EAAO,YAAA;AAAA,EACP,KAAA,EAAO,YAAA;AAAA,EACP,KAAA,EAAO;AACT;AC3CO,SAAS,MAAM,KAAA,EAAmB;AACvC,EAAA,MAAM,EAAE,IAAA,EAAM,IAAA,GAAO,MAAM,SAAA,EAAW,GAAG,MAAK,GAAI,KAAA;AAElD,EAAA,MAAM,aAAA,GAAgB,YAAA,CAAa,IAAI,CAAA,IAAK,YAAA,CAAa,EAAA;AAGzD,EAAA,MAAM,SAAA,GACH,YAAA,CAAwC,IAAI,CAAA,IAAK,OAAO,IAAI,CAAA;AAE/D,EAAA,MAAM,aAAa,CAAA,EAAG,SAAS,CAAA,CAAA,EAAI,aAAa,GAAG,IAAA,EAAK;AAExD,EAAA,uBACE,GAAA,CAAC,QAAA,EAAA,EAAO,SAAA,EAAsB,IAAA,EAAa,GAAG,MAC5C,QAAA,kBAAA,GAAA,CAAC,GAAA,EAAA,EAAE,SAAA,EAAW,UAAA,EAAY,CAAA,EAC5B,CAAA;AAEJ;AC1BO,SAAS,SAAS,KAAA,EAAsB;AAC7C,EAAA,MAAM,EAAE,QAAQ,WAAA,EAAa,KAAA,GAAQ,OAAO,SAAA,EAAW,GAAG,MAAK,GAAI,KAAA;AAEnE,EAAA,uBACE,IAAA,CAAC,eAAU,SAAA,EAAsB,KAAA,EAAO,QAAQ,EAAA,GAAK,MAAA,EAAY,GAAG,IAAA,EAClE,QAAA,EAAA;AAAA,oBAAAA,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW;AAAA,UACT,gBAAA;AAAA,UACA,mBAAA;AAAA,UACA,QAAQ,OAAA,GAAU;AAAA,SACpB,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,QACX,IAAA,EAAK;AAAA;AAAA,KACP;AAAA,IACC,KAAA,GAAQ,CAAA,CAAA,EAAI,KAAK,CAAA,CAAA,GAAK;AAAA,GAAA,EACzB,CAAA;AAEJ;ACQA,SAAS,gBAAgB,OAAA,EAAqD;AAC5E,EAAA,IAAI,EAAA,GAAyB,OAAA;AAC7B,EAAA,OAAO,EAAA,EAAI;AACT,IAAA,IAAI,EAAA,YAAc,iBAAiB,OAAO,EAAA;AAC1C,IAAA,EAAA,GAAK,EAAA,CAAG,aAAA;AAAA,EACV;AACA,EAAA,OAAO,IAAA;AACT;AAEO,SAAS,QAAQ,KAAA,EAAqB;AAC3C,EAAA,MAAM;AAAA,IACJ,QAAA,GAAW,KAAA;AAAA,IACX,OAAA,GAAU,KAAA;AAAA,IACV,IAAA,GAAO,QAAA;AAAA,IACP,WAAA,GAAc,EAAA;AAAA,IACd,OAAA,GAAU,SAAA;AAAA,IACV,IAAA,GAAO,IAAA;AAAA,IACP,IAAA;AAAA,IACA,OAAA;AAAA,IACA,QAAA;AAAA,IACA,SAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,YAAY,QAAA,IAAY,OAAA;AAE9B,EAAA,MAAM,WAAA,GAAoD,CAAC,KAAA,KAAU;AACnE,IAAA,IAAI,SAAA,EAAW;AACb,MAAA,KAAA,CAAM,cAAA,EAAe;AACrB,MAAA,KAAA,CAAM,eAAA,EAAgB;AACtB,MAAA;AAAA,IACF;AAGA,IAAA,OAAA,IAAA,IAAA,GAAA,MAAA,GAAA,OAAA,CAAU,KAAA,CAAM,WAAA,CAAA;AAGhB,IAAA,IAAI,IAAA,KAAS,QAAA,IAAY,IAAA,KAAS,OAAA,EAAS;AACzC,MAAA,MAAM,IAAA,GAAO,eAAA,CAAgB,KAAA,CAAM,MAA4B,CAAA;AAC/D,MAAA,IAAI,CAAC,IAAA,EAAM;AAEX,MAAA,IAAI,SAAS,QAAA,EAAU;AACrB,QAAA,MAAM,gBACJ,IAAA,CACA,aAAA;AACF,QAAA,IAAI,OAAO,aAAA,KAAkB,UAAA,EAAY,aAAA,CAAc,KAAK,IAAI,CAAA;AAAA,kBACtD,MAAA,EAAO;AAAA,MACnB,CAAA,MAAO;AACL,QAAA,IAAA,CAAK,KAAA,EAAM;AAAA,MACb;AAAA,IACF;AAAA,EACF,CAAA;AAEA,EAAA,MAAM,aAAA,GAAyD,CAAC,KAAA,KAAU;AAvF5E,IAAA,IAAA,EAAA;AAwFI,IAAA,IAAI,SAAA,EAAW;AACb,MAAA,KAAA,CAAM,cAAA,EAAe;AACrB,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,KAAA,CAAM,GAAA,KAAQ,OAAA,IAAW,KAAA,CAAM,QAAQ,GAAA,EAAK;AAC9C,MAAA,KAAA,CAAM,cAAA,EAAe;AAGrB,MAAA,MAAM,UAAA,GAAa,IAAI,UAAA,CAAW,OAAA,EAAS;AAAA,QACzC,OAAA,EAAS,IAAA;AAAA,QACT,UAAA,EAAY,IAAA;AAAA,QACZ,QAAA,EAAU;AAAA,OACX,CAAA;AAED,MAAA,CAAC,EAAA,GAAA,KAAA,CAAM,MAAA,KAAN,IAAA,GAAA,MAAA,GAAA,EAAA,CAAqC,aAAA,CAAc,UAAA,CAAA;AAAA,IACtD;AAAA,EACF,CAAA;AAEA,EAAA,uBACEA,GAAAA;AAAA,IAAC,UAAA;AAAA,IAAA;AAAA,MACE,GAAG,IAAA;AAAA,MACJ,IAAA,EAAK,QAAA;AAAA,MACL,SAAA;AAAA,MACA,OAAA;AAAA,MACA,IAAA;AAAA,MACA,IAAA;AAAA,MACA,QAAA,EAAU,WAAW,EAAA,GAAK,CAAA;AAAA,MAC1B,eAAA,EAAe,WAAW,MAAA,GAAS,MAAA;AAAA,MACnC,WAAA,EAAW,UAAU,MAAA,GAAS,MAAA;AAAA,MAC9B,OAAA,EAAS,WAAA;AAAA,MACT,SAAA,EAAW,aAAA;AAAA,MACV,QAAA,EAAA,OAAA,mBACCA,GAAAA,CAAC,QAAA,EAAA,EAAS,KAAA,EAAO,WAAA,EAAa,KAAA,EAAO,OAAA,KAAY,SAAA,EAAW,CAAA,mBAE5DC,IAAAA,CAAA,QAAA,EAAA,EACG,QAAA,EAAA;AAAA,QAAA,IAAA,mBAAOD,GAAAA,CAAC,KAAA,EAAA,EAAM,IAAA,EAAY,MAAY,CAAA,GAAK,IAAA;AAAA,QAC3C;AAAA,OAAA,EACH;AAAA;AAAA,GAEJ;AAEJ;AClHA,SAAS,KAAA,GAAiB;AAhB1B,EAAA,IAAA,EAAA;AAiBE,EAAA,IAAI;AACF,IAAA,OAAA,CAAA,CAAQ,EAAA,GAAA,MAAA,CAAA,IAAA,CAAoB,GAAA,KAApB,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAyB,GAAA,MAAQ,IAAA;AAAA,EAC3C,CAAA,CAAA,MAAQ;AACN,IAAA,OAAO,OAAA,CAAQ,IAAI,QAAA,KAAa,YAAA;AAAA,EAClC;AACF;AAEA,SAAS,cAAc,IAAA,EAAqD;AAC1E,EAAA,MAAM,CAAA,GAAA,CAAK,IAAA,IAAQ,EAAA,EAAI,IAAA,EAAK;AAC5B,EAAA,OAAO,IAAI,CAAA,GAAI,MAAA;AACjB;AAEA,SAAS,QAAA,CACP,MACA,KAAA,EACoB;AACpB,EAAA,MAAM,MAAA,uBAAa,GAAA,EAAY;AAC/B,EAAA,KAAA,MAAW,GAAA,IAAO,CAAC,IAAA,EAAM,KAAK,CAAA,EAAG;AAC/B,IAAA,KAAA,MAAW,CAAA,IAAA,CAAM,OAAO,EAAA,EAAI,KAAA,CAAM,MAAM,CAAA,CAAE,MAAA,CAAO,OAAO,CAAA,EAAG;AACzD,MAAA,MAAA,CAAO,IAAI,CAAC,CAAA;AAAA,IACd;AAAA,EACF;AACA,EAAA,MAAM,MAAM,KAAA,CAAM,IAAA,CAAK,MAAM,CAAA,CAAE,KAAK,GAAG,CAAA;AACvC,EAAA,OAAO,MAAM,GAAA,GAAM,MAAA;AACrB;AAEO,SAAS,MAAM,KAAA,EAAmB;AACvC,EAAA,MAAM;AAAA,IACJ,IAAA;AAAA,IACA,MAAA;AAAA,IACA,GAAA;AAAA,IACA,QAAA,GAAW,KAAA;AAAA,IACX,WAAA;AAAA,IACA,QAAA;AAAA,IACA,OAAA;AAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,cAAA,GAAiB,cAAc,IAAI,CAAA;AACzC,EAAA,MAAM,OAAA,GAAU,CAAC,CAAC,cAAA;AAClB,EAAA,MAAM,QAAA,GAAW,OAAO,WAAA,KAAgB,UAAA;AAExC,EAAA,SAAA,CAAU,MAAM;AACd,IAAA,IAAI,CAAC,OAAM,EAAG;AAEd,IAAA,IAAI,YAAY,OAAA,EAAS;AACvB,MAAA,OAAA,CAAQ,IAAA;AAAA,QACN,4DAAA;AAAA,QACA;AAAA,UACE,IAAA,EAAM;AAAA;AACR,OACF;AAAA,IACF;AAEA,IAAA,IAAI,CAAC,OAAA,IAAW,CAAC,QAAA,EAAU;AACzB,MAAA,OAAA,CAAQ,KAAK,2DAA2D,CAAA;AAAA,IAC1E;AAAA,EACF,CAAA,EAAG,CAAC,OAAA,EAAS,QAAA,EAAU,cAAc,CAAC,CAAA;AAGtC,EAAA,MAAM,aAAA,GAAA,CAAiB,MAAA,IAAU,EAAA,EAAI,WAAA,EAAY,KAAM,QAAA;AACvD,EAAA,MAAM,UAAU,aAAA,GACZ,QAAA,CAAS,OAAO,MAAA,EAAW,qBAAqB,IAC/C,GAAA,IAAO,MAAA;AAEZ,EAAA,MAAM,QAAA,GAAW,WAAW,MAAA,GAAY,cAAA;AAExC,EAAA,MAAM,WAAA,GAAc,CAAC,EAAA,KAAwD;AAE3E,IAAA,IAAI,QAAA,EAAU;AACZ,MAAA,EAAA,CAAG,cAAA,EAAe;AAClB,MAAA,EAAA,CAAG,eAAA,EAAgB;AACnB,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,QAAA,EAAU;AACZ,MAAA,EAAA,CAAG,cAAA,EAAe;AAClB,MAAA,WAAA,IAAA,IAAA,GAAA,MAAA,GAAA,WAAA,CAAc,EAAA,CAAA;AACd,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAA,EAAA,CAAG,cAAA,EAAe;AAAA,IACpB;AAGA,IAAA,OAAA,IAAA,IAAA,GAAA,MAAA,GAAA,OAAA,CAAU,EAAA,CAAA;AAAA,EACZ,CAAA;AAEA,EAAA,uBACEA,GAAAA,CAAC,QAAA,EAAA,EAAQ,GAAG,WACV,QAAA,kBAAAA,GAAAA;AAAA,IAAC,GAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,QAAA;AAAA,MACV,IAAA,EAAK,MAAA;AAAA,MACL,eAAA,EAAe,WAAW,MAAA,GAAS,MAAA;AAAA,MACnC,IAAA,EAAM,QAAA;AAAA,MACN,GAAA,EAAK,OAAA;AAAA,MACL,QAAA,EAAU,WAAW,EAAA,GAAK,MAAA;AAAA,MAC1B,QAAQ,MAAA,IAAU,MAAA;AAAA,MAClB,OAAA,EAAS,WAAA;AAAA,MACR;AAAA;AAAA,GACH,EACF,CAAA;AAEJ;AAUO,SAAS,WAAW,KAAA,EAAwB;AACjD,EAAA,MAAM,EAAE,GAAA,EAAK,GAAA,EAAK,GAAG,MAAK,GAAI,KAAA;AAC9B,EAAA,uBACEA,GAAAA,CAAC,cAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,GAAA,EAAK,GAAA,IAAO,YAAA,EAAc,GAAA,EAAW,GAAG,IAAA,EAAM,CAAA,EACrD,CAAA;AAEJ;AAEO,SAAS,UAAU,KAAA,EAA0C;AAClE,EAAA,uBAAOA,GAAAA,CAAC,aAAA,EAAA,EAAa,GAAG,KAAA,EAAO,CAAA;AACjC;AAEO,SAAS,YAAY,KAAA,EAA0C;AACpE,EAAA,uBAAOA,GAAAA,CAAC,eAAA,EAAA,EAAe,GAAG,KAAA,EAAO,CAAA;AACnC;ACpGA,SAAS,WAAW,CAAA,EAAiB;AACnC,EAAA,OAAO,MAAM,IAAA,IAAQ,CAAA,KAAM,MAAA,IAAa,CAAA,EAAG,CAAC,CAAA,CAAA,KAAO,OAAA;AACrD;AAEA,SAAS,WAAW,CAAA,EAAmB;AACrC,EAAA,OAAA,CAAQ,CAAA,IAAK,IACV,UAAA,CAAW,GAAA,EAAK,OAAO,CAAA,CACvB,UAAA,CAAW,KAAK,MAAM,CAAA,CACtB,WAAW,GAAA,EAAK,MAAM,EACtB,UAAA,CAAW,GAAA,EAAK,QAAQ,CAAA,CACxB,UAAA,CAAW,KAAK,OAAO,CAAA;AAC5B;AAEA,SAAS,eAAe,IAAA,EAAsB;AAC5C,EAAA,MAAM,KAAA,GAAA,CAAS,IAAA,IAAQ,EAAA,EAAI,KAAA,CAAM,GAAG,CAAA,CAAE,CAAC,CAAA,CAAE,KAAA,CAAM,GAAG,CAAA,CAAE,CAAC,CAAA;AACrD,EAAA,MAAM,OAAO,KAAA,CAAM,KAAA,CAAM,GAAG,CAAA,CAAE,KAAI,IAAK,EAAA;AACvC,EAAA,MAAM,GAAA,GAAM,IAAA,CAAK,WAAA,CAAY,GAAG,CAAA;AAChC,EAAA,OAAO,GAAA,IAAO,IAAI,IAAA,CAAK,KAAA,CAAM,MAAM,CAAC,CAAA,CAAE,aAAY,GAAI,EAAA;AACxD;AAEA,SAAS,gBAAgB,GAAA,EAAqB;AAC5C,EAAA,QAAA,CAAS,GAAA,IAAO,EAAA,EAAI,WAAA,EAAY;AAAG,IACjC,KAAK,IAAA;AACH,MAAA,OAAO,YAAA;AAAA,IACT,KAAK,KAAA;AACH,MAAA,OAAO,KAAA;AAAA,IACT,KAAK,IAAA;AAAA,IACL,KAAK,KAAA;AAAA,IACL,KAAK,KAAA;AACH,MAAA,OAAO,YAAA;AAAA,IACT,KAAK,KAAA;AACH,MAAA,OAAO,KAAA;AAAA,IACT,KAAK,MAAA;AACH,MAAA,OAAO,MAAA;AAAA,IACT,KAAK,MAAA;AAAA,IACL,KAAK,KAAA;AACH,MAAA,OAAO,MAAA;AAAA,IACT,KAAK,KAAA;AACH,MAAA,OAAO,KAAA;AAAA,IACT,KAAK,MAAA;AACH,MAAA,OAAO,MAAA;AAAA,IACT,KAAK,KAAA;AAAA,IACL,KAAK,MAAA;AACH,MAAA,OAAO,MAAA;AAAA,IACT,KAAK,IAAA;AACH,MAAA,OAAO,UAAA;AAAA,IACT,KAAK,KAAA;AACH,MAAA,OAAO,KAAA;AAAA,IACT,KAAK,IAAA;AAAA,IACL,KAAK,MAAA;AACH,MAAA,OAAO,MAAA;AAAA,IACT,KAAK,KAAA;AACH,MAAA,OAAO,MAAA;AAAA,IACT;AACE,MAAA,OAAO,MAAA;AAAA;AAEb;AAEA,SAAS,YAAY,CAAA,EAAuB;AAC1C,EAAA,IAAI,CAAA,KAAM,IAAA,IAAQ,CAAA,KAAM,MAAA,EAAW,OAAO,IAAA;AAE1C,EAAA,MAAM,IAAI,MAAA,CAAO,CAAC,CAAA,CAAE,IAAA,GAAO,WAAA,EAAY;AACvC,EAAA,IAAI,MAAM,EAAA,IAAM,CAAA,KAAM,MAAA,IAAU,CAAA,KAAM,QAAQ,OAAO,IAAA;AAErD,EAAA,IAAI,CAAA,CAAE,QAAA,CAAS,IAAI,CAAA,EAAG;AACpB,IAAA,MAAME,EAAAA,GAAI,OAAO,CAAA,CAAE,KAAA,CAAM,GAAG,EAAE,CAAA,CAAE,MAAM,CAAA;AACtC,IAAA,OAAO,OAAO,QAAA,CAASA,EAAC,CAAA,IAAKA,EAAAA,GAAI,IAAIA,EAAAA,GAAI,IAAA;AAAA,EAC3C;AAEA,EAAA,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA;AAClB,EAAA,OAAO,OAAO,QAAA,CAAS,CAAC,CAAA,IAAK,CAAA,GAAI,IAAI,CAAA,GAAI,IAAA;AAC3C;AAEA,SAAS,cAAc,IAAA,EAAuB;AAC5C,EAAA,OAAO,gBAAgB,IAAA,CAAK,IAAI,CAAA,IAAK,OAAA,CAAQ,KAAK,IAAI,CAAA;AACxD;AAGA,SAAS,eAAe,IAAA,EAAsB;AAC5C,EAAA,MAAM,CAAA,GAAA,CAAK,IAAA,IAAQ,EAAA,EAAI,IAAA,EAAK;AAC5B,EAAA,IAAI,CAAC,GAAG,OAAO,CAAA;AAEf,EAAA,IAAI,cAAc,CAAC,CAAA,IAAK,EAAE,UAAA,CAAW,GAAG,GAAG,OAAO,CAAA;AAElD,EAAA,MAAM,OAAQ,MAAA,CAAA,IAAA,CAAoB,GAAA;AAClC,EAAA,OAAO,IAAI,IAAI,CAAA,CAAE,OAAA,CAAQ,SAAS,EAAE,CAAA,EAAG,IAAI,CAAA,CAAE,QAAA,EAAS;AACxD;AAEA,SAAS,sBAAsB,IAAA,EAAsB;AACnD,EAAA,IAAI,IAAA,KAAS,QAAQ,OAAO,KAAA;AAC5B,EAAA,OAAO,IAAA;AACT;AASA,SAAS,WAAW,IAAA,EAAsB;AACxC,EAAA,IAAI,IAAA,KAAS,IAAA,IAAQ,IAAA,KAAS,MAAA,EAAW,OAAO,CAAA;AAChD,EAAA,MAAM,CAAA,GAAI,OAAO,IAAI,CAAA;AAErB,EAAA,MAAM,KAAA,GAAQ,CAAA,CAAE,KAAA,CAAM,IAAI,CAAA;AAC1B,EAAA,OAAO,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,KAAA,CAAM,MAAM,CAAA;AACjC;AAMO,SAAS,YAAY,KAAA,EAAyB;AACnD,EAAA,MAAM;AAAA,IACJ,QAAA;AAAA,IACA,IAAA;AAAA,IACA,IAAA;AAAA,IAEA,IAAA;AAAA,IACA,OAAA;AAAA,IACA,WAAA;AAAA,IAEA,OAAA;AAAA,IACA,YAAA;AAAA,IACA,IAAA;AAAA,IAEA,MAAA;AAAA,IACA,MAAA;AAAA,IAEA,WAAA,GAAc,MAAA;AAAA,IAEd,YAAA;AAAA,IAEA,QAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAGJ,EAAA,MAAM,KAAA,GAAQ,WAAW,IAAI,CAAA;AAC7B,EAAA,MAAM,QAAA,GAAW,WAAW,OAAO,CAAA;AACnC,EAAA,MAAM,YAAA,GAAe,WAAW,WAAW,CAAA;AAC3C,EAAA,MAAM,QAAA,GAAW,OAAA,KAAY,MAAA,GAAY,IAAA,GAAO,WAAW,OAAO,CAAA;AAClE,EAAA,MAAM,aAAA,GACJ,YAAA,KAAiB,MAAA,GAAY,IAAA,GAAO,WAAW,YAAY,CAAA;AAC7D,EAAA,MAAM,KAAA,GAAQ,IAAA,KAAS,MAAA,GAAY,IAAA,GAAO,WAAW,IAAI,CAAA;AACzD,EAAA,MAAM,OAAA,GAAU,WAAW,MAAM,CAAA;AACjC,EAAA,MAAM,QAAA,GAAW,YAAY,MAAM,CAAA;AAEnC,EAAA,MAAM,eAAA,GAAkB,WAAW,QAAA,KAAa,IAAA;AAChD,EAAA,MAAM,WAAA,GAAc,aAAa,aAAA,IAAiB,KAAA,CAAA;AAElD,EAAA,MAAM,CAAC,OAAA,EAAS,UAAU,CAAA,GAAI,SAAS,KAAK,CAAA;AAC5C,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAI,SAAS,EAAE,CAAA;AACrC,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAI,SAAS,KAAK,CAAA;AAE1C,EAAA,MAAM,aAAA,GAAgB,OAAO,CAAC,CAAA;AAC9B,EAAA,MAAM,eAAA,GAAkB,OAAO,CAAC,CAAA;AAEhC,EAAA,MAAM,CAAC,YAAA,EAAc,eAAe,CAAA,GAAI,SAAiB,MAAM,CAAA;AAC/D,EAAA,MAAM,gBAAA,GAAA,CAAoB,QAAA,IAAY,EAAA,EAAI,IAAA,EAAK,IAAK,IAAA;AAEpD,EAAA,MAAM,iBAAA,GAAoB,QAAQ,MAAM;AACtC,IAAA,IAAI,kBAAkB,OAAO,gBAAA;AAC7B,IAAA,IAAI,IAAA,IAAQ,IAAA,CAAK,IAAA,EAAK,EAAG,OAAO,YAAA;AAChC,IAAA,OAAO,MAAA;AAAA,EACT,CAAA,EAAG,CAAC,gBAAA,EAAkB,YAAA,EAAc,IAAI,CAAC,CAAA;AAEzC,EAAA,MAAM,aAAA,GAAgB,QAAQ,MAAM;AAClC,IAAA,MAAM,CAAA,GAAA,CAAK,iBAAA,IAAqB,MAAA,EAAQ,WAAA,EAAY;AACpD,IAAA,OAAO,CAAA,KAAM,SAAS,MAAA,GAAS,CAAA;AAAA,EACjC,CAAA,EAAG,CAAC,iBAAiB,CAAC,CAAA;AAGtB,EAAA,MAAM,CAAC,SAAS,UAAU,CAAA,GAAI,SAAiB,MAAA,CAAO,IAAA,IAAQ,EAAA,EAAI,QAAA,EAAU,CAAA;AAG5E,EAAAC,UAAU,MAAM;AACd,IAAA,UAAA,CAAA,CAAY,IAAA,IAAQ,EAAA,EAAI,QAAA,EAAU,CAAA;AAAA,EACpC,CAAA,EAAG,CAAC,IAAI,CAAC,CAAA;AAGT,EAAA,MAAM,aAAA,GAAgB,QAAQ,MAAM;AAClC,IAAA,IAAA,CAAK,IAAA,IAAQ,EAAA,EAAI,QAAA,EAAS,EAAG,OAAO,EAAA;AACpC,IAAA,IAAI,IAAA,IAAQ,IAAA,CAAK,IAAA,EAAK,EAAG,OAAO,EAAA;AAEhC,IAAA,MAAM,GAAA,GAAMC,MAAAA,CAAM,QAAA,CAAS,OAAA,CAAQ,QAAQ,CAAA;AAE3C,IAAA,MAAM,MAAA,GAAS,GAAA,CACZ,GAAA,CAAI,CAAC,CAAA,KAAM;AACV,MAAA,IAAI,OAAO,MAAM,QAAA,IAAY,OAAO,MAAM,QAAA,EAAU,OAAO,OAAO,CAAC,CAAA;AACnE,MAAA,OAAO,EAAA;AAAA,IACT,CAAC,CAAA,CACA,IAAA,CAAK,EAAE,CAAA;AAEV,IAAA,OAAO,OAAO,IAAA,EAAK;AAAA,EACrB,CAAA,EAAG,CAAC,QAAA,EAAU,IAAA,EAAM,IAAI,CAAC,CAAA;AAGzB,EAAAD,UAAU,MAAM;AACd,IAAA,MAAM,QAAA,GAAA,CAAY,IAAA,IAAQ,EAAA,EAAI,QAAA,EAAS;AACvC,IAAA,MAAM,QAAA,GAAA,CAAY,IAAA,IAAQ,EAAA,EAAI,IAAA,EAAK;AACnC,IAAA,IAAI,CAAC,QAAA,IAAY,CAAC,QAAA,IAAY,aAAA,EAAe;AAC3C,MAAA,UAAA,CAAW,aAAa,CAAA;AAAA,IAC1B;AAAA,EACF,CAAA,EAAG,CAAC,aAAA,EAAe,IAAA,EAAM,IAAI,CAAC,CAAA;AAG9B,EAAA,MAAM,OAAA,GAAU,OAAmB,IAAI,CAAA;AACvC,EAAA,MAAM,cAAA,GAAiB,OAA4B,IAAI,CAAA;AAEvD,EAAA,MAAM,aAAA,GAAgB,WAAA,KAAgB,MAAA,IAAU,WAAA,KAAgB,MAAA;AAEhE,EAAA,MAAM,gBAAA,GAAmB,YAAY,YAAiC;AApQxE,IAAA,IAAA,EAAA,EAAA,EAAA;AAqQI,IAAA,IAAI,OAAA,CAAQ,OAAA,EAAS,OAAO,OAAA,CAAQ,OAAA;AAEpC,IAAA,MAAM,CAAA,GAAI,UAAA;AACV,IAAA,IAAA,CAAA,CAAI,4BAAG,IAAA,KAAH,IAAA,GAAA,MAAA,GAAA,EAAA,CAAS,gBAAa,EAAA,GAAA,CAAA,IAAA,IAAA,GAAA,MAAA,GAAA,CAAA,CAAG,IAAA,KAAH,mBAAS,aAAA,CAAA,EAAe;AAChD,MAAA,OAAA,CAAQ,UAAU,CAAA,CAAE,IAAA;AACpB,MAAA,OAAO,OAAA,CAAQ,OAAA;AAAA,IACjB;AAEA,IAAA,IAAI,CAAC,eAAe,OAAA,EAAS;AAC3B,MAAA,cAAA,CAAe,OAAA,GAAU,OAAO,cAAc,CAAA,CAC3C,IAAA,CAAK,CAAC,CAAA,KAAW,CAAA,CAAE,OAAA,IAAW,CAAC,CAAA,CAC/B,KAAA,CAAM,MAAM,IAAI,CAAA;AAAA,IACrB;AAEA,IAAA,MAAM,MAAA,GAAS,MAAM,cAAA,CAAe,OAAA;AACpC,IAAA,IAAA,CAAI,MAAA,IAAA,IAAA,GAAA,MAAA,GAAA,MAAA,CAAQ,SAAA,MAAa,MAAA,IAAA,IAAA,GAAA,MAAA,GAAA,MAAA,CAAQ,aAAA,CAAA,EAAe;AAC9C,MAAA,OAAA,CAAQ,OAAA,GAAU,MAAA;AAClB,MAAA,OAAO,MAAA;AAAA,IACT;AAEA,IAAA,OAAO,IAAA;AAAA,EACT,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,iBAAA,GAAoB,WAAA;AAAA,IACxB,CAAC,MAAc,IAAA,KAAyB;AA7R5C,MAAA,IAAA,EAAA;AA8RM,MAAA,IAAI;AACF,QAAA,MAAM,OAAO,OAAA,CAAQ,OAAA;AACrB,QAAA,IAAI,CAAC,IAAA,EAAM,OAAO,UAAA,CAAW,IAAI,CAAA;AAEjC,QAAA,MAAM,UAAA,GAAa,sBAAsB,IAAI,CAAA;AAE7C,QAAA,IAAI,UAAA,KAAA,CAAc,EAAA,GAAA,IAAA,CAAK,WAAA,KAAL,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EAAmB,UAAA,CAAA,CAAA,EAAa;AAChD,UAAA,OAAO,KAAK,SAAA,CAAU,IAAA,EAAM,EAAE,QAAA,EAAU,UAAA,EAAY,CAAA,CAAE,KAAA;AAAA,QACxD;AACA,QAAA,OAAO,IAAA,CAAK,aAAA,CAAc,IAAI,CAAA,CAAE,KAAA;AAAA,MAClC,CAAA,CAAA,MAAQ;AACN,QAAA,OAAO,WAAW,IAAI,CAAA;AAAA,MACxB;AAAA,IACF,CAAA;AAAA,IACA;AAAC,GACH;AAEA,EAAA,MAAM,gBAAA,GAAmB,WAAA;AAAA,IACvB,CAAC,MAAc,IAAA,KAAyB;AACtC,MAAA,MAAM,MAAM,IAAA,IAAQ,EAAA;AACpB,MAAA,IAAI,CAAC,KAAK,OAAO,EAAA;AACjB,MAAA,IAAI,WAAA,KAAgB,MAAA,EAAQ,OAAO,UAAA,CAAW,GAAG,CAAA;AAEjD,MAAA,IAAI,aAAA,IAAiB,QAAQ,OAAA,EAAS;AACpC,QAAA,OAAO,iBAAA,CAAkB,KAAK,IAAI,CAAA;AAAA,MACpC;AACA,MAAA,OAAO,WAAW,GAAG,CAAA;AAAA,IACvB,CAAA;AAAA,IACA,CAAC,WAAA,EAAa,aAAA,EAAe,iBAAiB;AAAA,GAChD;AAGA,EAAAA,UAAU,MAAM;AACd,IAAA,MAAM,CAAA,GAAA,CAAK,IAAA,IAAQ,EAAA,EAAI,IAAA,EAAK;AAC5B,IAAA,IAAI,CAAC,CAAA,EAAG;AAER,IAAA,MAAM,GAAA,GAAM,EAAE,aAAA,CAAc,OAAA;AAE5B,IAAA,UAAA,CAAW,IAAI,CAAA;AACf,IAAA,QAAA,CAAS,EAAE,CAAA;AAEX,IAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,cAAA,CAAe,CAAC,CAAC,CAAA;AACtD,IAAA,eAAA,CAAgB,YAAY,CAAA;AAE5B,IAAA,CAAC,YAAY;AACX,MAAA,IAAI;AACF,QAAA,MAAM,GAAA,GAAM,eAAe,CAAC,CAAA;AAC5B,QAAA,MAAM,MAAM,MAAM,KAAA,CAAM,KAAK,EAAE,MAAA,EAAQ,OAAO,CAAA;AAC9C,QAAA,IAAI,CAAC,GAAA,CAAI,EAAA,EAAI,MAAM,IAAI,MAAM,YAAY,CAAA;AACzC,QAAA,MAAM,IAAA,GAAO,MAAM,GAAA,CAAI,IAAA,EAAK;AAE5B,QAAA,IAAI,GAAA,KAAQ,cAAc,OAAA,EAAS;AAEnC,QAAA,UAAA,CAAW,QAAQ,EAAE,CAAA;AACrB,QAAA,UAAA,CAAW,KAAK,CAAA;AAChB,QAAA,QAAA,CAAS,EAAE,CAAA;AAEX,QAAA,YAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,YAAA,CAAe;AAAA,UACb,IAAA,EAAM,GAAA;AAAA,UACN,UAAU,gBAAA,IAAoB;AAAA,SAChC,CAAA;AAAA,MACF,CAAA,CAAA,MAAQ;AACN,QAAA,IAAI,GAAA,KAAQ,cAAc,OAAA,EAAS;AAEnC,QAAA,UAAA,CAAW,KAAK,CAAA;AAChB,QAAA,QAAA,CAAS,CAAA,gBAAA,EAAmB,CAAC,CAAA,CAAE,CAAA;AAAA,MACjC;AAAA,IACF,CAAA,GAAG;AAAA,EACL,CAAA,EAAG,CAAC,IAAA,EAAM,YAAA,EAAc,gBAAgB,CAAC,CAAA;AAGzC,EAAA,MAAM,cAAA,GAAiB,QAAQ,MAAM;AACnC,IAAA,IAAI,CAAC,YAAA,EAAc,OAAO,EAAC;AAC3B,IAAA,MAAM,KAAA,GAAQ,WAAW,OAAO,CAAA;AAChC,IAAA,OAAO,KAAA,CAAM,IAAA,CAAK,EAAE,MAAA,EAAQ,KAAA,IAAS,CAAC,CAAA,EAAG,CAAA,KAAM,CAAA,GAAI,CAAC,CAAA;AAAA,EACtD,CAAA,EAAG,CAAC,YAAA,EAAc,OAAO,CAAC,CAAA;AAG1B,EAAA,MAAM,CAAC,YAAA,EAAc,eAAe,CAAA,GAAI,QAAA;AAAA,IAAiB,MACvD,gBAAA,CAAiB,OAAA,EAAS,iBAAiB;AAAA,GAC7C;AAGA,EAAAA,UAAU,MAAM;AACd,IAAA,eAAA,CAAgB,gBAAA,CAAiB,OAAA,EAAS,iBAAiB,CAAC,CAAA;AAAA,EAC9D,CAAA,EAAG,CAAC,OAAA,EAAS,iBAAA,EAAmB,gBAAgB,CAAC,CAAA;AAGjD,EAAAA,UAAU,MAAM;AACd,IAAA,IAAI,CAAC,aAAA,EAAe;AACpB,IAAA,IAAI,CAAC,OAAA,EAAS;AAEd,IAAA,MAAM,GAAA,GAAM,EAAE,eAAA,CAAgB,OAAA;AAC9B,IAAA,MAAM,QAAA,GAAW,OAAA;AACjB,IAAA,MAAM,QAAA,GAAW,iBAAA;AAEjB,IAAA,CAAC,YAAY;AACX,MAAA,MAAM,MAAA,GAAS,MAAM,gBAAA,EAAiB;AACtC,MAAA,IAAI,CAAC,MAAA,EAAQ;AACb,MAAA,IAAI,GAAA,KAAQ,gBAAgB,OAAA,EAAS;AAErC,MAAA,eAAA,CAAgB,iBAAA,CAAkB,QAAA,EAAU,QAAQ,CAAC,CAAA;AAAA,IACvD,CAAA,GAAG;AAAA,EACL,CAAA,EAAG;AAAA,IACD,OAAA;AAAA,IACA,iBAAA;AAAA,IACA,aAAA;AAAA,IACA,gBAAA;AAAA,IACA;AAAA,GACD,CAAA;AAED,EAAA,MAAM,YAAA,GAAe,OAAsB,IAAI,CAAA;AAE/C,EAAAA,UAAU,MAAM;AACd,IAAA,OAAO,MAAM;AACX,MAAA,IAAI,YAAA,CAAa,OAAA,EAAS,MAAA,CAAO,YAAA,CAAa,aAAa,OAAO,CAAA;AAAA,IACpE,CAAA;AAAA,EACF,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,MAAA,GAAS,YAAY,YAAY;AArZzC,IAAA,IAAA,EAAA;AAsZI,IAAA,MAAM,OAAO,OAAA,IAAW,EAAA;AACxB,IAAA,IAAI,CAAC,QAAQ,OAAA,EAAS;AAEtB,IAAA,MAAM,OAAO,MAAM;AACjB,MAAA,SAAA,CAAU,IAAI,CAAA;AACd,MAAA,IAAI,YAAA,CAAa,OAAA,EAAS,MAAA,CAAO,YAAA,CAAa,aAAa,OAAO,CAAA;AAClE,MAAA,YAAA,CAAa,UAAU,MAAA,CAAO,UAAA,CAAW,MAAM,SAAA,CAAU,KAAK,GAAG,IAAI,CAAA;AAAA,IACvE,CAAA;AAEA,IAAA,IAAI;AACF,MAAA,IAAA,CAAI,EAAA,GAAA,SAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,SAAA,CAAW,SAAA,KAAX,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAsB,SAAA,EAAW;AACnC,QAAA,MAAM,SAAA,CAAU,SAAA,CAAU,SAAA,CAAU,IAAI,CAAA;AACxC,QAAA,IAAA,EAAK;AACL,QAAA;AAAA,MACF;AAAA,IACF,CAAA,CAAA,MAAQ;AAAA,IAER;AAEA,IAAA,IAAI;AACF,MAAA,MAAM,EAAA,GAAK,QAAA,CAAS,aAAA,CAAc,UAAU,CAAA;AAC5C,MAAA,EAAA,CAAG,KAAA,GAAQ,IAAA;AACX,MAAA,EAAA,CAAG,MAAM,QAAA,GAAW,OAAA;AACpB,MAAA,EAAA,CAAG,MAAM,IAAA,GAAO,SAAA;AAChB,MAAA,EAAA,CAAG,MAAM,GAAA,GAAM,GAAA;AACf,MAAA,QAAA,CAAS,IAAA,CAAK,YAAY,EAAE,CAAA;AAC5B,MAAA,EAAA,CAAG,KAAA,EAAM;AACT,MAAA,EAAA,CAAG,MAAA,EAAO;AACV,MAAA,QAAA,CAAS,YAAY,MAAM,CAAA;AAC3B,MAAA,QAAA,CAAS,IAAA,CAAK,YAAY,EAAE,CAAA;AAC5B,MAAA,IAAA,EAAK;AAAA,IACP,CAAA,CAAA,MAAQ;AAAA,IAER;AAAA,EACF,CAAA,EAAG,CAAC,OAAA,EAAS,OAAO,CAAC,CAAA;AAErB,EAAA,uBACEH,GAAAA,CAAC,eAAA,EAAA,EAAe,GAAG,MACjB,QAAA,kBAAAC,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW;AAAA,QACT,eAAA;AAAA,QACA,WAAW,SAAA,GAAY,IAAA;AAAA,QACvB,QAAQ,MAAA,GAAS;AAAA,OACnB,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,MACV,QAAA,EAAA;AAAA,QAAA,OAAA,mBAAUD,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,uBAAA,EAAwB,2BAAQ,CAAA,GAAS,IAAA;AAAA,QAClE,wBAAQA,GAAAA,CAAC,SAAI,SAAA,EAAU,qBAAA,EAAuB,iBAAM,CAAA,GAAS,IAAA;AAAA,wBAE9DC,IAAAA;AAAA,UAAC,KAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAW;AAAA,cACT,sBAAA;AAAA,cACA,cAAc,aAAA,GAAgB,IAAA;AAAA,cAC9B,kBAAkB,QAAA,GAAW,IAAA;AAAA,cAC7B,kBAAkB,UAAA,GAAa;AAAA,aACjC,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,YACX,KAAA,EAAO,aAAa,IAAA,GAAO,EAAE,QAAQ,CAAA,EAAG,QAAQ,MAAK,GAAI,MAAA;AAAA,YACxD,QAAA,EAAA;AAAA,cAAA,WAAA,mBACCA,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4BAAA,EACZ,QAAA,EAAA;AAAA,gBAAA,aAAA,mBACCD,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,wBAAA,EAA0B,yBAAc,CAAA,GACtD,IAAA;AAAA,gBAEH,wBACCA,GAAAA;AAAA,kBAAC,OAAA;AAAA,kBAAA;AAAA,oBACC,SAAA,EAAU,oBAAA;AAAA,oBACV,IAAA,EAAK,IAAA;AAAA,oBACL,OAAA,EAAQ,SAAA;AAAA,oBACR,QAAA,EAAU,OAAA;AAAA,oBACV,OAAA,EAAS,MAAA;AAAA,oBACR,mBAAS,QAAA,GAAW;AAAA;AAAA,iBACvB,GACE;AAAA,eAAA,EACN,CAAA,GACE,IAAA;AAAA,8BAGJC,IAAAA;AAAA,gBAAC,KAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAW;AAAA,oBACT,uBAAA;AAAA,oBACA,MAAA;AAAA,oBACA,kBAAkB,QAAA,GAAW,IAAA;AAAA,oBAC7B,kBAAkB,UAAA,GAAa;AAAA,mBACjC,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,kBACV,QAAA,EAAA;AAAA,oBAAA,YAAA,mBACCD,IAAC,KAAA,EAAA,EAAI,aAAA,EAAY,QAAO,SAAA,EAAU,sBAAA,EAC/B,yBAAe,GAAA,CAAI,CAAC,sBACnBA,GAAAA,CAAC,SAAY,SAAA,EAAU,oBAAA,EACpB,eADO,CAEV,CACD,GACH,CAAA,GACE,IAAA;AAAA,oCAEJA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,qBACb,QAAA,kBAAAA,GAAAA;AAAA,sBAAC,MAAA;AAAA,sBAAA;AAAA,wBACC,SAAA,EAAU,yBAAA;AAAA,wBACV,eAAA,EAAe,iBAAA;AAAA,wBACf,uBAAA,EAAyB,EAAE,MAAA,EAAQ,YAAA;AAAa;AAAA,qBAClD,EACF;AAAA;AAAA;AAAA;AACF;AAAA;AAAA;AACF;AAAA;AAAA,GACF,EACF,CAAA;AAEJ;ACpcO,SAAS,YAAY,KAAA,EAAyB;AACnD,EAAA,MAAM,EAAE,KAAA,EAAO,SAAA,EAAW,GAAG,MAAK,GAAI,KAAA;AAGtC,EAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,OAAA,KAAY,KAAA,EAAO;AACrC,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,uBACEA,GAAAA,CAAC,eAAA,EAAA,EAAc,SAAA,EAAsB,IAAA,EAAM,KAAA,CAAM,IAAA,EAAO,GAAG,IAAA,EACxD,QAAA,EAAA,KAAA,CAAM,IAAA,KAAS,QAAA,mBACdA,GAAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,IAAA;AAAA,MACL,IAAA,EAAK,QAAA;AAAA,MACL,MAAM,KAAA,CAAM,IAAA;AAAA,MACZ,OAAA,EAAS,MAAM,OAAA,IAAW,SAAA;AAAA,MAC1B,SAAS,MAAG;AAhFtB,QAAA,IAAA,EAAA;AAgFyB,QAAA,OAAA,CAAA,EAAA,GAAA,KAAA,CAAM,OAAA,KAAN,IAAA,GAAA,MAAA,GAAA,EAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AAAA,MAAA;AAAA;AAAA,GACjB,GACE,KAAA,CAAM,IAAA,KAAS,MAAA,mBACjBA,GAAAA;AAAA,IAAC,GAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,gBAAA;AAAA,MACV,MAAA,EAAO,QAAA;AAAA,MACP,GAAA,EAAI,YAAA;AAAA,MAEH,GAAI,EAAE,OAAA,EAAS,KAAA,CAAM,WAAW,SAAA,EAAU;AAAA,MAC3C,MAAM,KAAA,CAAM,IAAA;AAAA,MACZ,0BAAAA,GAAAA,CAAC,KAAA,EAAA,EAAM,MAAK,IAAA,EAAK,IAAA,EAAM,MAAM,IAAA,EAAM;AAAA;AAAA,GACrC,GACE,KAAA,CAAM,IAAA,KAAS,MAAA,mBACjBA,GAAAA,CAAC,KAAA,EAAA,EAAM,IAAA,EAAK,IAAA,EAAK,IAAA,EAAM,KAAA,CAAM,IAAA,EAAM,CAAA,GACjC,KAAA,CAAM,IAAA,KAAS,SAAA,mBACjBA,GAAAA,CAAC,QAAA,EAAA,EAAS,KAAA,EAAM,EAAA,EAAG,CAAA,mBAEnBA,GAAAA,CAAC,MAAA,EAAA,EAAM,QAAA,EAAA,KAAA,CAAM,IAAA,EAAK,CAAA,EAEtB,CAAA;AAEJ;AA0BO,SAAS,YAAA,CACd,QAAA,EACA,IAAA,EACA,IAAA,GAA4B,EAAC,EAC7B;AACA,EAAA,MAAM,iBAAA,GAAoBK,OAAO,KAAK,CAAA;AACtC,EAAA,MAAM,aAAA,GAAgB,KAAK,aAAA,IAAiB,IAAA;AAE5C,EAAAF,UAAU,MAAM;AACd,IAAA,MAAM,KAAK,QAAA,CAAS,OAAA;AACpB,IAAA,IAAI,CAAC,EAAA,EAAI;AAKT,IAAA,MAAM,OAAA,GAAU,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAA,CAAG,QAAA,IAAY,CAAC,EAAA,CAAG,QAAA;AAEpD,IAAA,MAAM,qBAAqB,MAAM;AAC/B,MAAA,MAAM,KAAK,IAAI,KAAA,CAAM,SAAS,EAAE,OAAA,EAAS,MAAM,CAAA;AAC/C,MAAA,EAAA,CAAG,cAAc,EAAE,CAAA;AAAA,IACrB,CAAA;AAEA,IAAA,MAAM,GAAA,GAAM,CAAC,CAAA,EAAW,GAAA,KAAgB,OAAO,CAAC,CAAA,CAAE,QAAA,CAAS,GAAA,EAAK,GAAG,CAAA;AAGnE,IAAA,MAAM,gBAAA,GAAmB,CAAC,CAAA,EAAS,MAAA,KAA2B;AAC5D,MAAA,MAAM,GAAA,GAAM,EAAE,OAAA,EAAQ;AACtB,MAAA,MAAM,KAAA,GAAQ,CAAA,CAAE,QAAA,EAAS,GAAI,CAAA;AAC7B,MAAA,MAAM,IAAA,GAAO,EAAE,WAAA,EAAY;AAE3B,MAAA,OAAO,MAAA,CACJ,QAAQ,OAAA,EAAS,GAAA,CAAI,MAAM,CAAC,CAAC,EAC7B,OAAA,CAAQ,KAAA,EAAO,IAAI,KAAA,EAAO,CAAC,CAAC,CAAA,CAC5B,OAAA,CAAQ,OAAO,GAAA,CAAI,GAAA,EAAK,CAAC,CAAC,CAAA;AAAA,IAC/B,CAAA;AAEA,IAAA,MAAM,gBAAA,GAAmB,CAAC,CAAA,EAAS,MAAA,KAA2B;AAC5D,MAAA,MAAM,IAAA,GAAO,EAAE,QAAA,EAAS;AACxB,MAAA,MAAM,MAAA,GAAS,EAAE,UAAA,EAAW;AAC5B,MAAA,MAAM,MAAA,GAAS,EAAE,UAAA,EAAW;AAE5B,MAAA,OAAO,MAAA,CACJ,QAAQ,KAAA,EAAO,GAAA,CAAI,MAAM,CAAC,CAAC,EAC3B,OAAA,CAAQ,KAAA,EAAO,IAAI,MAAA,EAAQ,CAAC,CAAC,CAAA,CAC7B,OAAA,CAAQ,OAAO,GAAA,CAAI,MAAA,EAAQ,CAAC,CAAC,CAAA;AAAA,IAClC,CAAA;AAEA,IAAA,MAAM,wBAAwB,MAAqB;AACjD,MAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAClB,MAAA,MAAM,GAAA,uBAAU,IAAA,EAAK;AAErB,MAAA,IAAI,IAAA,CAAK,SAAS,MAAA,EAAQ;AACxB,QAAA,MAAM,GAAA,GAAM,KAAK,MAAA,IAAU,YAAA;AAC3B,QAAA,OAAO,gBAAA,CAAiB,KAAK,GAAG,CAAA;AAAA,MAClC;AACA,MAAA,IAAI,IAAA,CAAK,SAAS,MAAA,EAAQ;AACxB,QAAA,MAAM,GAAA,GAAM,KAAK,MAAA,IAAU,OAAA;AAC3B,QAAA,OAAO,gBAAA,CAAiB,KAAK,GAAG,CAAA;AAAA,MAClC;AACA,MAAA,OAAO,IAAA;AAAA,IACT,CAAA;AAEA,IAAA,MAAM,8BAA8B,MAAM;AACxC,MAAA,IAAI,CAAC,aAAA,EAAe;AACpB,MAAA,IAAI,CAAC,IAAA,EAAM;AACX,MAAA,IAAI,kBAAkB,OAAA,EAAS;AAE/B,MAAA,IAAI,GAAG,KAAA,IAAS,EAAA,CAAG,MAAM,IAAA,EAAK,CAAE,SAAS,CAAA,EAAG;AAE5C,MAAA,MAAM,MAAM,qBAAA,EAAsB;AAClC,MAAA,IAAI,QAAQ,IAAA,EAAM;AAElB,MAAA,iBAAA,CAAkB,OAAA,GAAU,IAAA;AAC5B,MAAA,EAAA,CAAG,KAAA,GAAQ,GAAA;AACX,MAAA,kBAAA,EAAmB;AAAA,IACrB,CAAA;AAEA,IAAA,MAAM,YAAA,GAAe,CAAC,KAAA,KAAkC;AACtD,MAAA,MAAM,MAAM,KAAA,CAAM,GAAA;AAClB,MAAA,MAAM,WAAA,GAAc;AAAA,QAClB,WAAA;AAAA,QACA,QAAA;AAAA,QACA,WAAA;AAAA,QACA,YAAA;AAAA,QACA,SAAA;AAAA,QACA,WAAA;AAAA,QACA,KAAA;AAAA,QACA,MAAA;AAAA,QACA,KAAA;AAAA,QACA,OAAA;AAAA,QACA;AAAA,OACF;AAEA,MAAA,IAAI,WAAA,CAAY,QAAA,CAAS,GAAG,CAAA,EAAG,OAAO,IAAA;AACtC,MAAA,IAAI,MAAM,OAAA,IAAW,KAAA,CAAM,OAAA,IAAW,KAAA,CAAM,QAAQ,OAAO,IAAA;AAC3D,MAAA,OAAO,KAAA;AAAA,IACT,CAAA;AAKA,IAAA,MAAM,WAAA,GAAc,CAAC,IAAA,EAAc,WAAA,KACjC,IAAI,KAAK,IAAA,EAAM,WAAA,EAAa,CAAC,CAAA,CAAE,OAAA,EAAQ;AAEzC,IAAA,MAAM,eAAA,GAAkB,CACtB,MAAA,KACyC;AACzC,MAAA,MAAM,SAAmB,EAAC;AAC1B,MAAA,MAAM,OAAiB,EAAC;AAExB,MAAA,IAAI,UAAA,GAAa,EAAA;AACjB,MAAA,IAAI,CAAA,GAAI,CAAA;AAER,MAAA,MAAM,cAAc,CAAC,CAAA,KACnB,MAAM,GAAA,IAAO,CAAA,KAAM,OAAO,CAAA,KAAM,GAAA;AAElC,MAAA,OAAO,CAAA,GAAI,OAAO,MAAA,EAAQ;AACxB,QAAA,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA;AAElB,QAAA,IAAI,CAAC,WAAA,CAAY,CAAC,CAAA,EAAG;AACnB,UAAA,UAAA,IAAc,CAAA;AACd,UAAA,CAAA,EAAA;AACA,UAAA;AAAA,QACF;AAEA,QAAA,IAAA,CAAK,KAAK,UAAU,CAAA;AACpB,QAAA,UAAA,GAAa,EAAA;AAEb,QAAA,MAAM,EAAA,GAAK,CAAA;AACX,QAAA,IAAI,KAAA,GAAQ,EAAA;AACZ,QAAA,IAAI,IAAI,CAAA,GAAI,CAAA;AACZ,QAAA,OAAO,IAAI,MAAA,CAAO,MAAA,IAAU,MAAA,CAAO,CAAC,MAAM,EAAA,EAAI;AAC5C,UAAA,KAAA,IAAS,OAAO,CAAC,CAAA;AACjB,UAAA,CAAA,EAAA;AAAA,QACF;AAEA,QAAA,MAAA,CAAO,KAAK,KAAK,CAAA;AACjB,QAAA,CAAA,GAAI,CAAA;AAAA,MACN;AAEA,MAAA,IAAA,CAAK,KAAK,UAAU,CAAA;AACpB,MAAA,OAAO,EAAE,QAAQ,IAAA,EAAK;AAAA,IACxB,CAAA;AAEA,IAAA,MAAM,eAAA,GAAkB,CACtB,KAAA,EACA,MAAA,KAMK;AACL,MAAA,MAAM,EAAE,MAAA,EAAQ,IAAA,EAAK,GAAI,gBAAgB,MAAM,CAAA;AAC/C,MAAA,MAAM,WAKA,EAAC;AAEP,MAAA,IAAI,GAAA,GAAM,CAAA;AAEV,MAAA,IAAI,IAAA,CAAK,CAAC,CAAA,EAAG;AACX,QAAA,MAAM,EAAA,GAAK,KAAK,CAAC,CAAA;AACjB,QAAA,IAAI,KAAA,CAAM,UAAA,CAAW,EAAE,CAAA,SAAU,EAAA,CAAG,MAAA;AAAA,MACtC;AAEA,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,QAAA,MAAM,GAAA,GAAM,OAAO,CAAC,CAAA;AACpB,QAAA,MAAM,EAAA,GAAK,IAAI,CAAC,CAAA;AAChB,QAAA,MAAM,OACJ,EAAA,KAAO,GAAA,GAAM,KAAA,GAAQ,EAAA,KAAO,MAAM,OAAA,GAAU,MAAA;AAE9C,QAAA,MAAM,KAAA,GAAQ,GAAA;AACd,QAAA,IAAI,GAAA,GAAM,GAAA;AAEV,QAAA,OAAO,GAAA,GAAM,MAAM,MAAA,IAAU,IAAA,CAAK,KAAK,KAAA,CAAM,GAAG,CAAC,CAAA,EAAG,GAAA,EAAA;AAEpD,QAAA,MAAM,GAAA,GAAM,KAAA,CAAM,KAAA,CAAM,KAAA,EAAO,GAAG,CAAA;AAClC,QAAA,QAAA,CAAS,KAAK,EAAE,IAAA,EAAM,KAAA,EAAO,GAAA,EAAK,KAAK,CAAA;AAEvC,QAAA,GAAA,GAAM,GAAA;AAEN,QAAA,MAAM,GAAA,GAAM,IAAA,CAAK,CAAA,GAAI,CAAC,CAAA,IAAK,EAAA;AAC3B,QAAA,IAAI,GAAA,IAAO,MAAM,MAAA,CAAO,GAAA,EAAK,IAAI,MAAM,CAAA,KAAM,GAAA,EAAK,GAAA,IAAO,GAAA,CAAI,MAAA;AAAA,MAC/D;AAEA,MAAA,OAAO,QAAA;AAAA,IACT,CAAA;AAEA,IAAA,MAAM,mBAAA,GAAsB,CAC1B,GAAA,EACA,KAAA,EACA,MACA,MAAA,KACW;AACX,MAAA,MAAM,EAAE,MAAA,EAAQ,IAAA,EAAK,GAAI,gBAAgB,MAAM,CAAA;AAC/C,MAAA,IAAI,MAAA,GAAS,IAAA,CAAK,CAAC,CAAA,IAAK,EAAA;AAExB,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,QAAA,MAAM,GAAA,GAAM,OAAO,CAAC,CAAA;AACpB,QAAA,MAAM,EAAA,GAAK,IAAI,CAAC,CAAA;AAChB,QAAA,MAAM,MAAM,GAAA,CAAI,MAAA;AAEhB,QAAA,IAAI,EAAA,KAAO,GAAA,EAAK,MAAA,IAAU,GAAA,CAAI,KAAK,GAAG,CAAA;AAAA,aAAA,IAC7B,EAAA,KAAO,GAAA,EAAK,MAAA,IAAU,GAAA,CAAI,OAAO,GAAG,CAAA;AAAA,aACxC;AACH,UAAA,IAAI,CAAA,GAAI,OAAO,IAAI,CAAA;AACnB,UAAA,IAAI,EAAE,MAAA,GAAS,GAAA,MAAS,CAAA,CAAE,QAAA,CAAS,KAAK,GAAG,CAAA;AAAA,eAAA,IAClC,EAAE,MAAA,GAAS,GAAA,MAAS,CAAA,CAAE,KAAA,CAAM,CAAC,GAAG,CAAA;AACzC,UAAA,MAAA,IAAU,CAAA;AAAA,QACZ;AAEA,QAAA,IAAI,CAAA,GAAI,OAAO,MAAA,GAAS,CAAA,YAAa,IAAA,CAAK,CAAA,GAAI,CAAC,CAAA,IAAK,EAAA;AAAA,MACtD;AAEA,MAAA,OAAO,MAAA;AAAA,IACT,CAAA;AAEA,IAAA,MAAM,kBAAA,GAAqB,CAAC,KAAA,EAAe,MAAA,KAA2B;AACpE,MAAA,IAAI,CAAC,OAAO,OAAO,KAAA;AAEnB,MAAA,MAAM,QAAA,GAAW,eAAA,CAAgB,KAAA,EAAO,MAAM,CAAA;AAC9C,MAAA,IAAI,CAAC,QAAA,CAAS,MAAA,EAAQ,OAAO,KAAA;AAE7B,MAAA,IAAI,GAAA,GAAM,CAAA;AACV,MAAA,IAAI,KAAA,GAAQ,CAAA;AACZ,MAAA,IAAI,IAAA,GAAO,GAAA;AAEX,MAAA,KAAA,MAAW,OAAO,QAAA,EAAU;AAC1B,QAAA,MAAM,IAAI,GAAA,CAAI,GAAA,GAAM,MAAA,CAAO,GAAA,CAAI,GAAG,CAAA,GAAI,GAAA;AACtC,QAAA,IAAI,MAAA,CAAO,KAAA,CAAM,CAAC,CAAA,EAAG;AAErB,QAAA,IAAI,GAAA,CAAI,IAAA,KAAS,KAAA,EAAO,GAAA,GAAM,CAAA;AAAA,aAAA,IACrB,GAAA,CAAI,IAAA,KAAS,OAAA,EAAS,KAAA,GAAQ,CAAA;AAAA,aAClC,IAAA,GAAO,CAAA;AAAA,MACd;AAEA,MAAA,IAAI,KAAA,GAAQ,GAAG,KAAA,GAAQ,CAAA;AACvB,MAAA,IAAI,KAAA,GAAQ,IAAI,KAAA,GAAQ,EAAA;AAExB,MAAA,MAAM,SAAS,WAAA,CAAY,IAAA,GAAO,CAAA,GAAI,IAAA,GAAO,KAAM,KAAK,CAAA;AACxD,MAAA,IAAI,GAAA,GAAM,GAAG,GAAA,GAAM,CAAA;AACnB,MAAA,IAAI,GAAA,GAAM,QAAQ,GAAA,GAAM,MAAA;AAExB,MAAA,OAAO,mBAAA,CAAoB,GAAA,EAAK,KAAA,EAAO,IAAA,EAAM,MAAM,CAAA;AAAA,IACrD,CAAA;AAEA,IAAA,MAAM,gBAAA,GAAmB,CAAC,GAAA,EAAa,YAAA,KAAkC;AACvE,MAAA,IAAI,CAAC,KAAK,OAAO,EAAA;AAEjB,MAAA,IAAI,MAAA,GAAS,EAAA;AACb,MAAA,IAAI,UAAA,GAAa,KAAA;AAEjB,MAAA,KAAA,MAAW,MAAM,GAAA,EAAK;AACpB,QAAA,IAAI,IAAA,CAAK,IAAA,CAAK,EAAE,CAAA,EAAG;AACjB,UAAA,MAAA,IAAU,EAAA;AACV,UAAA;AAAA,QACF;AAEA,QAAA,IAAI,YAAA,KAAiB,EAAA,KAAO,GAAA,IAAO,EAAA,KAAO,GAAA,CAAA,EAAM;AAC9C,UAAA,IAAI,CAAC,UAAA,EAAY;AACf,YAAA,UAAA,GAAa,IAAA;AACb,YAAA,MAAA,IAAU,EAAA;AAAA,UACZ;AAAA,QACF;AAAA,MACF;AAEA,MAAA,OAAO,MAAA;AAAA,IACT,CAAA;AAEA,IAAA,MAAM,uBAAA,GAA0B,CAC9B,MAAA,EACA,MAAA,KACW;AACX,MAAA,MAAM,EAAE,MAAA,EAAQ,IAAA,EAAK,GAAI,gBAAgB,MAAM,CAAA;AAC/C,MAAA,IAAI,CAAC,MAAA,CAAO,MAAA,EAAQ,OAAO,MAAA;AAE3B,MAAA,MAAM,QAAA,GAAW,IAAA,CAAK,CAAC,CAAA,IAAK,EAAA;AAC5B,MAAA,MAAM,SAAA,GAAY,IAAA,CAAK,CAAC,CAAA,IAAK,EAAA;AAE7B,MAAA,IAAI,MAAA,CAAO,UAAU,CAAA,EAAG;AACtB,QAAA,IAAI,MAAA,CAAO,MAAA,KAAW,CAAA,IAAK,QAAA,SAAiB,MAAA,GAAS,QAAA;AACrD,QAAA,OAAO,MAAA;AAAA,MACT;AAEA,MAAA,IAAI,MAAA,CAAO,UAAU,CAAA,EAAG;AACtB,QAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAC9B,QAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAC,CAAA;AAE3B,QAAA,IAAI,GAAA,GAAM,IAAA;AACV,QAAA,IAAI,UAAU,GAAA,IAAO,QAAA;AAErB,QAAA,IAAI,KAAK,MAAA,EAAQ;AACf,UAAA,GAAA,IAAO,IAAA;AACP,UAAA,IAAI,IAAA,CAAK,MAAA,KAAW,CAAA,IAAK,SAAA,EAAW,GAAA,IAAO,SAAA;AAAA,QAC7C;AACA,QAAA,OAAO,GAAA;AAAA,MACT;AAEA,MAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAC9B,MAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAC9B,MAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAE9B,MAAA,IAAI,GAAA,GAAM,MAAA,CAAO,IAAA,IAAQ,GAAG,CAAA;AAC5B,MAAA,IAAI,KAAA,GAAQ,MAAA,CAAO,IAAA,IAAQ,GAAG,CAAA;AAC9B,MAAA,MAAM,IAAA,GAAO,MAAA,CAAO,IAAA,IAAQ,MAAM,CAAA;AAElC,MAAA,IAAI,KAAA,GAAQ,GAAG,KAAA,GAAQ,CAAA;AACvB,MAAA,IAAI,KAAA,GAAQ,IAAI,KAAA,GAAQ,EAAA;AAExB,MAAA,MAAM,SAAS,WAAA,CAAY,IAAA,GAAO,CAAA,GAAI,IAAA,GAAO,KAAM,KAAK,CAAA;AACxD,MAAA,IAAI,GAAA,GAAM,GAAG,GAAA,GAAM,CAAA;AACnB,MAAA,IAAI,GAAA,GAAM,QAAQ,GAAA,GAAM,MAAA;AAExB,MAAA,OAAO,mBAAA,CAAoB,GAAA,EAAK,KAAA,EAAO,IAAA,EAAM,MAAM,CAAA;AAAA,IACrD,CAAA;AAEA,IAAA,MAAM,aAAA,GAAgB,CAAC,GAAA,EAAa,MAAA,KAA2B;AAC7D,MAAA,IAAI,CAAC,KAAK,OAAO,EAAA;AAEjB,MAAA,MAAM,YAAA,GAAe,QAAA,CAAS,IAAA,CAAK,GAAG,CAAA;AACtC,MAAA,MAAM,EAAE,MAAA,EAAQ,IAAA,EAAK,GAAI,gBAAgB,MAAM,CAAA;AAE/C,MAAA,IAAI,CAAC,MAAA,CAAO,MAAA,SAAe,GAAA,CAAI,OAAA,CAAQ,OAAO,EAAE,CAAA;AAEhD,MAAA,IAAI,CAAC,YAAA,EAAc;AACjB,QAAA,MAAM,MAAA,GAAS,GAAA,CAAI,OAAA,CAAQ,KAAA,EAAO,EAAE,CAAA;AACpC,QAAA,IAAI,CAAC,QAAQ,OAAO,EAAA;AACpB,QAAA,OAAO,uBAAA,CAAwB,QAAQ,MAAM,CAAA;AAAA,MAC/C;AAEA,MAAA,MAAM,OAAA,GAAU,GAAA,CAAI,KAAA,CAAM,QAAQ,CAAA;AAClC,MAAA,MAAM,OAAA,GAAU,GAAA,CAAI,KAAA,CAAM,UAAU,KAAK,EAAC;AAW1C,MAAA,MAAM,QAAgB,EAAC;AAEvB,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,QAAA,MAAM,GAAA,GAAM,OAAO,CAAC,CAAA;AACpB,QAAA,MAAM,EAAA,GAAK,IAAI,CAAC,CAAA;AAChB,QAAA,MAAM,MAAM,GAAA,CAAI,MAAA;AAChB,QAAA,MAAM,UAAU,OAAA,CAAQ,CAAC,KAAK,EAAA,EAAI,OAAA,CAAQ,OAAO,EAAE,CAAA;AAEnD,QAAA,MAAM,OACJ,EAAA,KAAO,GAAA,GAAM,KAAA,GAAQ,EAAA,KAAO,MAAM,OAAA,GAAU,MAAA;AAC9C,QAAA,MAAM,MAAA,GAAS,OAAO,MAAA,IAAU,GAAA;AAEhC,QAAA,KAAA,CAAM,IAAA,CAAK,EAAE,IAAA,EAAM,GAAA,EAAK,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,GAAG,CAAA,EAAG,GAAA,EAAK,MAAA,EAAQ,GAAA,EAAK,IAAI,CAAA;AAAA,MACtE;AAEA,MAAA,MAAM,UAAU,KAAA,CAAM,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,KAAK,CAAA;AAClD,MAAA,MAAM,YAAY,KAAA,CAAM,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,OAAO,CAAA;AACtD,MAAA,MAAM,WAAW,KAAA,CAAM,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,MAAM,CAAA;AAEpD,MAAA,IAAI,gBAAA,GAAkC,IAAA;AACtC,MAAA,IAAI,SAAA,IAAa,SAAA,CAAU,MAAA,IAAU,SAAA,CAAU,GAAA,EAAK;AAClD,QAAA,IAAI,CAAA,GAAI,MAAA,CAAO,SAAA,CAAU,GAAG,CAAA;AAC5B,QAAA,IAAI,CAAA,GAAI,GAAG,CAAA,GAAI,CAAA;AACf,QAAA,IAAI,CAAA,GAAI,IAAI,CAAA,GAAI,EAAA;AAChB,QAAA,gBAAA,GAAmB,CAAA;AAAA,MACrB;AAEA,MAAA,IAAI,WAAA,GAAc,GAAA;AAClB,MAAA,IAAI,QAAA,IAAY,QAAA,CAAS,MAAA,IAAU,QAAA,CAAS,GAAA,EAAK;AAC/C,QAAA,MAAM,CAAA,GAAI,MAAA,CAAO,QAAA,CAAS,GAAG,CAAA;AAC7B,QAAA,WAAA,GAAc,CAAA,GAAI,IAAI,CAAA,GAAI,GAAA;AAAA,MAC5B;AAEA,MAAA,IAAI,SAAA,EAAW;AACb,QAAA,IAAI,SAAA,CAAU,MAAA,IAAU,SAAA,CAAU,GAAA,EAAK;AACrC,UAAA,IAAI,CAAA,GAAI,gBAAA,IAAoB,MAAA,CAAO,SAAA,CAAU,GAAG,CAAA;AAChD,UAAA,IAAI,CAAA,GAAI,GAAG,CAAA,GAAI,CAAA;AACf,UAAA,IAAI,CAAA,GAAI,IAAI,CAAA,GAAI,EAAA;AAChB,UAAA,SAAA,CAAU,GAAA,GAAM,GAAA,CAAI,CAAA,EAAG,SAAA,CAAU,GAAG,CAAA;AACpC,UAAA,gBAAA,GAAmB,CAAA;AAAA,QACrB,CAAA,MAAO,SAAA,CAAU,GAAA,GAAM,SAAA,CAAU,GAAA;AAAA,MACnC;AAEA,MAAA,IAAI,OAAA,EAAS;AACX,QAAA,IAAI,OAAA,CAAQ,MAAA,IAAU,OAAA,CAAQ,GAAA,EAAK;AACjC,UAAA,IAAI,CAAA,GAAI,MAAA,CAAO,OAAA,CAAQ,GAAG,CAAA;AAC1B,UAAA,MAAM,WAAA,GAAc,gBAAA,KAAqB,IAAA,GAAO,gBAAA,GAAmB,CAAA;AACnE,UAAA,MAAM,MAAA,GAAS,WAAA,CAAY,WAAA,EAAa,WAAW,CAAA;AAEnD,UAAA,IAAI,CAAA,GAAI,GAAG,CAAA,GAAI,CAAA;AACf,UAAA,IAAI,CAAA,GAAI,QAAQ,CAAA,GAAI,MAAA;AAEpB,UAAA,OAAA,CAAQ,GAAA,GAAM,GAAA,CAAI,CAAA,EAAG,OAAA,CAAQ,GAAG,CAAA;AAAA,QAClC,CAAA,MAAO,OAAA,CAAQ,GAAA,GAAM,OAAA,CAAQ,GAAA;AAAA,MAC/B;AAEA,MAAA,IAAI,QAAA,EAAU,QAAA,CAAS,GAAA,GAAM,QAAA,CAAS,GAAA;AAEtC,MAAA,MAAM,UAAU,KAAA,CAAM,GAAA,CAAI,CAAC,CAAA,KAAM,EAAE,GAAG,CAAA;AACtC,MAAA,MAAM,SAAA,GAAY,MAAM,GAAA,CAAI,CAAC,MAAM,CAAA,CAAE,GAAA,CAAI,SAAS,CAAC,CAAA;AAEnD,MAAA,IAAI,MAAA,GAAS,IAAA,CAAK,CAAC,CAAA,IAAK,EAAA;AACxB,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,KAAA,CAAM,QAAQ,CAAA,EAAA,EAAK;AACrC,QAAA,MAAA,IAAU,OAAA,CAAQ,CAAC,CAAA,IAAK,EAAA;AAExB,QAAA,IAAI,CAAA,GAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG;AACxB,UAAA,MAAM,MAAA,GAAS,IAAA,CAAK,CAAA,GAAI,CAAC,CAAA,IAAK,EAAA;AAC9B,UAAA,MAAM,SAAA,GAAY,IAAI,OAAA,CAAQ,MAAA;AAC9B,UAAA,MAAM,SAAA,GAAY,KAAA,CAAM,CAAC,CAAA,CAAE,MAAA;AAC3B,UAAA,MAAM,aAAA,GAAgB,SAAA,CAAU,CAAA,GAAI,CAAC,CAAA;AAErC,UAAA,IAAI,MAAA,KAAW,aAAa,SAAA,IAAa,aAAA,CAAA;AACvC,YAAA,MAAA,IAAU,MAAA;AAAA,QACd;AAAA,MACF;AAEA,MAAA,OAAO,MAAA,CAAO,OAAA,CAAQ,UAAA,EAAY,CAAC,GAAA,KAAQ;AACzC,QAAA,MAAM,SAAS,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,IAAI,MAAM,CAAA;AAC1C,QAAA,OAAO,IAAA,CAAK,IAAA,CAAK,MAAM,CAAA,GAAI,GAAA,GAAM,EAAA;AAAA,MACnC,CAAC,CAAA;AAAA,IACH,CAAA;AAEA,IAAA,MAAM,wBAAA,GAA2B,CAAC,GAAA,KAAuC;AACvE,MAAA,IAAI,CAAC,IAAA,IAAQ,IAAA,CAAK,SAAS,MAAA,IAAU,CAAC,KAAK,MAAA,EAAQ;AAEnD,MAAA,MAAM,SAAS,IAAA,CAAK,MAAA;AACpB,MAAA,MAAM,QAAQ,EAAA,CAAG,KAAA;AAEjB,MAAA,MAAM,QAAA,GAAW,eAAA,CAAgB,KAAA,EAAO,MAAM,CAAA;AAC9C,MAAA,IAAI,CAAC,SAAS,MAAA,EAAQ;AAEtB,MAAA,MAAM,KAAA,GAAQ,EAAA,CAAG,cAAA,IAAkB,KAAA,CAAM,MAAA;AAEzC,MAAA,IAAI,GAAA,GAAM,QAAA,CAAS,SAAA,CAAU,CAAC,CAAA,KAAM,SAAS,CAAA,CAAE,KAAA,IAAS,KAAA,IAAS,CAAA,CAAE,GAAG,CAAA;AACtE,MAAA,IAAI,QAAQ,EAAA,EAAI;AACd,QAAA,GAAA,GAAM,SAAS,SAAA,CAAU,CAAC,CAAA,KAAM,KAAA,GAAQ,EAAE,KAAK,CAAA;AAC/C,QAAA,IAAI,GAAA,KAAQ,EAAA,EAAI,GAAA,GAAM,QAAA,CAAS,MAAA,GAAS,CAAA;AACxC,QAAA,IAAI,GAAA,GAAM,KAAK,KAAA,GAAQ,QAAA,CAAS,MAAM,CAAC,CAAA,CAAE,GAAA,EAAK,GAAA,GAAM,GAAA,GAAM,CAAA;AAAA,MAC5D;AACA,MAAA,IAAI,GAAA,GAAM,GAAG,GAAA,GAAM,CAAA;AAEnB,MAAA,IAAI,GAAA,GAAM,CAAA,EACR,KAAA,GAAQ,CAAA,EACR,IAAA,GAAO,GAAA;AAET,MAAA,KAAA,MAAWG,QAAO,QAAA,EAAU;AAC1B,QAAA,MAAM,IAAIA,IAAAA,CAAI,GAAA,GAAM,MAAA,CAAOA,IAAAA,CAAI,GAAG,CAAA,GAAI,GAAA;AACtC,QAAA,IAAI,MAAA,CAAO,KAAA,CAAM,CAAC,CAAA,EAAG;AACrB,QAAA,IAAIA,IAAAA,CAAI,IAAA,KAAS,KAAA,EAAO,GAAA,GAAM,CAAA;AAAA,aAAA,IACrBA,IAAAA,CAAI,IAAA,KAAS,OAAA,EAAS,KAAA,GAAQ,CAAA;AAAA,aAClC,IAAA,GAAO,CAAA;AAAA,MACd;AAEA,MAAA,IAAI,KAAA,GAAQ,GAAG,KAAA,GAAQ,CAAA;AACvB,MAAA,IAAI,KAAA,GAAQ,IAAI,KAAA,GAAQ,EAAA;AAExB,MAAA,IAAI,SAAS,WAAA,CAAY,IAAA,GAAO,CAAA,GAAI,IAAA,GAAO,KAAM,KAAK,CAAA;AACtD,MAAA,IAAI,GAAA,GAAM,GAAG,GAAA,GAAM,CAAA;AACnB,MAAA,IAAI,GAAA,GAAM,QAAQ,GAAA,GAAM,MAAA;AAExB,MAAA,MAAM,GAAA,GAAM,SAAS,GAAG,CAAA;AAExB,MAAA,IAAI,GAAA,CAAI,SAAS,KAAA,EAAO;AACtB,QAAA,GAAA,GAAM,GAAA,KAAQ,SAAA,GAAY,GAAA,GAAM,CAAA,GAAI,GAAA,GAAM,CAAA;AAC1C,QAAA,IAAI,GAAA,GAAM,QAAQ,GAAA,GAAM,CAAA;AACxB,QAAA,IAAI,GAAA,GAAM,GAAG,GAAA,GAAM,MAAA;AAAA,MACrB,CAAA,MAAA,IAAW,GAAA,CAAI,IAAA,KAAS,OAAA,EAAS;AAC/B,QAAA,KAAA,GAAQ,GAAA,KAAQ,SAAA,GAAY,KAAA,GAAQ,CAAA,GAAI,KAAA,GAAQ,CAAA;AAChD,QAAA,IAAI,KAAA,GAAQ,IAAI,KAAA,GAAQ,CAAA;AACxB,QAAA,IAAI,KAAA,GAAQ,GAAG,KAAA,GAAQ,EAAA;AAAA,MACzB,CAAA,MAAO;AACL,QAAA,IAAA,GAAO,GAAA,KAAQ,YAAY,IAAA,GAAO,CAAA,GAAI,KAAK,GAAA,CAAI,CAAA,EAAG,OAAO,CAAC,CAAA;AAAA,MAC5D;AAEA,MAAA,MAAA,GAAS,WAAA,CAAY,IAAA,GAAO,CAAA,GAAI,IAAA,GAAO,KAAM,KAAK,CAAA;AAClD,MAAA,IAAI,GAAA,GAAM,QAAQ,GAAA,GAAM,MAAA;AAExB,MAAA,MAAM,QAAA,GAAW,mBAAA,CAAoB,GAAA,EAAK,KAAA,EAAO,MAAM,MAAM,CAAA;AAC7D,MAAA,EAAA,CAAG,KAAA,GAAQ,QAAA;AACX,MAAA,kBAAA,EAAmB;AAEnB,MAAA,MAAM,WAAA,GAAc,eAAA,CAAgB,QAAA,EAAU,MAAM,CAAA;AACpD,MAAA,MAAM,SAAS,WAAA,CAAY,GAAG,KAAK,WAAA,CAAY,WAAA,CAAY,SAAS,CAAC,CAAA;AACrE,MAAA,IAAI,QAAQ,EAAA,CAAG,iBAAA,CAAkB,MAAA,CAAO,KAAA,EAAO,OAAO,GAAG,CAAA;AAAA,IAC3D,CAAA;AAKA,IAAA,MAAM,eAAA,GAAkB,CACtB,MAAA,KACyC;AACzC,MAAA,MAAM,SAAmB,EAAC;AAC1B,MAAA,MAAM,OAAiB,EAAC;AAExB,MAAA,IAAI,UAAA,GAAa,EAAA;AACjB,MAAA,IAAI,CAAA,GAAI,CAAA;AAER,MAAA,MAAM,cAAc,CAAC,CAAA,KACnB,MAAM,GAAA,IAAO,CAAA,KAAM,OAAO,CAAA,KAAM,GAAA;AAElC,MAAA,OAAO,CAAA,GAAI,OAAO,MAAA,EAAQ;AACxB,QAAA,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA;AAElB,QAAA,IAAI,CAAC,WAAA,CAAY,CAAC,CAAA,EAAG;AACnB,UAAA,UAAA,IAAc,CAAA;AACd,UAAA,CAAA,EAAA;AACA,UAAA;AAAA,QACF;AAEA,QAAA,IAAA,CAAK,KAAK,UAAU,CAAA;AACpB,QAAA,UAAA,GAAa,EAAA;AAEb,QAAA,MAAM,EAAA,GAAK,CAAA;AACX,QAAA,IAAI,KAAA,GAAQ,EAAA;AACZ,QAAA,IAAI,IAAI,CAAA,GAAI,CAAA;AACZ,QAAA,OAAO,IAAI,MAAA,CAAO,MAAA,IAAU,MAAA,CAAO,CAAC,MAAM,EAAA,EAAI;AAC5C,UAAA,KAAA,IAAS,OAAO,CAAC,CAAA;AACjB,UAAA,CAAA,EAAA;AAAA,QACF;AAEA,QAAA,MAAA,CAAO,KAAK,KAAK,CAAA;AACjB,QAAA,CAAA,GAAI,CAAA;AAAA,MACN;AAEA,MAAA,IAAA,CAAK,KAAK,UAAU,CAAA;AACpB,MAAA,OAAO,EAAE,QAAQ,IAAA,EAAK;AAAA,IACxB,CAAA;AAEA,IAAA,MAAM,eAAA,GAAkB,CACtB,KAAA,EACA,MAAA,KAMK;AACL,MAAA,MAAM,EAAE,MAAA,EAAQ,IAAA,EAAK,GAAI,gBAAgB,MAAM,CAAA;AAC/C,MAAA,MAAM,WAKA,EAAC;AAEP,MAAA,IAAI,GAAA,GAAM,CAAA;AAEV,MAAA,IAAI,IAAA,CAAK,CAAC,CAAA,EAAG;AACX,QAAA,MAAM,EAAA,GAAK,KAAK,CAAC,CAAA;AACjB,QAAA,IAAI,KAAA,CAAM,UAAA,CAAW,EAAE,CAAA,SAAU,EAAA,CAAG,MAAA;AAAA,MACtC;AAEA,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,QAAA,MAAM,GAAA,GAAM,OAAO,CAAC,CAAA;AACpB,QAAA,MAAM,EAAA,GAAK,IAAI,CAAC,CAAA;AAChB,QAAA,MAAM,OACJ,EAAA,KAAO,GAAA,GAAM,MAAA,GAAS,EAAA,KAAO,MAAM,QAAA,GAAW,QAAA;AAEhD,QAAA,MAAM,KAAA,GAAQ,GAAA;AACd,QAAA,IAAI,GAAA,GAAM,GAAA;AACV,QAAA,OAAO,GAAA,GAAM,MAAM,MAAA,IAAU,IAAA,CAAK,KAAK,KAAA,CAAM,GAAG,CAAC,CAAA,EAAG,GAAA,EAAA;AAEpD,QAAA,MAAM,GAAA,GAAM,KAAA,CAAM,KAAA,CAAM,KAAA,EAAO,GAAG,CAAA;AAClC,QAAA,QAAA,CAAS,KAAK,EAAE,IAAA,EAAM,KAAA,EAAO,GAAA,EAAK,KAAK,CAAA;AAEvC,QAAA,GAAA,GAAM,GAAA;AAEN,QAAA,MAAM,GAAA,GAAM,IAAA,CAAK,CAAA,GAAI,CAAC,CAAA,IAAK,EAAA;AAC3B,QAAA,IAAI,GAAA,IAAO,MAAM,MAAA,CAAO,GAAA,EAAK,IAAI,MAAM,CAAA,KAAM,GAAA,EAAK,GAAA,IAAO,GAAA,CAAI,MAAA;AAAA,MAC/D;AAEA,MAAA,OAAO,QAAA;AAAA,IACT,CAAA;AAEA,IAAA,MAAM,mBAAA,GAAsB,CAC1B,IAAA,EACA,MAAA,EACA,QACA,MAAA,KACW;AACX,MAAA,MAAM,EAAE,MAAA,EAAQ,IAAA,EAAK,GAAI,gBAAgB,MAAM,CAAA;AAC/C,MAAA,IAAI,MAAA,GAAS,IAAA,CAAK,CAAC,CAAA,IAAK,EAAA;AAExB,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,QAAA,MAAM,GAAA,GAAM,OAAO,CAAC,CAAA;AACpB,QAAA,MAAM,EAAA,GAAK,IAAI,CAAC,CAAA;AAChB,QAAA,MAAM,MAAM,GAAA,CAAI,MAAA;AAEhB,QAAA,IAAI,EAAA,KAAO,GAAA,EAAK,MAAA,IAAU,GAAA,CAAI,MAAM,GAAG,CAAA;AAAA,aAAA,IAC9B,EAAA,KAAO,GAAA,EAAK,MAAA,IAAU,GAAA,CAAI,QAAQ,GAAG,CAAA;AAAA,aACzC,MAAA,IAAU,GAAA,CAAI,MAAA,EAAQ,GAAG,CAAA;AAE9B,QAAA,IAAI,CAAA,GAAI,OAAO,MAAA,GAAS,CAAA,YAAa,IAAA,CAAK,CAAA,GAAI,CAAC,CAAA,IAAK,EAAA;AAAA,MACtD;AAEA,MAAA,OAAO,MAAA;AAAA,IACT,CAAA;AAEA,IAAA,MAAM,kBAAA,GAAqB,CAAC,KAAA,EAAe,MAAA,KAA2B;AACpE,MAAA,IAAI,CAAC,OAAO,OAAO,KAAA;AAEnB,MAAA,MAAM,QAAA,GAAW,eAAA,CAAgB,KAAA,EAAO,MAAM,CAAA;AAC9C,MAAA,IAAI,CAAC,QAAA,CAAS,MAAA,EAAQ,OAAO,KAAA;AAE7B,MAAA,IAAI,IAAA,GAAO,CAAA,EACT,MAAA,GAAS,CAAA,EACT,MAAA,GAAS,CAAA;AAEX,MAAA,KAAA,MAAW,OAAO,QAAA,EAAU;AAC1B,QAAA,MAAM,IAAI,GAAA,CAAI,GAAA,GAAM,MAAA,CAAO,GAAA,CAAI,GAAG,CAAA,GAAI,GAAA;AACtC,QAAA,IAAI,MAAA,CAAO,KAAA,CAAM,CAAC,CAAA,EAAG;AACrB,QAAA,IAAI,GAAA,CAAI,IAAA,KAAS,MAAA,EAAQ,IAAA,GAAO,CAAA;AAAA,aAAA,IACvB,GAAA,CAAI,IAAA,KAAS,QAAA,EAAU,MAAA,GAAS,CAAA;AAAA,aACpC,MAAA,GAAS,CAAA;AAAA,MAChB;AAEA,MAAA,IAAA,GAAO,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,IAAI,CAAC,CAAA;AACrC,MAAA,MAAA,GAAS,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,MAAM,CAAC,CAAA;AACzC,MAAA,MAAA,GAAS,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,MAAM,CAAC,CAAA;AAEzC,MAAA,OAAO,mBAAA,CAAoB,IAAA,EAAM,MAAA,EAAQ,MAAA,EAAQ,MAAM,CAAA;AAAA,IACzD,CAAA;AAEA,IAAA,MAAM,uBAAA,GAA0B,CAC9B,MAAA,EACA,MAAA,KACW;AACX,MAAA,MAAM,EAAE,MAAA,EAAQ,IAAA,EAAK,GAAI,gBAAgB,MAAM,CAAA;AAC/C,MAAA,IAAI,CAAC,MAAA,CAAO,MAAA,EAAQ,OAAO,MAAA;AAE3B,MAAA,MAAM,QAAA,GAAW,IAAA,CAAK,CAAC,CAAA,IAAK,EAAA;AAC5B,MAAA,MAAM,SAAA,GAAY,IAAA,CAAK,CAAC,CAAA,IAAK,EAAA;AAE7B,MAAA,MAAM,UAAA,GAAa,OAAO,MAAA,IAAU,CAAA,IAAK,OAAO,CAAC,CAAA,CAAE,CAAC,CAAA,KAAM,GAAA;AAC1D,MAAA,MAAM,UAAA,GAAa,OAAO,MAAA,IAAU,CAAA,IAAK,OAAO,CAAC,CAAA,CAAE,CAAC,CAAA,KAAM,GAAA;AAG1D,MAAA,IAAI,UAAA,IAAc,CAAC,UAAA,EAAY;AAC7B,QAAA,IAAI,MAAA,CAAO,UAAU,CAAA,EAAG;AACtB,UAAA,IAAI,MAAA,CAAO,MAAA,KAAW,CAAA,IAAK,QAAA,SAAiB,MAAA,GAAS,QAAA;AACrD,UAAA,OAAO,MAAA;AAAA,QACT;AACA,QAAA,IAAI,MAAA,CAAO,UAAU,CAAA,EAAG;AACtB,UAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAC9B,UAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAC,CAAA;AAC3B,UAAA,OAAO,CAAA,EAAG,IAAI,CAAA,EAAG,QAAQ,GAAG,IAAI,CAAA,CAAA;AAAA,QAClC;AAEA,QAAA,IAAI,OAAO,MAAA,CAAO,MAAA,CAAO,MAAM,CAAA,EAAG,CAAC,KAAK,GAAG,CAAA;AAC3C,QAAA,IAAI,SAAS,MAAA,CAAO,MAAA,CAAO,MAAM,CAAA,EAAG,CAAC,KAAK,GAAG,CAAA;AAC7C,QAAA,IAAA,GAAO,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,IAAI,CAAC,CAAA;AACrC,QAAA,MAAA,GAAS,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,MAAM,CAAC,CAAA;AACzC,QAAA,OAAO,mBAAA,CAAoB,IAAA,EAAM,MAAA,EAAQ,CAAA,EAAG,MAAM,CAAA;AAAA,MACpD;AAGA,MAAA,IAAI,cAAc,UAAA,EAAY;AAC5B,QAAA,IAAI,MAAA,CAAO,UAAU,CAAA,EAAG;AACtB,UAAA,IAAI,MAAA,CAAO,MAAA,KAAW,CAAA,IAAK,QAAA,SAAiB,MAAA,GAAS,QAAA;AACrD,UAAA,OAAO,MAAA;AAAA,QACT;AAEA,QAAA,IAAI,MAAA,CAAO,UAAU,CAAA,EAAG;AACtB,UAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAC9B,UAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAC,CAAA;AAC3B,UAAA,IAAI,MAAM,CAAA,EAAG,IAAI,CAAA,EAAG,QAAQ,GAAG,IAAI,CAAA,CAAA;AACnC,UAAA,IAAI,IAAA,CAAK,MAAA,KAAW,CAAA,EAAG,GAAA,IAAO,SAAA;AAC9B,UAAA,OAAO,GAAA;AAAA,QACT;AAEA,QAAA,IAAI,MAAA,CAAO,UAAU,CAAA,EAAG;AACtB,UAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAC9B,UAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAC9B,UAAA,MAAM,IAAA,GAAO,MAAA,CAAO,KAAA,CAAM,CAAC,CAAA;AAC3B,UAAA,OAAO,CAAA,EAAG,IAAI,CAAA,EAAG,QAAQ,GAAG,IAAI,CAAA,EAAG,SAAS,CAAA,EAAG,IAAI,CAAA,CAAA;AAAA,QACrD;AAEA,QAAA,IAAI,OAAO,MAAA,CAAO,MAAA,CAAO,MAAM,CAAA,EAAG,CAAC,KAAK,GAAG,CAAA;AAC3C,QAAA,IAAI,SAAS,MAAA,CAAO,MAAA,CAAO,MAAM,CAAA,EAAG,CAAC,KAAK,GAAG,CAAA;AAC7C,QAAA,IAAI,SAAS,MAAA,CAAO,MAAA,CAAO,MAAM,CAAA,EAAG,CAAC,KAAK,GAAG,CAAA;AAC7C,QAAA,IAAA,GAAO,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,IAAI,CAAC,CAAA;AACrC,QAAA,MAAA,GAAS,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,MAAM,CAAC,CAAA;AACzC,QAAA,MAAA,GAAS,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,MAAM,CAAC,CAAA;AACzC,QAAA,OAAO,mBAAA,CAAoB,IAAA,EAAM,MAAA,EAAQ,MAAA,EAAQ,MAAM,CAAA;AAAA,MACzD;AAEA,MAAA,OAAO,MAAA;AAAA,IACT,CAAA;AAEA,IAAA,MAAM,aAAA,GAAgB,CAAC,GAAA,EAAa,MAAA,KAA2B;AAC7D,MAAA,IAAI,CAAC,KAAK,OAAO,EAAA;AAEjB,MAAA,MAAM,YAAA,GAAe,QAAA,CAAS,IAAA,CAAK,GAAG,CAAA;AACtC,MAAA,MAAM,EAAE,MAAA,EAAQ,IAAA,EAAK,GAAI,gBAAgB,MAAM,CAAA;AAC/C,MAAA,IAAI,CAAC,MAAA,CAAO,MAAA,SAAe,GAAA,CAAI,OAAA,CAAQ,OAAO,EAAE,CAAA;AAEhD,MAAA,IAAI,CAAC,YAAA,EAAc;AACjB,QAAA,MAAM,MAAA,GAAS,GAAA,CAAI,OAAA,CAAQ,KAAA,EAAO,EAAE,CAAA;AACpC,QAAA,IAAI,CAAC,QAAQ,OAAO,EAAA;AACpB,QAAA,OAAO,uBAAA,CAAwB,QAAQ,MAAM,CAAA;AAAA,MAC/C;AAEA,MAAA,MAAM,OAAA,GAAU,GAAA,CAAI,KAAA,CAAM,QAAQ,CAAA;AAClC,MAAA,MAAM,OAAA,GAAU,GAAA,CAAI,KAAA,CAAM,UAAU,KAAK,EAAC;AAW1C,MAAA,MAAM,QAAgB,EAAC;AAEvB,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,QAAA,MAAM,GAAA,GAAM,OAAO,CAAC,CAAA;AACpB,QAAA,MAAM,EAAA,GAAK,IAAI,CAAC,CAAA;AAChB,QAAA,MAAM,MAAM,GAAA,CAAI,MAAA;AAChB,QAAA,MAAM,UAAU,OAAA,CAAQ,CAAC,KAAK,EAAA,EAAI,OAAA,CAAQ,OAAO,EAAE,CAAA;AAEnD,QAAA,MAAM,OACJ,EAAA,KAAO,GAAA,GAAM,MAAA,GAAS,EAAA,KAAO,MAAM,QAAA,GAAW,QAAA;AAChD,QAAA,MAAM,MAAA,GAAS,OAAO,MAAA,IAAU,GAAA;AAEhC,QAAA,KAAA,CAAM,IAAA,CAAK,EAAE,IAAA,EAAM,GAAA,EAAK,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,GAAG,CAAA,EAAG,GAAA,EAAK,MAAA,EAAQ,GAAA,EAAK,IAAI,CAAA;AAAA,MACtE;AAEA,MAAA,MAAM,WAAW,KAAA,CAAM,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,MAAM,CAAA;AACpD,MAAA,MAAM,aAAa,KAAA,CAAM,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,QAAQ,CAAA;AACxD,MAAA,MAAM,aAAa,KAAA,CAAM,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,QAAQ,CAAA;AAExD,MAAA,IAAI,QAAO,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAU,GAAA,IAAM,MAAA,CAAO,QAAA,CAAS,GAAG,CAAA,GAAI,CAAA;AAClD,MAAA,IAAI,UAAS,UAAA,IAAA,IAAA,GAAA,MAAA,GAAA,UAAA,CAAY,GAAA,IAAM,MAAA,CAAO,UAAA,CAAW,GAAG,CAAA,GAAI,CAAA;AACxD,MAAA,IAAI,UAAS,UAAA,IAAA,IAAA,GAAA,MAAA,GAAA,UAAA,CAAY,GAAA,IAAM,MAAA,CAAO,UAAA,CAAW,GAAG,CAAA,GAAI,CAAA;AAExD,MAAA,IAAI,QAAA,EAAU;AACZ,QAAA,IAAI,QAAA,CAAS,MAAA,IAAU,QAAA,CAAS,GAAA,EAAK;AACnC,UAAA,IAAA,GAAO,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,IAAI,CAAC,CAAA;AACrC,UAAA,QAAA,CAAS,GAAA,GAAM,GAAA,CAAI,IAAA,EAAM,QAAA,CAAS,GAAG,CAAA;AAAA,QACvC,CAAA,MAAO,QAAA,CAAS,GAAA,GAAM,QAAA,CAAS,GAAA;AAAA,MACjC;AAEA,MAAA,IAAI,UAAA,EAAY;AACd,QAAA,IAAI,UAAA,CAAW,MAAA,IAAU,UAAA,CAAW,GAAA,EAAK;AACvC,UAAA,MAAA,GAAS,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,MAAM,CAAC,CAAA;AACzC,UAAA,UAAA,CAAW,GAAA,GAAM,GAAA,CAAI,MAAA,EAAQ,UAAA,CAAW,GAAG,CAAA;AAAA,QAC7C,CAAA,MAAO,UAAA,CAAW,GAAA,GAAM,UAAA,CAAW,GAAA;AAAA,MACrC;AAEA,MAAA,IAAI,UAAA,EAAY;AACd,QAAA,IAAI,UAAA,CAAW,MAAA,IAAU,UAAA,CAAW,GAAA,EAAK;AACvC,UAAA,MAAA,GAAS,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,EAAA,EAAI,MAAM,CAAC,CAAA;AACzC,UAAA,UAAA,CAAW,GAAA,GAAM,GAAA,CAAI,MAAA,EAAQ,UAAA,CAAW,GAAG,CAAA;AAAA,QAC7C,CAAA,MAAO,UAAA,CAAW,GAAA,GAAM,UAAA,CAAW,GAAA;AAAA,MACrC;AAEA,MAAA,MAAM,UAAU,KAAA,CAAM,GAAA,CAAI,CAAC,CAAA,KAAM,EAAE,GAAG,CAAA;AACtC,MAAA,MAAM,SAAA,GAAY,MAAM,GAAA,CAAI,CAAC,MAAM,CAAA,CAAE,GAAA,CAAI,SAAS,CAAC,CAAA;AAEnD,MAAA,IAAI,MAAA,GAAS,IAAA,CAAK,CAAC,CAAA,IAAK,EAAA;AACxB,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,KAAA,CAAM,QAAQ,CAAA,EAAA,EAAK;AACrC,QAAA,MAAA,IAAU,OAAA,CAAQ,CAAC,CAAA,IAAK,EAAA;AAExB,QAAA,IAAI,CAAA,GAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG;AACxB,UAAA,MAAM,MAAA,GAAS,IAAA,CAAK,CAAA,GAAI,CAAC,CAAA,IAAK,EAAA;AAC9B,UAAA,MAAM,SAAA,GAAY,IAAI,OAAA,CAAQ,MAAA;AAC9B,UAAA,MAAM,SAAA,GAAY,KAAA,CAAM,CAAC,CAAA,CAAE,MAAA;AAC3B,UAAA,MAAM,aAAA,GAAgB,SAAA,CAAU,CAAA,GAAI,CAAC,CAAA;AAErC,UAAA,IAAI,MAAA,KAAW,aAAa,SAAA,IAAa,aAAA,CAAA;AACvC,YAAA,MAAA,IAAU,MAAA;AAAA,QACd;AAAA,MACF;AAEA,MAAA,OAAO,MAAA,CAAO,OAAA,CAAQ,UAAA,EAAY,CAAC,GAAA,KAAQ;AACzC,QAAA,MAAM,SAAS,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,IAAI,MAAM,CAAA;AAC1C,QAAA,OAAO,IAAA,CAAK,IAAA,CAAK,MAAM,CAAA,GAAI,GAAA,GAAM,EAAA;AAAA,MACnC,CAAC,CAAA;AAAA,IACH,CAAA;AAEA,IAAA,MAAM,wBAAA,GAA2B,CAAC,GAAA,KAAuC;AACvE,MAAA,IAAI,CAAC,IAAA,IAAQ,IAAA,CAAK,SAAS,MAAA,IAAU,CAAC,KAAK,MAAA,EAAQ;AAEnD,MAAA,MAAM,SAAS,IAAA,CAAK,MAAA;AACpB,MAAA,MAAM,QAAQ,EAAA,CAAG,KAAA;AAEjB,MAAA,MAAM,QAAA,GAAW,eAAA,CAAgB,KAAA,EAAO,MAAM,CAAA;AAC9C,MAAA,IAAI,CAAC,SAAS,MAAA,EAAQ;AAEtB,MAAA,MAAM,KAAA,GAAQ,EAAA,CAAG,cAAA,IAAkB,KAAA,CAAM,MAAA;AAEzC,MAAA,IAAI,GAAA,GAAM,QAAA,CAAS,SAAA,CAAU,CAAC,CAAA,KAAM,SAAS,CAAA,CAAE,KAAA,IAAS,KAAA,IAAS,CAAA,CAAE,GAAG,CAAA;AACtE,MAAA,IAAI,QAAQ,EAAA,EAAI;AACd,QAAA,GAAA,GAAM,SAAS,SAAA,CAAU,CAAC,CAAA,KAAM,KAAA,GAAQ,EAAE,KAAK,CAAA;AAC/C,QAAA,IAAI,GAAA,KAAQ,EAAA,EAAI,GAAA,GAAM,QAAA,CAAS,MAAA,GAAS,CAAA;AACxC,QAAA,IAAI,GAAA,GAAM,KAAK,KAAA,GAAQ,QAAA,CAAS,MAAM,CAAC,CAAA,CAAE,GAAA,EAAK,GAAA,GAAM,GAAA,GAAM,CAAA;AAAA,MAC5D;AACA,MAAA,IAAI,GAAA,GAAM,GAAG,GAAA,GAAM,CAAA;AAEnB,MAAA,IAAI,IAAA,GAAO,CAAA,EACT,MAAA,GAAS,CAAA,EACT,MAAA,GAAS,CAAA;AAEX,MAAA,KAAA,MAAWA,QAAO,QAAA,EAAU;AAC1B,QAAA,MAAM,IAAIA,IAAAA,CAAI,GAAA,GAAM,MAAA,CAAOA,IAAAA,CAAI,GAAG,CAAA,GAAI,GAAA;AACtC,QAAA,IAAI,MAAA,CAAO,KAAA,CAAM,CAAC,CAAA,EAAG;AACrB,QAAA,IAAIA,IAAAA,CAAI,IAAA,KAAS,MAAA,EAAQ,IAAA,GAAO,CAAA;AAAA,aAAA,IACvBA,IAAAA,CAAI,IAAA,KAAS,QAAA,EAAU,MAAA,GAAS,CAAA;AAAA,aACpC,MAAA,GAAS,CAAA;AAAA,MAChB;AAEA,MAAA,MAAM,GAAA,GAAM,SAAS,GAAG,CAAA;AAExB,MAAA,IAAI,GAAA,CAAI,SAAS,MAAA,EAAQ;AACvB,QAAA,IAAA,GAAO,GAAA,KAAQ,SAAA,GAAY,IAAA,GAAO,CAAA,GAAI,IAAA,GAAO,CAAA;AAC7C,QAAA,IAAI,IAAA,GAAO,IAAI,IAAA,GAAO,CAAA;AACtB,QAAA,IAAI,IAAA,GAAO,GAAG,IAAA,GAAO,EAAA;AAAA,MACvB,CAAA,MAAA,IAAW,GAAA,CAAI,IAAA,KAAS,QAAA,EAAU;AAChC,QAAA,MAAA,GAAS,GAAA,KAAQ,SAAA,GAAY,MAAA,GAAS,CAAA,GAAI,MAAA,GAAS,CAAA;AACnD,QAAA,IAAI,MAAA,GAAS,IAAI,MAAA,GAAS,CAAA;AAC1B,QAAA,IAAI,MAAA,GAAS,GAAG,MAAA,GAAS,EAAA;AAAA,MAC3B,CAAA,MAAO;AACL,QAAA,MAAA,GAAS,GAAA,KAAQ,SAAA,GAAY,MAAA,GAAS,CAAA,GAAI,MAAA,GAAS,CAAA;AACnD,QAAA,IAAI,MAAA,GAAS,IAAI,MAAA,GAAS,CAAA;AAC1B,QAAA,IAAI,MAAA,GAAS,GAAG,MAAA,GAAS,EAAA;AAAA,MAC3B;AAEA,MAAA,MAAM,QAAA,GAAW,mBAAA,CAAoB,IAAA,EAAM,MAAA,EAAQ,QAAQ,MAAM,CAAA;AACjE,MAAA,EAAA,CAAG,KAAA,GAAQ,QAAA;AACX,MAAA,kBAAA,EAAmB;AAEnB,MAAA,MAAM,WAAA,GAAc,eAAA,CAAgB,QAAA,EAAU,MAAM,CAAA;AACpD,MAAA,MAAM,SAAS,WAAA,CAAY,GAAG,KAAK,WAAA,CAAY,WAAA,CAAY,SAAS,CAAC,CAAA;AACrE,MAAA,IAAI,QAAQ,EAAA,CAAG,iBAAA,CAAkB,MAAA,CAAO,KAAA,EAAO,OAAO,GAAG,CAAA;AAAA,IAC3D,CAAA;AAKA,IAAA,MAAM,UAAU,MAAM;AACpB,MAAA,IAAI,CAAC,OAAA,EAAQ,IAAK,CAAC,IAAA,EAAM;AAEzB,MAAA,MAAM,QAAA,GAAW,GAAG,KAAA,IAAS,EAAA;AAC7B,MAAA,IAAI,KAAA,GAAQ,QAAA;AAEZ,MAAA,MAAM,OAAO,IAAA,CAAK,IAAA;AAClB,MAAA,MAAM,SAAS,IAAA,CAAK,MAAA;AAEpB,MAAA,MAAM,OAAA,GAAU,EAAA,CAAG,cAAA,IAAkB,QAAA,CAAS,MAAA;AAE9C,MAAA,IAAI,SAAS,MAAA,IAAU,MAAA,EAAQ,KAAA,GAAQ,aAAA,CAAc,OAAO,MAAM,CAAA;AAAA,WAAA,IACzD,SAAS,MAAA,IAAU,MAAA,EAAQ,KAAA,GAAQ,aAAA,CAAc,OAAO,MAAM,CAAA;AAAA,WAAA,IAC9D,IAAA,KAAS,SAAA,EAAW,KAAA,GAAQ,gBAAA,CAAiB,OAAO,KAAK,CAAA;AAAA,WAAA,IACzD,IAAA,KAAS,YAAY,IAAA,KAAS,UAAA;AACrC,QAAA,KAAA,GAAQ,gBAAA,CAAiB,OAAO,IAAI,CAAA;AAEtC,MAAA,IAAI,UAAU,QAAA,EAAU;AACtB,QAAA,MAAM,SAAS,QAAA,CAAS,MAAA;AACxB,QAAA,EAAA,CAAG,KAAA,GAAQ,KAAA;AACX,QAAA,MAAM,SAAS,KAAA,CAAM,MAAA;AAErB,QAAA,MAAM,QAAQ,MAAA,GAAS,MAAA;AACvB,QAAA,MAAM,MAAA,GAAS,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,MAAA,EAAQ,OAAA,GAAU,KAAK,CAAC,CAAA;AAC5D,QAAA,EAAA,CAAG,iBAAA,CAAkB,QAAQ,MAAM,CAAA;AAAA,MACrC;AAAA,IACF,CAAA;AAEA,IAAA,MAAM,SAAS,MAAM;AACnB,MAAA,IAAI,CAAC,IAAA,EAAM;AAEX,MAAA,IAAI,IAAA,CAAK,IAAA,KAAS,MAAA,IAAU,IAAA,CAAK,MAAA,EAAQ;AACvC,QAAA,IAAI,CAAC,GAAG,KAAA,EAAO;AACf,QAAA,MAAM,UAAA,GAAa,kBAAA,CAAmB,EAAA,CAAG,KAAA,EAAO,KAAK,MAAM,CAAA;AAC3D,QAAA,IAAI,UAAA,KAAe,GAAG,KAAA,EAAO;AAC3B,UAAA,EAAA,CAAG,KAAA,GAAQ,UAAA;AACX,UAAA,kBAAA,EAAmB;AAAA,QACrB;AAAA,MACF;AAEA,MAAA,IAAI,IAAA,CAAK,IAAA,KAAS,MAAA,IAAU,IAAA,CAAK,MAAA,EAAQ;AACvC,QAAA,IAAI,CAAC,GAAG,KAAA,EAAO;AACf,QAAA,MAAM,UAAA,GAAa,kBAAA,CAAmB,EAAA,CAAG,KAAA,EAAO,KAAK,MAAM,CAAA;AAC3D,QAAA,IAAI,UAAA,KAAe,GAAG,KAAA,EAAO;AAC3B,UAAA,EAAA,CAAG,KAAA,GAAQ,UAAA;AACX,UAAA,kBAAA,EAAmB;AAAA,QACrB;AAAA,MACF;AAAA,IACF,CAAA;AAEA,IAAA,MAAM,UAAU,MAAM;AACpB,MAAA,IAAI,CAAC,IAAA,EAAM;AACX,MAAA,IAAI,CAAC,iBAAA,CAAkB,OAAA,IAAW,GAAG,KAAA,CAAM,IAAA,OAAW,EAAA,EAAI;AACxD,QAAA,2BAAA,EAA4B;AAAA,MAC9B;AAAA,IACF,CAAA;AAEA,IAAA,MAAM,SAAA,GAAY,CAAC,KAAA,KAAyB;AAC1C,MAAA,IAAI,CAAC,IAAA,IAAQ,EAAA,CAAG,QAAA,IAAY,GAAG,QAAA,EAAU;AAEzC,MAAA,MAAM,OAAO,IAAA,CAAK,IAAA;AAClB,MAAA,MAAM,MAAM,KAAA,CAAM,GAAA;AAElB,MAAA,IACE,SAAS,MAAA,IACT,IAAA,CAAK,WACJ,GAAA,KAAQ,SAAA,IAAa,QAAQ,WAAA,CAAA,EAC9B;AACA,QAAA,KAAA,CAAM,cAAA,EAAe;AACrB,QAAA,wBAAA,CAAyB,GAA8B,CAAA;AACvD,QAAA;AAAA,MACF;AAEA,MAAA,IACE,SAAS,MAAA,IACT,IAAA,CAAK,WACJ,GAAA,KAAQ,SAAA,IAAa,QAAQ,WAAA,CAAA,EAC9B;AACA,QAAA,KAAA,CAAM,cAAA,EAAe;AACrB,QAAA,wBAAA,CAAyB,GAA8B,CAAA;AACvD,QAAA;AAAA,MACF;AAGA,MAAA,IAAI,IAAA,KAAS,MAAA,IAAU,IAAA,CAAK,MAAA,IAAU,QAAQ,OAAA,EAAS;AACrD,QAAA,KAAA,CAAM,cAAA,EAAe;AACrB,QAAA,IAAI,GAAG,KAAA,EAAO;AACZ,UAAA,MAAM,UAAA,GAAa,kBAAA,CAAmB,EAAA,CAAG,KAAA,EAAO,KAAK,MAAM,CAAA;AAC3D,UAAA,IAAI,UAAA,KAAe,GAAG,KAAA,EAAO;AAC3B,YAAA,EAAA,CAAG,KAAA,GAAQ,UAAA;AACX,YAAA,kBAAA,EAAmB;AAAA,UACrB;AAAA,QACF;AACA,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,IAAA,KAAS,MAAA,IAAU,IAAA,CAAK,MAAA,IAAU,QAAQ,OAAA,EAAS;AACrD,QAAA,KAAA,CAAM,cAAA,EAAe;AACrB,QAAA,IAAI,GAAG,KAAA,EAAO;AACZ,UAAA,MAAM,UAAA,GAAa,kBAAA,CAAmB,EAAA,CAAG,KAAA,EAAO,KAAK,MAAM,CAAA;AAC3D,UAAA,IAAI,UAAA,KAAe,GAAG,KAAA,EAAO;AAC3B,YAAA,EAAA,CAAG,KAAA,GAAQ,UAAA;AACX,YAAA,kBAAA,EAAmB;AAAA,UACrB;AAAA,QACF;AACA,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,YAAA,CAAa,KAAK,CAAA,EAAG;AAGzB,MAAA,IAAI,IAAA,KAAS,MAAA,IAAU,IAAA,KAAS,MAAA,EAAQ;AACtC,QAAA,MAAM,GAAA,GAAM,KAAK,MAAA,IAAU,EAAA;AAC3B,QAAA,MAAM,WAAA,uBAAkB,GAAA,EAAY;AACpC,QAAA,KAAA,MAAW,KAAK,GAAA,EAAK;AACnB,UAAA,IAAI,CAAC,UAAA,CAAW,IAAA,CAAK,CAAC,CAAA,EAAG,WAAA,CAAY,IAAI,CAAC,CAAA;AAAA,QAC5C;AAEA,QAAA,IAAI,IAAA,CAAK,IAAA,CAAK,GAAG,CAAA,EAAG;AACpB,QAAA,IAAI,WAAA,CAAY,GAAA,CAAI,GAAG,CAAA,EAAG;AAE1B,QAAA,KAAA,CAAM,cAAA,EAAe;AACrB,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,SAAS,SAAA,EAAW;AACtB,QAAA,IAAI,CAAC,IAAA,CAAK,IAAA,CAAK,GAAG,CAAA,QAAS,cAAA,EAAe;AAC1C,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,IAAA,KAAS,QAAA,IAAY,IAAA,KAAS,UAAA,EAAY;AAC5C,QAAA,IAAI,IAAA,CAAK,IAAA,CAAK,GAAG,CAAA,EAAG;AAEpB,QAAA,IAAI,GAAA,KAAQ,GAAA,IAAO,GAAA,KAAQ,GAAA,EAAK;AAC9B,UAAA,MAAM,IAAI,EAAA,CAAG,KAAA;AACb,UAAA,IAAI,CAAA,CAAE,SAAS,GAAG,CAAA,IAAK,EAAE,QAAA,CAAS,GAAG,CAAA,EAAG,KAAA,CAAM,cAAA,EAAe;AAC7D,UAAA;AAAA,QACF;AAEA,QAAA,KAAA,CAAM,cAAA,EAAe;AAAA,MACvB;AAAA,IACF,CAAA;AAGA,IAAA,2BAAA,EAA4B;AAE5B,IAAA,EAAA,CAAG,gBAAA,CAAiB,SAAS,OAAO,CAAA;AACpC,IAAA,EAAA,CAAG,gBAAA,CAAiB,QAAQ,MAAM,CAAA;AAClC,IAAA,EAAA,CAAG,gBAAA,CAAiB,SAAS,OAAO,CAAA;AACpC,IAAA,EAAA,CAAG,gBAAA,CAAiB,WAAW,SAAS,CAAA;AAExC,IAAA,OAAO,MAAM;AACX,MAAA,EAAA,CAAG,mBAAA,CAAoB,SAAS,OAAO,CAAA;AACvC,MAAA,EAAA,CAAG,mBAAA,CAAoB,QAAQ,MAAM,CAAA;AACrC,MAAA,EAAA,CAAG,mBAAA,CAAoB,SAAS,OAAO,CAAA;AACvC,MAAA,EAAA,CAAG,mBAAA,CAAoB,WAAW,SAAS,CAAA;AAAA,IAC7C,CAAA;AAAA,EACF,CAAA,EAAG,CAAC,IAAA,EAAM,aAAa,CAAC,CAAA;AAC1B;AA2BO,IAAM,SAASF,MAAAA,CAAM,UAAA;AAAA,EAC1B,SAASG,OAAAA,CAAO,KAAA,EAAO,YAAA,EAAc;AACnC,IAAA,MAAM;AAAA,MACJ,IAAA,GAAO,MAAA;AAAA,MACP,WAAA,GAAc,EAAA;AAAA,MACd,YAAA;AAAA,MACA,QAAA,GAAW,KAAA;AAAA,MACX,OAAA,GAAU,KAAA;AAAA,MACV,IAAA;AAAA,MAEA,KAAA;AAAA,MACA,YAAA;AAAA,MACA,aAAA;AAAA,MAEA,OAAA;AAAA,MACA,MAAA;AAAA,MAEA,QAAA;AAAA,MACA,SAAA;AAAA,MAEA,MAAA;AAAA,MACA,OAAA;AAAA,MAEA,QAAA;AAAA,MAEA,GAAG;AAAA,KACL,GAAI,KAAA;AAEJ,IAAA,MAAM,QAAA,GAAWF,OAAgC,IAAI,CAAA;AAGrD,IAAA,MAAM,OAAA,GAAU,CAAC,IAAA,KAAkC;AACjD,MAAA,QAAA,CAAS,OAAA,GAAU,IAAA;AAEnB,MAAA,IAAI,QAAA,EAAU;AACZ,QAAA,QAAA,CAAS,OAAA,GAAU,IAAA;AAAA,MACrB;AAEA,MAAA,IAAI,CAAC,YAAA,EAAc;AACnB,MAAA,IAAI,OAAO,YAAA,KAAiB,UAAA,EAAY,YAAA,CAAa,IAAI,CAAA;AAAA,wBACvC,OAAA,GAAU,IAAA;AAAA,IAC9B,CAAA;AAEA,IAAA,MAAM,eAAe,KAAA,KAAU,MAAA;AAE/B,IAAA,MAAM,CAAC,iBAAA,EAAmB,oBAAoB,CAAA,GAAIG,SAAiB,MAAM;AACvE,MAAA,IAAI,cAAc,OAAO,EAAA;AACzB,MAAA,IAAI,YAAA,KAAiB,UAAa,YAAA,KAAiB,IAAA;AACjD,QAAA,OAAO,OAAO,YAAY,CAAA;AAC5B,MAAA,OAAO,EAAA;AAAA,IACT,CAAC,CAAA;AAED,IAAA,MAAM,YAAA,GAAe,YAAA,GAAgB,KAAA,IAAS,EAAA,GAAM,iBAAA;AAEpD,IAAA,MAAM,QAAA,GAAWC,QAAwB,MAAM;AAC7C,MAAA,IAAI,CAAC,OAAA,EAAS,OAAO,EAAC;AACtB,MAAA,OAAO,MAAM,OAAA,CAAQ,OAAO,CAAA,GAAI,OAAA,GAAU,CAAC,OAAO,CAAA;AAAA,IACpD,CAAA,EAAG,CAAC,OAAO,CAAC,CAAA;AAEZ,IAAA,MAAM,OAAA,GAAUA,QAAwB,MAAM;AAC5C,MAAA,IAAI,CAAC,MAAA,EAAQ,OAAO,EAAC;AACrB,MAAA,OAAO,MAAM,OAAA,CAAQ,MAAM,CAAA,GAAI,MAAA,GAAS,CAAC,MAAM,CAAA;AAAA,IACjD,CAAA,EAAG,CAAC,MAAM,CAAC,CAAA;AAEX,IAAA,YAAA,CAAa,UAAU,IAAI,CAAA;AAE3B,IAAA,MAAM,WAAA,GAAwD,CAAC,CAAA,KAAM;AACnE,MAAA,MAAM,CAAA,GAAI,CAAA,CAAE,aAAA,CAAc,KAAA,IAAS,EAAA;AAEnC,MAAA,IAAI,CAAC,YAAA,EAAc;AACjB,QAAA,oBAAA,CAAqB,CAAC,CAAA;AAAA,MACxB;AAEA,MAAA,aAAA,IAAA,IAAA,GAAA,MAAA,GAAA,aAAA,CAAgB,CAAA,CAAA;AAChB,MAAA,OAAA,IAAA,IAAA,GAAA,MAAA,GAAA,OAAA,CAAU,CAAA,CAAA;AAAA,IACZ,CAAA;AAEA,IAAA,MAAM,eAAA,GAAwD,CAAC,CAAA,KAAM;AAptCzE,MAAA,IAAA,EAAA;AAqtCM,MAAA,IAAI,QAAA,EAAU;AAEd,MAAA,MAAM,SAAS,CAAA,CAAE,MAAA;AACjB,MAAA,IAAI,MAAA,IAAU,MAAA,CAAO,OAAA,CAAQ,eAAe,CAAA,EAAG;AAE/C,MAAA,CAAA,EAAA,GAAA,QAAA,CAAS,YAAT,IAAA,GAAA,MAAA,GAAA,EAAA,CAAkB,KAAA,EAAA;AAAA,IACpB,CAAA;AAEA,IAAA,uBACER,IAAAA,CAAC,SAAA,EAAA,EAAQ,SAAA,EAAsB,SAAS,eAAA,EACrC,QAAA,EAAA;AAAA,MAAA,QAAA,CAAS,GAAA,CAAI,CAAC,CAAA,EAAG,GAAA,qBAChBD,GAAAA,CAAC,WAAA,EAAA,EAA+B,KAAA,EAAO,CAAA,EAAA,EAArB,CAAA,IAAA,EAAO,GAAG,CAAA,CAAc,CAC3C,CAAA;AAAA,sBAEDA,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,GAAA,EAAK,OAAA;AAAA,UACL,cAAA,EAAc,UAAU,MAAA,GAAS,MAAA;AAAA,UACjC,cAAc,YAAA,IAAgB,MAAA;AAAA,UAC9B,QAAA,EAAU,CAAC,CAAC,QAAA;AAAA,UACZ,WAAA;AAAA,UACA,QAAA,EAAU,QAAA;AAAA,UACV,IAAA;AAAA,UACA,KAAA,EAAO,YAAA;AAAA,UACP,OAAA,EAAS,WAAA;AAAA,UACT,MAAA;AAAA,UACC,GAAG;AAAA;AAAA,OACN;AAAA,MAEC,OAAA,CAAQ,GAAA,CAAI,CAAC,CAAA,EAAG,GAAA,qBACfA,GAAAA,CAAC,WAAA,EAAA,EAA+B,KAAA,EAAO,CAAA,EAAA,EAArB,CAAA,IAAA,EAAO,GAAG,EAAc,CAC3C;AAAA,KAAA,EACH,CAAA;AAAA,EAEJ;AACF;AA2BO,SAAS,SAAS,KAAA,EAAsB;AAC7C,EAAA,MAAM;AAAA,IACJ,KAAA,GAAQ,EAAA;AAAA,IACR,WAAA,GAAc,EAAA;AAAA,IACd,YAAA;AAAA,IACA,QAAA,GAAW,KAAA;AAAA,IACX,IAAA,GAAO,MAAA;AAAA,IACP,IAAA;AAAA,IACA,OAAA;AAAA,IACA,MAAA;AAAA,IACA,KAAA;AAAA,IACA,OAAA,GAAU,KAAA;AAAA,IACV,YAAA,GAAe,IAAA;AAAA,IACf,OAAA;AAAA,IACA,MAAA;AAAA,IACA,QAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,uBACEC,IAAAA,CAAC,YAAA,EAAA,EAAY,GAAG,SAAA,EACb,QAAA,EAAA;AAAA,IAAA,KAAA,mBAAQA,IAAAA,CAAC,OAAA,EAAA,EAAM,SAAA,EAAU,mBAAA,EAAqB,QAAA,EAAA;AAAA,MAAA,KAAA;AAAA,MAAM;AAAA,KAAA,EAAE,CAAA,GAAW,IAAA;AAAA,oBAElED,GAAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QACC,WAAA;AAAA,QACA,YAAA;AAAA,QACA,QAAA;AAAA,QACA,IAAA;AAAA,QACA,IAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA;AAAA,QACA,OAAO,KAAA,IAAS,EAAA;AAAA,QAChB,OAAA;AAAA,QACA,OAAA;AAAA,QACA;AAAA;AAAA,KACF;AAAA,IAEC,OAAA,IAAW,+BACVA,GAAAA,CAAC,SAAI,SAAA,EAAU,mBAAA,EAAqB,wBAAa,CAAA,GAC/C,IAAA;AAAA,IAEH;AAAA,GAAA,EACH,CAAA;AAEJ;AC3uCA,SAASU,YAAW,CAAA,EAAmB;AACrC,EAAA,OAAA,CAAQ,CAAA,IAAK,IACV,UAAA,CAAW,GAAA,EAAK,OAAO,CAAA,CACvB,UAAA,CAAW,KAAK,MAAM,CAAA,CACtB,WAAW,GAAA,EAAK,MAAM,EACtB,UAAA,CAAW,GAAA,EAAK,QAAQ,CAAA,CACxB,UAAA,CAAW,KAAK,OAAO,CAAA;AAC5B;AAEA,SAAS,aAAA,CAAc,OAAe,IAAA,EAAsB;AAC1D,EAAA,MAAM,CAAA,GAAA,CAAK,IAAA,IAAQ,EAAA,EAAI,IAAA,EAAK;AAC5B,EAAA,IAAI,CAAC,CAAA,EAAG,OAAOA,WAAAA,CAAW,KAAK,CAAA;AAE/B,EAAA,MAAM,SAAA,GAAYA,YAAW,KAAK,CAAA;AAClC,EAAA,MAAM,QAAA,GAAWA,YAAW,CAAC,CAAA;AAE7B,EAAA,MAAM,MAAM,SAAA,CAAU,WAAA,GAAc,OAAA,CAAQ,QAAA,CAAS,aAAa,CAAA;AAClE,EAAA,IAAI,GAAA,GAAM,GAAG,OAAO,SAAA;AAEpB,EAAA,MAAM,MAAA,GAAS,SAAA,CAAU,KAAA,CAAM,CAAA,EAAG,GAAG,CAAA;AACrC,EAAA,MAAM,MAAM,SAAA,CAAU,KAAA,CAAM,GAAA,EAAK,GAAA,GAAM,SAAS,MAAM,CAAA;AACtD,EAAA,MAAM,KAAA,GAAQ,SAAA,CAAU,KAAA,CAAM,GAAA,GAAM,SAAS,MAAM,CAAA;AAEnD,EAAA,OAAO,CAAA,EAAG,MAAM,CAAA,MAAA,EAAS,GAAG,UAAU,KAAK,CAAA,CAAA;AAC7C;AAEA,SAAS,mBACP,aAAA,EACQ;AACR,EAAA,MAAM,KAAA,GAAA,CAAS,aAAA,IAAiB,aAAA,EAAe,IAAA,EAAK;AACpD,EAAA,MAAM,UAAA,GAAa,KAAA,CAAM,OAAA,CAAQ,MAAA,EAAQ,GAAG,CAAA;AAC5C,EAAA,OAAO,cAAc,UAAU,CAAA,CAAA;AACjC;AAEA,SAAS,SAAA,CAAU,KAAc,IAAA,EAAuB;AACtD,EAAA,MAAM,QAAQ,IAAA,IAAQ,EAAA,EAAI,MAAM,GAAG,CAAA,CAAE,OAAO,OAAO,CAAA;AACnD,EAAA,IAAI,CAAA,GAAa,GAAA;AAEjB,EAAA,KAAA,MAAW,KAAK,IAAA,EAAM;AACpB,IAAA,IAAI,CAAA,KAAM,IAAA,IAAQ,CAAA,KAAM,MAAA,EAAW,OAAO,IAAA;AAC1C,IAAA,IAAI,OAAO,CAAA,KAAM,QAAA,EAAU,OAAO,IAAA;AAClC,IAAA,CAAA,GAAK,EAA8B,CAAC,CAAA;AAAA,EACtC;AACA,EAAA,OAAO,CAAA;AACT;AAUA,SAAS,kBAAA,CACP,GAAA,EACA,UAAA,EACA,WAAA,EACA,mBAAA,EACQ;AACR,EAAA,IAAI,GAAA,KAAQ,MAAM,OAAO,EAAA;AAGzB,EAAA,IAAI,OAAO,WAAA,KAAgB,UAAA,IAAc,mBAAA,EAAqB;AAC5D,IAAA,OAAO,YAAY,GAAG,CAAA;AAAA,EACxB;AAGA,EAAA,IAAI,OAAO,gBAAgB,QAAA,EAAU;AACnC,IAAA,MAAM,CAAA,GAAI,SAAA,CAAU,GAAA,EAAgB,WAAW,CAAA;AAC/C,IAAA,OAAO,MAAM,IAAA,IAAQ,CAAA,KAAM,MAAA,GAAY,MAAA,CAAO,CAAC,CAAA,GAAI,EAAA;AAAA,EACrD;AAGA,EAAA,IAAI,CAAC,mBAAA,IAAuB,GAAA,KAAQ,IAAA,IAAQ,OAAO,QAAQ,QAAA,EAAU;AACnE,IAAA,MAAM,OAAA,GAAU,MAAA,CAAO,OAAA,CAAQ,GAA8B,CAAA;AAC7D,IAAA,IAAI,CAAC,OAAA,CAAQ,MAAA,EAAQ,OAAO,EAAA;AAC5B,IAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,CAAC,CAAA,IAAK,QAAQ,CAAC,CAAA;AAC1C,IAAA,MAAM,aAAa,UAAA,IAAA,IAAA,GAAA,MAAA,GAAA,UAAA,CAAa,CAAA,CAAA;AAChC,IAAA,OAAO,eAAe,IAAA,IAAQ,UAAA,KAAe,MAAA,GACzC,MAAA,CAAO,UAAU,CAAA,GACjB,EAAA;AAAA,EACN;AAGA,EAAA,IAAI,CAAC,mBAAA,KAAwB,GAAA,KAAQ,IAAA,IAAQ,OAAO,QAAQ,QAAA,CAAA,EAAW;AACrE,IAAA,MAAM,SAAA,GAAY,GAAA;AAElB,IAAA,MAAM,KAAA,GAAQ,UAAA,CAAW,IAAA,CAAK,CAAC,GAAA,KAAQ;AACrC,MAAA,IAAI,GAAA,KAAQ,IAAA,IAAQ,OAAO,GAAA,KAAQ,UAAU,OAAO,KAAA;AACpD,MAAA,MAAM,OAAA,GAAU,MAAA,CAAO,OAAA,CAAQ,GAA8B,CAAA;AAC7D,MAAA,IAAI,CAAC,OAAA,CAAQ,MAAA,EAAQ,OAAO,KAAA;AAC5B,MAAA,MAAM,UAAA,GAAa,QAAQ,CAAC,CAAA;AAC5B,MAAA,OAAA,CAAO,yCAAa,CAAA,CAAA,MAAO,SAAA;AAAA,IAC7B,CAAC,CAAA;AAED,IAAA,IAAI,KAAA,EAAO;AACT,MAAA,MAAM,OAAA,GAAU,MAAA,CAAO,OAAA,CAAQ,KAAgC,CAAA;AAC/D,MAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,CAAC,CAAA,IAAK,QAAQ,CAAC,CAAA;AAC1C,MAAA,MAAM,aAAa,UAAA,IAAA,IAAA,GAAA,MAAA,GAAA,UAAA,CAAa,CAAA,CAAA;AAChC,MAAA,OAAO,UAAA,KAAe,QAAQ,UAAA,KAAe,MAAA,GACzC,OAAO,UAAU,CAAA,GACjB,OAAO,SAAS,CAAA;AAAA,IACtB;AAAA,EACF;AAGA,EAAA,IAAI,OAAO,gBAAgB,UAAA,EAAY;AACrC,IAAA,OAAO,YAAY,GAAG,CAAA;AAAA,EACxB;AAEA,EAAA,OAAO,OAAO,GAAc,CAAA;AAC9B;AAEA,SAAS,eAAA,CACP,MAAA,EACA,UAAA,EACA,UAAA,EACA,eAAA,EACK;AACL,EAAA,IAAI,CAAC,MAAA,EAAQ,OAAO,EAAC;AACrB,EAAA,MAAM,IAAA,GAAA,CAAQ,UAAA,IAAc,EAAA,EAAI,WAAA,EAAY;AAC5C,EAAA,IAAI,CAAC,IAAA,EAAM,OAAO,CAAC,GAAG,UAAU,CAAA;AAChC,EAAA,OAAO,WAAW,MAAA,CAAO,CAAC,QAAQ,eAAA,CAAgB,GAAA,EAAK,IAAI,CAAC,CAAA;AAC9D;AAEO,IAAM,OAAA,GAAU,UAAA,CAAW,SAAS,YAAA,CACzC,OACA,GAAA,EACA;AACA,EAAA,MAAM;AAAA,IACJ,WAAA,GAAc,EAAA;AAAA,IACd,QAAA,GAAW,KAAA;AAAA,IACX,OAAA,GAAU,KAAA;AAAA,IACV,WAAA,GAAc,GAAA;AAAA,IACd,aAAA,GAAgB,aAAA;AAAA,IAEhB,OAAA,GAAU,IAAA;AAAA,IACV,OAAA,GAAU,KAAA;AAAA,IAEV,WAAA;AAAA,IACA,eAAA,GAAkB,CAAC,GAAA,EAAQ,IAAA,KACzB,IAAA,CAAK,SAAA,CAAU,GAAG,CAAA,CAAE,WAAA,EAAY,CAAE,QAAA,CAAS,IAAI,CAAA;AAAA,IAEjD,KAAA,GAAQ,IAAA;AAAA,IACR,QAAA;AAAA,IACA,SAAA;AAAA,IACA,gBAAA;AAAA,IAEA,YAAA;AAAA,IACA,eAAA,GAAkB,IAAA;AAAA,IAElB,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,OAAA,GAAUL,OAA2B,IAAI,CAAA;AAC/C,EAAA,MAAM,UAAA,GAAaA,OAAgC,IAAI,CAAA;AACvD,EAAA,MAAM,cAAA,GAAiBA,OAA8B,IAAI,CAAA;AAEzD,EAAA,MAAM,CAAC,YAAY,aAAa,CAAA,GAAIG,SAAc,MAAM,OAAA,IAAW,EAAE,CAAA;AACrE,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAIA,SAAS,KAAK,CAAA;AAC1C,EAAA,MAAM,CAAC,cAAA,EAAgB,iBAAiB,CAAA,GAAIA,SAAS,EAAE,CAAA;AAEvD,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAIA,QAAAA,CAAmB,SAAS,IAAI,CAAA;AACpE,EAAA,MAAM,CAAC,iBAAA,EAAmB,oBAAoB,CAAA,GAAIA,SAAmB,IAAI,CAAA;AAEzE,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAIA,SAAS,EAAE,CAAA;AACjD,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAIA,SAAS,EAAE,CAAA;AAG/C,EAAA,MAAM,CAAC,aAAA,EAAe,gBAAgB,CAAA,GAAIA,SAAS,KAAK,CAAA;AACxD,EAAA,MAAM,SAAA,GAAY,CAAC,CAAC,OAAA,IAAW,aAAA;AAG/B,EAAA,MAAM,mBAAA,GAAsBC,OAAAA;AAAA,IAC1B,MAAM,WAAA,KAAgB,MAAA,IAAa,WAAA,KAAgB,IAAA;AAAA,IACnD,CAAC,WAAW;AAAA,GACd;AAGA,EAAAN,UAAU,MAAM;AACd,IAAA,aAAA,CAAc,OAAA,IAAW,EAAE,CAAA;AAAA,EAC7B,CAAA,EAAG,CAAC,OAAO,CAAC,CAAA;AAGZ,EAAAA,UAAU,MAAM;AACd,IAAA,MAAM,IAAI,KAAA,IAAS,IAAA;AACnB,IAAA,aAAA,CAAc,CAAC,CAAA;AAGf,IAAA,IAAI,CAAC,WAAW,MAAA,EAAQ;AACtB,MAAA,oBAAA,CAAqB,CAAC,CAAA;AACtB,MAAA,cAAA;AAAA,QACE,kBAAA,CAAmB,CAAA,EAAG,UAAA,EAAY,WAAA,EAAa,mBAAmB;AAAA,OACpE;AACA,MAAA;AAAA,IACF;AAAA,EAGF,GAAG,CAAC,KAAA,EAAO,WAAW,MAAA,EAAQ,WAAA,EAAa,mBAAmB,CAAC,CAAA;AAG/D,EAAAA,UAAU,MAAM;AACd,IAAA,MAAM,UAAA,GAAa,UAAA;AAEnB,IAAA,MAAM,UAAA,GACJ,UAAA,KAAe,IAAA,IAAQ,UAAA,KAAe,SAClC,UAAA,GACA,iBAAA;AAEN,IAAA,IAAI,CAAC,WAAW,MAAA,EAAQ;AACtB,MAAA,cAAA;AAAA,QACE,kBAAA;AAAA,UACE,UAAA,IAAc,IAAA;AAAA,UACd,UAAA;AAAA,UACA,WAAA;AAAA,UACA;AAAA;AACF,OACF;AACA,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,UAAA,KAAe,IAAA,IAAQ,UAAA,KAAe,MAAA,EAAW;AACnD,MAAA,cAAA,CAAe,EAAE,CAAA;AACjB,MAAA,oBAAA,CAAqB,IAAI,CAAA;AAAA,IAC3B,CAAA,MAAO;AACL,MAAA,MAAM,QAAQ,UAAA,CAAW,IAAA,CAAK,CAACQ,IAAAA,KAAQA,IAAAA,KAAQ,UAAU,CAAA,IAAK,IAAA;AAC9D,MAAA,MAAM,MAAM,KAAA,IAAS,UAAA;AAErB,MAAA,IAAI,KAAA,gBAAqB,KAAK,CAAA;AAE9B,MAAA,cAAA;AAAA,QACE,kBAAA,CAAmB,GAAA,EAAK,UAAA,EAAY,WAAA,EAAa,mBAAmB;AAAA,OACtE;AACA,MAAA,oBAAA,CAAqB,IAAI,CAAA;AAAA,IAC3B;AAEA,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,aAAA,CAAc,EAAE,CAAA;AAChB,MAAA,iBAAA,CAAkB,EAAE,CAAA;AAAA,IACtB;AAAA,EACF,CAAA,EAAG;AAAA,IACD,UAAA;AAAA,IACA,WAAA;AAAA,IACA,mBAAA;AAAA,IACA,UAAA;AAAA,IACA,iBAAA;AAAA,IACA;AAAA,GACD,CAAA;AAED,EAAA,MAAM,eAAA,GAAkBF,QAAQ,MAAM;AACpC,IAAA,OAAO,eAAA,CAAgB,MAAA,EAAQ,UAAA,EAAY,UAAA,EAAY,eAAe,CAAA;AAAA,EACxE,GAAG,CAAC,MAAA,EAAQ,UAAA,EAAY,UAAA,EAAY,eAAe,CAAC,CAAA;AAEpD,EAAA,MAAM,UAAA,GAAa,gBAAgB,MAAA,GAAS,CAAA;AAC5C,EAAA,MAAM,eAAe,MAAA,IAAU,CAAC,CAAC,UAAA,IAAc,gBAAgB,MAAA,KAAW,CAAA;AAC1E,EAAA,MAAM,iBAAiB,MAAA,IAAU,UAAA;AAEjC,EAAA,MAAM,4BAA4B,MAAM;AACtC,IAAA,UAAA,CAAW,MAAM;AACf,MAAA,IAAI,CAAC,MAAA,EAAQ;AACb,MAAA,MAAM,OAAO,cAAA,CAAe,OAAA;AAC5B,MAAA,IAAI,CAAC,IAAA,EAAM;AACX,MAAA,IAAI,iBAAiB,CAAA,EAAG;AAExB,MAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,gBAAA,CAAiB,WAAW,CAAA;AAC/C,MAAA,MAAM,EAAA,GAAK,MAAM,cAAc,CAAA;AAC/B,MAAA,EAAA,IAAA,IAAA,GAAA,MAAA,GAAA,EAAA,CAAI,cAAA,CAAe,EAAE,KAAA,EAAO,SAAA,EAAU,CAAA;AAAA,IACxC,CAAC,CAAA;AAAA,EACH,CAAA;AAEA,EAAA,MAAM,cAAA,GAAiB,CAAC,GAAA,KAAgB;AACtC,IAAA,IAAI,MAAM,CAAA,IAAK,GAAA,IAAO,eAAA,CAAgB,MAAA,oBAA0B,EAAE,CAAA;AAAA,2BAC3C,GAAG,CAAA;AAAA,EAC5B,CAAA;AAEA,EAAA,MAAM,QAAQ,MAAM;AAvWtB,IAAA,IAAA,EAAA;AAwWI,IAAA,IAAI,QAAA,EAAU;AACd,IAAA,CAAA,EAAA,GAAA,UAAA,CAAW,YAAX,IAAA,GAAA,MAAA,GAAA,EAAA,CAAoB,KAAA,EAAA;AAAA,EACtB,CAAA;AAEA,EAAA,MAAM,eAAe,MAAM;AACzB,IAAA,IAAI,QAAA,EAAU;AACd,IAAA,IAAI,MAAA,EAAQ;AAEZ,IAAA,SAAA,CAAU,IAAI,CAAA;AAGd,IAAA,UAAA,CAAW,MAAM;AACf,MAAA,MAAM,IAAA,GAAO,eAAA;AAAA,QACX,IAAA;AAAA,QACA,UAAA;AAAA,QACA,UAAA;AAAA,QACA;AAAA,OACF;AACA,MAAA,MAAM,MAAM,IAAA,CAAK,MAAA;AAEjB,MAAA,IAAI,QAAQ,CAAA,EAAG;AACb,QAAA,iBAAA,CAAkB,EAAE,CAAA;AACpB,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,eAAe,IAAA,EAAM;AACvB,QAAA,MAAM,GAAA,GAAM,IAAA,CAAK,OAAA,CAAQ,UAAe,CAAA;AACxC,QAAA,IAAI,OAAO,CAAA,EAAG;AACZ,UAAA,iBAAA,CAAkB,GAAG,CAAA;AACrB,UAAA,yBAAA,EAA0B;AAC1B,UAAA;AAAA,QACF;AAAA,MACF;AAEA,MAAA,iBAAA,CAAkB,CAAC,CAAA;AACnB,MAAA,yBAAA,EAA0B;AAAA,IAC5B,GAAG,CAAC,CAAA;AAAA,EACN,CAAA;AAEA,EAAA,MAAM,gBAAgB,MAAM;AAC1B,IAAA,SAAA,CAAU,KAAK,CAAA;AACf,IAAA,iBAAA,CAAkB,EAAE,CAAA;AAAA,EACtB,CAAA;AAOA,EAAA,MAAM,cAAA,GAAiB,CAAC,EAAA,KAA0B;AAKhD,IAAA,IAAI,QAAA,EAAU;AAEd,IAAA,MAAM,WAAA,GAAc,eAAA;AAAA,MAClB,MAAA;AAAA,MACA,UAAA;AAAA,MACA,UAAA;AAAA,MACA;AAAA,KACF;AACA,IAAA,MAAM,eAAe,MAAA,IAAU,CAAC,CAAC,UAAA,IAAc,YAAY,MAAA,KAAW,CAAA;AAEtE,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,YAAA,EAAa;AAAA,IACf,WAAW,YAAA,EAAc;AACvB,MAAA,cAAA,CAAe,EAAE,CAAA;AACjB,MAAA,aAAA,CAAc,EAAE,CAAA;AAAA,IAElB,CAAA,MAAO;AACL,MAAA,MAAM,QAAA,GAAW,kBAAA;AAAA,QACf,UAAA;AAAA,QACA,UAAA;AAAA,QACA,WAAA;AAAA,QACA;AAAA,OACF;AACA,MAAA,cAAA,CAAe,QAAQ,CAAA;AACvB,MAAA,aAAA,CAAc,EAAE,CAAA;AAChB,MAAA,aAAA,EAAc;AAAA,IAChB;AAEA,IAAA,KAAA,EAAM;AAAA,EACR,CAAA;AAEA,EAAA,MAAM,cAAA,GAAiB,CAAC,EAAA,KAA0B;AAMhD,IAAA,aAAA,CAAc,IAAI,CAAA;AAClB,IAAA,cAAA,CAAe,EAAE,CAAA;AACjB,IAAA,aAAA,CAAc,EAAE,CAAA;AAEhB,IAAA,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAW,IAAA,CAAA;AAEX,IAAA,MAAM,OAAA,GAA4B,EAAE,KAAA,EAAO,IAAA,EAAM,OAAO,EAAA,EAAG;AAC3D,IAAA,SAAA,IAAA,IAAA,GAAA,MAAA,GAAA,SAAA,CAAY,OAAA,CAAA;AACZ,IAAA,gBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,gBAAA,CAAmB,OAAA,CAAA;AAAA,EACrB,CAAA;AAEA,EAAA,MAAM,SAAA,GAAY,CAAC,GAAA,KAAW;AAC5B,IAAA,MAAM,KAAA,GAAQ,kBAAA;AAAA,MACZ,GAAA;AAAA,MACA,UAAA;AAAA,MACA,WAAA;AAAA,MACA;AAAA,KACF;AAEA,IAAA,aAAA,CAAc,GAAG,CAAA;AACjB,IAAA,cAAA,CAAe,KAAK,CAAA;AACpB,IAAA,aAAA,CAAc,EAAE,CAAA;AAEhB,IAAA,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAW,GAAA,CAAA;AAEX,IAAA,MAAM,OAAA,GAA4B,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAM;AACtD,IAAA,SAAA,IAAA,IAAA,GAAA,MAAA,GAAA,SAAA,CAAY,OAAA,CAAA;AACZ,IAAA,gBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,gBAAA,CAAmB,OAAA,CAAA;AAEnB,IAAA,aAAA,EAAc;AAAA,EAChB,CAAA;AAGA,EAAA,MAAM,gBAAA,GAAmBJ,OAAsB,IAAI,CAAA;AAEnD,EAAA,MAAM,WAAA,GAAc,CAAC,GAAA,KAAgB;AACnC,IAAA,gBAAA,CAAiB,IAAI,CAAA;AAErB,IAAA,IAAI,iBAAiB,OAAA,EAAS;AAC5B,MAAA,MAAA,CAAO,YAAA,CAAa,iBAAiB,OAAO,CAAA;AAAA,IAC9C;AAEA,IAAA,gBAAA,CAAiB,UAAU,MAAA,CAAO,UAAA;AAAA,MAChC,MAAM;AACJ,QAAA,cAAA,CAAe,GAAG,CAAA;AAClB,QAAA,aAAA,CAAc,GAAG,CAAA;AACjB,QAAA,gBAAA,CAAiB,KAAK,CAAA;AAEtB,QAAA,IAAI,CAAC,QAAQ,YAAA,EAAa;AAAA,MAC5B,CAAA;AAAA,MACA,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,WAAW;AAAA,KACzB;AAAA,EACF,CAAA;AAGA,EAAAF,UAAU,MAAM;AACd,IAAA,OAAO,MAAM;AACX,MAAA,IAAI,iBAAiB,OAAA,EAAS;AAC5B,QAAA,MAAA,CAAO,YAAA,CAAa,iBAAiB,OAAO,CAAA;AAAA,MAC9C;AAAA,IACF,CAAA;AAAA,EACF,CAAA,EAAG,EAAE,CAAA;AAGL,EAAA,MAAM,aAAA,GAAgB,CAAC,KAAA,KAAkB;AACvC,IAAA,MAAM,MAAM,eAAA,CAAgB,MAAA;AAC5B,IAAA,IAAI,CAAC,GAAA,EAAK;AACR,MAAA,iBAAA,CAAkB,EAAE,CAAA;AACpB,MAAA;AAAA,IACF;AAEA,IAAA,iBAAA,CAAkB,CAAC,IAAA,KAAS;AAC1B,MAAA,IAAI,KAAA,GAAQ,IAAA;AACZ,MAAA,IAAI,KAAA,KAAU,IAAI,KAAA,GAAQ,CAAA;AAAA,WACrB,KAAA,GAAA,CAAS,KAAA,GAAQ,KAAA,GAAQ,GAAA,IAAO,GAAA;AAErC,MAAA,UAAA,CAAW,yBAAyB,CAAA;AACpC,MAAA,OAAO,KAAA;AAAA,IACT,CAAC,CAAA;AAAA,EACH,CAAA;AAEA,EAAA,MAAM,SAAA,GAAY,CAAC,KAAA,KAA+B;AAChD,IAAA,MAAM,UAAA,GAAa,eAAA;AAEnB,IAAA,QAAQ,MAAM,GAAA;AAAK,MACjB,KAAK,WAAA;AACH,QAAA,KAAA,CAAM,cAAA,EAAe;AACrB,QAAA,IAAI,CAAC,QAAQ,YAAA,EAAa;AAAA,aAAA,IACjB,UAAA,CAAW,MAAA,EAAQ,aAAA,CAAc,CAAC,CAAA;AAC3C,QAAA;AAAA,MAEF,KAAK,SAAA;AACH,QAAA,KAAA,CAAM,cAAA,EAAe;AACrB,QAAA,IAAI,CAAC,QAAQ,YAAA,EAAa;AAAA,aAAA,IACjB,UAAA,CAAW,MAAA,EAAQ,aAAA,CAAc,EAAE,CAAA;AAC5C,QAAA;AAAA,MAEF,KAAK,OAAA;AACH,QAAA,KAAA,CAAM,cAAA,EAAe;AACrB,QAAA,IAAI,CAAC,MAAA,EAAQ;AACX,UAAA,YAAA,EAAa;AAAA,QACf,CAAA,MAAA,IAAW,cAAA,IAAkB,CAAA,IAAK,cAAA,GAAiB,WAAW,MAAA,EAAQ;AACpE,UAAA,SAAA,CAAU,UAAA,CAAW,cAAc,CAAC,CAAA;AAAA,QACtC;AACA,QAAA;AAAA,MAEF,KAAK,QAAA;AACH,QAAA,IAAI,MAAA,EAAQ;AACV,UAAA,KAAA,CAAM,cAAA,EAAe;AACrB,UAAA,aAAA,EAAc;AAAA,QAChB;AACA,QAAA;AAAA;AACJ,EACF,CAAA;AAGA,EAAAA,UAAU,MAAM;AACd,IAAA,IAAI,CAAC,MAAA,EAAQ;AAEb,IAAA,MAAM,UAAA,GAAa,CAAC,EAAA,KAAmB;AACrC,MAAA,MAAM,SAAS,EAAA,CAAG,MAAA;AAClB,MAAA,MAAM,OAAO,OAAA,CAAQ,OAAA;AACrB,MAAA,IAAI,CAAC,IAAA,EAAM;AAEX,MAAA,IAAI,MAAA,IAAU,CAAC,IAAA,CAAK,QAAA,CAAS,MAAM,CAAA,EAAG;AACpC,QAAA,aAAA,EAAc;AAAA,MAChB;AAAA,IACF,CAAA;AAEA,IAAA,QAAA,CAAS,gBAAA,CAAiB,OAAA,EAAS,UAAA,EAAY,IAAI,CAAA;AACnD,IAAA,OAAO,MAAM,QAAA,CAAS,mBAAA,CAAoB,OAAA,EAAS,YAAY,IAAI,CAAA;AAAA,EACrE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAA;AAEX,EAAA,mBAAA,CAAoB,KAAK,OAAO;AAAA,IAC9B,KAAA;AAAA,IACA,IAAA,EAAM,YAAA;AAAA,IACN,KAAA,EAAO,aAAA;AAAA,IACP,MAAA,EAAQ,MAAM,cAAA,EAAe;AAAA,IAC7B,KAAA,EAAO,MAAM,cAAA;AAAe,GAC9B,CAAE,CAAA;AAEF,EAAA,MAAM,WAAA,GAAsDM,QAAQ,MAAM;AACxE,IAAA,IAAI,SAAA,EAAW;AACb,MAAA,OAAO,EAAE,IAAA,EAAM,SAAA,EAAW,OAAA,EAAS,IAAA,EAAK;AAAA,IAC1C;AAEA,IAAA,OAAO;AAAA,MACL,IAAA,EAAM,QAAA;AAAA,MACN,IAAA,EAAM,SAAS,UAAA,GAAa,YAAA;AAAA,MAC5B,OAAA,EAAS,MAAM,cAAA,EAAe;AAAA,MAC9B,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS;AAAA,KACX;AAAA,EACF,CAAA,EAAG,CAAC,SAAA,EAAW,MAAM,CAAC,CAAA;AAEtB,EAAA,uBACER,IAAAA;AAAA,IAAC,UAAA;AAAA,IAAA;AAAA,MACE,GAAG,SAAA;AAAA,MACJ,GAAA,EAAK,CAAC,EAAA,KAAO;AACX,QAAA,OAAA,CAAQ,OAAA,GAAU,EAAA;AAAA,MACpB,CAAA;AAAA,MACA,SAAA;AAAA,MACA,QAAA,EAAA;AAAA,wBAAAD,GAAAA;AAAA,UAAC,MAAA;AAAA,UAAA;AAAA,YACC,MAAA,EAAQ,WAAA;AAAA,YACR,SAAS,OAAA,IAAW,YAAA;AAAA,YACpB,WAAA;AAAA,YACA,QAAA,EAAU,QAAA;AAAA,YACV,KAAA,EAAO,WAAA;AAAA,YACP,QAAA,EAAU,UAAA;AAAA,YACV,SAAS,CAAC,CAAA,KAAM,WAAA,CAAa,CAAA,CAAE,OAA4B,KAAK;AAAA;AAAA,SAClE;AAAA,QAEC,iCACCA,GAAAA;AAAA,UAAC,KAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAW;AAAA,cACT,WAAA;AAAA,cACA,QAAA;AAAA,cACA,UAAA;AAAA,cACA,mBAAmB,aAAa;AAAA,aAClC,CAAE,KAAK,GAAG,CAAA;AAAA,YACV,GAAA,EAAK,cAAA;AAAA,YACJ,QAAA,EAAA,eAAA,CAAgB,GAAA,CAAI,CAAC,GAAA,EAAK,GAAA,KAAQ;AACjC,cAAA,MAAM,aAAa,UAAA,KAAe,GAAA;AAClC,cAAA,MAAM,KAAA,GAAQ,kBAAA;AAAA,gBACZ,GAAA;AAAA,gBACA,UAAA;AAAA,gBACA,WAAA;AAAA,gBACA;AAAA,eACF;AAEA,cAAA,uBACEC,IAAAA;AAAA,gBAAC,KAAA;AAAA,gBAAA;AAAA,kBAEC,SAAA,EAAW;AAAA,oBACT,UAAA;AAAA,oBACA,cAAA,KAAmB,MAAM,QAAA,GAAW,IAAA;AAAA,oBACpC,aAAa,UAAA,GAAa;AAAA,mBAC5B,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,kBACX,YAAA,EAAc,MAAM,cAAA,CAAe,GAAG,CAAA;AAAA,kBACtC,WAAA,EAAa,CAAC,CAAA,KAAM;AAElB,oBAAA,CAAA,CAAE,cAAA,EAAe;AACjB,oBAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,oBAAA,SAAA,CAAU,GAAG,CAAA;AAAA,kBACf,CAAA;AAAA,kBACC,QAAA,EAAA;AAAA,oBAAA,YAAA,mBACCD,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kBAAkB,QAAA,EAAA,YAAA,CAAa,GAAG,CAAA,EAAE,CAAA,mBAEnDA,GAAAA;AAAA,sBAAC,KAAA;AAAA,sBAAA;AAAA,wBACC,SAAA,EAAU,gBAAA;AAAA,wBACV,uBAAA,EAAyB;AAAA,0BACvB,QAAQ,eAAA,GACJ,aAAA,CAAc,OAAO,UAAU,CAAA,GAC/BU,YAAW,KAAK;AAAA;AACtB;AAAA,qBACF;AAAA,oBAGD,UAAA,mBACCV,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,gBAAA,EACd,QAAA,kBAAAA,GAAAA,CAAC,KAAA,EAAA,EAAM,IAAA,EAAK,OAAA,EAAQ,CAAA,EACtB,CAAA,GACE;AAAA;AAAA,iBAAA;AAAA,gBAAA,CAhCE,GAAA,IAAA,IAAA,GAAA,MAAA,GAAA,GAAA,CAAa,EAAA,KAAM,CAAA,EAAG,GAAG,IAAI,KAAK,CAAA;AAAA,eAiC1C;AAAA,YAEJ,CAAC;AAAA;AAAA,SACH,GACE;AAAA;AAAA;AAAA,GACN;AAEJ,CAAC;AAID,SAAS,mBAAA,CACP,KAAA,EACA,QAAA,EACA,YAAA,EACe;AACf,EAAA,MAAM,MAAM,YAAA,IAAA,IAAA,GAAA,MAAA,GAAA,YAAA,CAAe,QAAA,CAAA;AAC3B,EAAA,IAAI,CAAC,KAAK,OAAO,IAAA;AACjB,EAAA,OAAO,GAAA,CAAI,UAAA,CAAW,SAAA,EAAW,KAAqB,CAAA;AACxD;AAmCO,SAAS,UAAmB,KAAA,EAA0B;AAC3D,EAAA,MAAM;AAAA,IACJ,KAAA,GAAQ,EAAA;AAAA,IACR,WAAA,GAAc,EAAA;AAAA,IAEd,OAAA,GAAU,IAAA;AAAA,IAEV,WAAA;AAAA,IACA,WAAA,GAAc,GAAA;AAAA,IACd,eAAA;AAAA,IAEA,aAAA,GAAgB,aAAA;AAAA,IAEhB,KAAA,GAAQ,IAAA;AAAA,IACR,QAAA;AAAA,IACA,SAAA;AAAA,IACA,gBAAA;AAAA,IAEA,YAAA;AAAA,IAEA,QAAA,GAAW,KAAA;AAAA,IAEX,QAAA,GAAW,KAAA;AAAA,IACX,OAAA,GAAU,KAAA;AAAA,IACV,YAAA;AAAA,IACA,QAAA,GAAW,UAAA;AAAA,IAEX,QAAA;AAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,iBAAA,GAAoBS,QAAQ,MAAM;AACtC,IAAA,IAAI,CAAC,SAAS,OAAO,IAAA;AACrB,IAAA,OACE,mBAAA,CAAoB,SAAS,YAAA,EAAc,QAAA,EAAU,YAAY,CAAA,IACjE,CAAA,EAAG,SAAS,YAAY,CAAA,WAAA,CAAA;AAAA,EAE5B,GAAG,CAAC,OAAA,EAAS,KAAA,EAAO,QAAA,EAAU,YAAY,CAAC,CAAA;AAE3C,EAAA,uBACER,IAAAA,CAAC,aAAA,EAAA,EAAa,GAAG,SAAA,EACd,QAAA,EAAA;AAAA,IAAA,KAAA,mBACCA,IAAAA,CAAC,OAAA,EAAA,EAAM,SAAA,EAAU,oBAAA,EACd,QAAA,EAAA;AAAA,MAAA,KAAA;AAAA,MAAM,IAAA;AAAA,MAAG,GAAA;AAAA,MACT,2BAAWD,GAAAA,CAAC,UAAK,SAAA,EAAU,uBAAA,EAAwB,eAAC,CAAA,GAAU;AAAA,KAAA,EACjE,CAAA,GACE,IAAA;AAAA,oBAEJA,GAAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,QAAA;AAAA,QACA,WAAA;AAAA,QACA,WAAA;AAAA,QACA,eAAA;AAAA,QACA,OAAA;AAAA,QACA,OAAA;AAAA,QACA,aAAA;AAAA,QACA,WAAA;AAAA,QACA,KAAA;AAAA,QACA,QAAA;AAAA,QACA,SAAA;AAAA,QACA,gBAAA;AAAA,QACA;AAAA;AAAA,KACF;AAAA,IAEC,OAAA,IAAW,oCACVA,GAAAA,CAAC,SAAI,SAAA,EAAU,oBAAA,EAAsB,6BAAkB,CAAA,GACrD;AAAA,GAAA,EACN,CAAA;AAEJ;AC7tBA,SAAS,WAAW,CAAA,EAAe;AACjC,EAAA,OAAO,IAAI,IAAA,CAAK,CAAA,CAAE,WAAA,EAAY,EAAG,EAAE,QAAA,EAAS,EAAG,CAAA,CAAE,OAAA,EAAS,CAAA;AAC5D;AAEA,SAAS,UAAA,CAAW,GAAS,CAAA,EAAkB;AAC7C,EAAA,OACE,EAAE,WAAA,EAAY,KAAM,CAAA,CAAE,WAAA,MACtB,CAAA,CAAE,QAAA,EAAS,KAAM,CAAA,CAAE,UAAS,IAC5B,CAAA,CAAE,OAAA,EAAQ,KAAM,EAAE,OAAA,EAAQ;AAE9B;AAEA,SAAS,kBAAA,CAAmB,MAAY,GAAA,EAAqB;AAC3D,EAAA,MAAM,IAAA,GAAO,OAAO,IAAA,CAAK,WAAA,EAAa,CAAA,CAAE,QAAA,CAAS,GAAG,GAAG,CAAA;AACvD,EAAA,MAAM,EAAA,GAAK,OAAO,IAAA,CAAK,QAAA,KAAa,CAAC,CAAA,CAAE,QAAA,CAAS,CAAA,EAAG,GAAG,CAAA;AACtD,EAAA,MAAM,EAAA,GAAK,OAAO,IAAA,CAAK,OAAA,EAAS,CAAA,CAAE,QAAA,CAAS,GAAG,GAAG,CAAA;AAEjD,EAAA,OAAA,CAAQ,GAAA,IAAO,YAAA,EACZ,OAAA,CAAQ,OAAA,EAAS,IAAI,CAAA,CACrB,OAAA,CAAQ,KAAA,EAAO,EAAE,CAAA,CACjB,OAAA,CAAQ,KAAA,EAAO,EAAE,CAAA;AACtB;AAMA,SAAS,cAAA,CAAe,OAAe,GAAA,EAA0B;AAC/D,EAAA,IAAI,CAAC,OAAO,OAAO,IAAA;AAEnB,EAAA,MAAM,SAAS,GAAA,IAAO,YAAA;AAEtB,EAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,KAAA,CAAM,MAAM,CAAA;AAChC,EAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,MAAA,GAAS,GAAG,OAAO,IAAA;AAEvC,EAAA,MAAM,MAAA,GAAS,OAAO,KAAA,CAAM,eAAe,KAAK,CAAC,MAAA,EAAQ,MAAM,IAAI,CAAA;AAEnE,EAAA,IAAI,IAAA;AACJ,EAAA,IAAI,KAAA;AACJ,EAAA,IAAI,GAAA;AAEJ,EAAA,MAAA,CAAO,OAAA,CAAQ,CAAC,CAAA,EAAG,GAAA,KAAQ;AACzB,IAAA,MAAM,CAAA,GAAI,MAAM,GAAG,CAAA;AACnB,IAAA,IAAI,CAAC,CAAA,EAAG;AACR,IAAA,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA;AAElB,IAAA,IAAI,CAAA,KAAM,QAAQ,IAAA,GAAO,CAAA;AAAA,SAAA,IAChB,CAAA,KAAM,MAAM,KAAA,GAAQ,CAAA;AAAA,SAAA,IACpB,CAAA,KAAM,MAAM,GAAA,GAAM,CAAA;AAAA,EAC7B,CAAC,CAAA;AAGD,EAAA,IAAI,CAAC,IAAA,IAAQ,CAAC,KAAA,IAAS,CAAC,KAAK,OAAO,IAAA;AAEpC,EAAA,MAAM,OAAO,IAAI,IAAA,CAAK,IAAA,EAAM,KAAA,GAAQ,GAAG,GAAG,CAAA;AAC1C,EAAA,IACE,IAAA,CAAK,WAAA,EAAY,KAAM,IAAA,IACvB,IAAA,CAAK,QAAA,EAAS,KAAM,KAAA,GAAQ,CAAA,IAC5B,IAAA,CAAK,OAAA,EAAQ,KAAM,GAAA,EACnB;AACA,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,OAAO,WAAW,IAAI,CAAA;AACxB;AAEA,SAASY,oBACP,aAAA,EACQ;AACR,EAAA,MAAM,KAAA,GAAA,CAAS,aAAA,IAAiB,aAAA,EAAe,IAAA,EAAK;AACpD,EAAA,MAAM,UAAA,GAAa,KAAA,CAAM,OAAA,CAAQ,MAAA,EAAQ,GAAG,CAAA;AAC5C,EAAA,OAAO,uBAAuB,UAAU,CAAA,CAAA;AAC1C;AAMA,IAAM,MAAA,GAAyB;AAAA,EAC7B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,SAAA,EAAU;AAAA,EAC7B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,UAAA,EAAW;AAAA,EAC9B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,OAAA,EAAQ;AAAA,EAC3B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,OAAA,EAAQ;AAAA,EAC3B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,KAAA,EAAM;AAAA,EACzB,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,MAAA,EAAO;AAAA,EAC1B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,MAAA,EAAO;AAAA,EAC1B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,QAAA,EAAS;AAAA,EAC5B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,WAAA,EAAY;AAAA,EAC/B,EAAE,KAAA,EAAO,CAAA,EAAG,KAAA,EAAO,SAAA,EAAU;AAAA,EAC7B,EAAE,KAAA,EAAO,EAAA,EAAI,KAAA,EAAO,UAAA,EAAW;AAAA,EAC/B,EAAE,KAAA,EAAO,EAAA,EAAI,KAAA,EAAO,UAAA;AACtB,CAAA;AAEA,IAAM,QAAA,GAAW,CAAC,KAAA,EAAO,KAAA,EAAO,OAAO,KAAA,EAAO,KAAA,EAAO,OAAO,KAAK,CAAA;AAM1D,SAAS,YAAY,KAAA,EAAyB;AACnD,EAAA,MAAM;AAAA,IACJ,WAAA,GAAc,EAAA;AAAA,IACd,QAAA,GAAW,KAAA;AAAA,IACX,OAAA,GAAU,KAAA;AAAA,IACV,MAAA,GAAS,YAAA;AAAA,IACT,aAAA,GAAgB,aAAA;AAAA,IAChB,KAAA,GAAQ,IAAA;AAAA,IACR,QAAA;AAAA,IACA,YAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,OAAA,GAAUP,OAA2B,IAAI,CAAA;AAC/C,EAAA,MAAM,UAAA,GAAaA,OAAgC,IAAI,CAAA;AAEvD,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAIG,SAAS,KAAK,CAAA;AAG1C,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAIA,QAAAA;AAAA,IAAiB,MACrD,KAAA,GAAQ,kBAAA,CAAmB,WAAW,KAAK,CAAA,EAAG,MAAM,CAAA,GAAI;AAAA,GAC1D;AAGA,EAAA,MAAM,KAAA,GAAQC,QAAQ,MAAM,UAAA,qBAAe,IAAA,EAAM,CAAA,EAAG,EAAE,CAAA;AACtD,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAID,QAAAA;AAAA,IAAiB,MAC/C,KAAA,GAAQ,KAAA,CAAM,WAAA,EAAY,GAAI,MAAM,WAAA;AAAY,GAClD;AACA,EAAA,MAAM,CAAC,SAAA,EAAW,YAAY,CAAA,GAAIA,QAAAA;AAAA,IAAiB,MACjD,KAAA,GAAQ,KAAA,CAAM,QAAA,EAAS,GAAI,MAAM,QAAA;AAAS,GAC5C;AAEA,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIA,SAAmB,MAAM;AACjD,IAAA,MAAM,YAAY,KAAA,GAAQ,KAAA,CAAM,WAAA,EAAY,GAAI,MAAM,WAAA,EAAY;AAClE,IAAA,MAAM,QAAQ,SAAA,GAAY,EAAA;AAC1B,IAAA,MAAM,MAAM,SAAA,GAAY,EAAA;AACxB,IAAA,MAAM,MAAgB,EAAC;AACvB,IAAA,KAAA,IAAS,IAAI,KAAA,EAAO,CAAA,IAAK,KAAK,CAAA,EAAA,EAAK,GAAA,CAAI,KAAK,CAAC,CAAA;AAC7C,IAAA,OAAO,GAAA;AAAA,EACT,CAAC,CAAA;AAED,EAAA,MAAM,eAAA,GAAkBK,WAAAA,CAAY,CAAC,SAAA,KAAsB;AACzD,IAAA,QAAA,CAAS,CAAC,IAAA,KAAS;AACjB,MAAA,IACE,IAAA,CAAK,MAAA,IACL,SAAA,IAAa,IAAA,CAAK,CAAC,CAAA,IACnB,SAAA,IAAa,IAAA,CAAK,IAAA,CAAK,MAAA,GAAS,CAAC,CAAA,EACjC;AACA,QAAA,OAAO,IAAA;AAAA,MACT;AACA,MAAA,MAAM,QAAQ,SAAA,GAAY,EAAA;AAC1B,MAAA,MAAM,MAAM,SAAA,GAAY,EAAA;AACxB,MAAA,MAAM,MAAgB,EAAC;AACvB,MAAA,KAAA,IAAS,IAAI,KAAA,EAAO,CAAA,IAAK,KAAK,CAAA,EAAA,EAAK,GAAA,CAAI,KAAK,CAAC,CAAA;AAC7C,MAAA,OAAO,GAAA;AAAA,IACT,CAAC,CAAA;AAAA,EACH,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,kBAAA,GAAqBA,WAAAA;AAAA,IACzB,CAAC,CAAA,KAAY;AACX,MAAA,MAAM,EAAA,GAAK,WAAW,CAAC,CAAA;AACvB,MAAA,MAAM,CAAA,GAAI,GAAG,WAAA,EAAY;AACzB,MAAA,MAAM,CAAA,GAAI,GAAG,QAAA,EAAS;AACtB,MAAA,WAAA,CAAY,CAAC,CAAA;AACb,MAAA,YAAA,CAAa,CAAC,CAAA;AACd,MAAA,eAAA,CAAgB,CAAC,CAAA;AAAA,IACnB,CAAA;AAAA,IACA,CAAC,eAAe;AAAA,GAClB;AAGA,EAAAV,UAAU,MAAM;AACd,IAAA,IAAI,KAAA,EAAO;AACT,MAAA,MAAM,CAAA,GAAI,WAAW,KAAK,CAAA;AAC1B,MAAA,cAAA,CAAe,kBAAA,CAAmB,CAAA,EAAG,MAAM,CAAC,CAAA;AAC5C,MAAA,kBAAA,CAAmB,CAAC,CAAA;AAAA,IACtB,CAAA,MAAO;AAEL,MAAA,cAAA,CAAe,EAAE,CAAA;AACjB,MAAA,kBAAA,CAAmB,KAAK,CAAA;AAAA,IAC1B;AAAA,EACF,GAAG,CAAC,KAAA,EAAO,MAAA,EAAQ,kBAAA,EAAoB,KAAK,CAAC,CAAA;AAI7C,EAAAA,UAAU,MAAM;AACd,IAAA,IAAI,CAAC,KAAA,IAAS,CAAC,WAAA,EAAa;AAC1B,MAAA,cAAA,CAAe,kBAAA,CAAmB,KAAA,EAAO,MAAM,CAAC,CAAA;AAChD,MAAA,kBAAA,CAAmB,KAAK,CAAA;AAAA,IAC1B;AAAA,EAGF,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,KAAA,GAA4BM,QAAQ,MAAM;AAC9C,IAAA,MAAM,IAAA,GAAO,QAAA;AACb,IAAA,MAAM,KAAA,GAAQ,SAAA;AAEd,IAAA,MAAM,YAAA,GAAe,IAAI,IAAA,CAAK,IAAA,EAAM,OAAO,CAAC,CAAA;AAC5C,IAAA,MAAM,QAAA,GAAA,CAAY,YAAA,CAAa,MAAA,EAAO,GAAI,CAAA,IAAK,CAAA;AAC/C,IAAA,MAAM,YAAY,IAAI,IAAA,CAAK,IAAA,EAAM,KAAA,EAAO,IAAI,QAAQ,CAAA;AAEpD,IAAA,MAAM,QAAA,GAAW,KAAA,GAAQ,UAAA,CAAW,KAAK,CAAA,GAAI,IAAA;AAE7C,IAAA,MAAM,MAA0B,EAAC;AACjC,IAAA,MAAM,GAAA,GAAM,IAAI,IAAA,CAAK,SAAS,CAAA;AAE9B,IAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,CAAA,EAAG,CAAA,EAAA,EAAK;AAC1B,MAAA,MAAM,MAAwB,EAAC;AAC/B,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,CAAA,EAAG,CAAA,EAAA,EAAK;AAC1B,QAAA,MAAM,IAAA,GAAO,IAAI,IAAA,CAAK,GAAG,CAAA;AACzB,QAAA,GAAA,CAAI,IAAA,CAAK;AAAA,UACP,IAAA;AAAA,UACA,cAAA,EAAgB,IAAA,CAAK,QAAA,EAAS,KAAM,KAAA;AAAA,UACpC,OAAA,EAAS,UAAA,CAAW,IAAA,EAAM,KAAK,CAAA;AAAA,UAC/B,UAAA,EAAY,QAAA,GAAW,UAAA,CAAW,IAAA,EAAM,QAAQ,CAAA,GAAI;AAAA,SACrD,CAAA;AACD,QAAA,GAAA,CAAI,OAAA,CAAQ,GAAA,CAAI,OAAA,EAAQ,GAAI,CAAC,CAAA;AAAA,MAC/B;AACA,MAAA,GAAA,CAAI,KAAK,GAAG,CAAA;AAAA,IACd;AAEA,IAAA,OAAO,GAAA;AAAA,EACT,GAAG,CAAC,QAAA,EAAU,SAAA,EAAW,KAAA,EAAO,KAAK,CAAC,CAAA;AAEtC,EAAA,MAAM,aAAA,GAAgBA,OAAAA;AAAA,IACpB,MAAM,OAAO,IAAA,CAAK,CAAC,MAAM,CAAA,CAAE,KAAA,KAAU,SAAS,CAAA,IAAK,IAAA;AAAA,IACnD,CAAC,SAAS;AAAA,GACZ;AAEA,EAAA,MAAM,IAAA,GAAmBA,OAAAA,CAAQ,OAAO,EAAE,IAAA,EAAM,QAAQ,MAAA,EAAO,CAAA,EAAI,CAAC,MAAM,CAAC,CAAA;AAE3E,EAAA,MAAM,UAAA,GAAaI,YAAY,MAAM;AAzSvC,IAAA,IAAA,EAAA;AA0SI,IAAA,CAAA,EAAA,GAAA,UAAA,CAAW,YAAX,IAAA,GAAA,MAAA,GAAA,EAAA,CAAoB,KAAA,EAAA;AAAA,EACtB,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,OAAA,GAAUA,WAAAA;AAAA,IACd,CAAC,IAAA,KAAkB;AACjB,MAAA,SAAA,CAAU,IAAI,CAAA;AACd,MAAA,YAAA,IAAA,IAAA,GAAA,MAAA,GAAA,YAAA,CAAe,IAAA,CAAA;AAAA,IACjB,CAAA;AAAA,IACA,CAAC,YAAY;AAAA,GACf;AAEA,EAAA,MAAM,UAAA,GAAaA,YAAY,MAAM;AACnC,IAAA,IAAI,QAAA,EAAU;AAEd,IAAA,IAAI,CAAC,MAAA,EAAQ;AAEX,MAAA,IAAI,WAAA,EAAa;AACf,QAAA,MAAM,MAAA,GAAS,cAAA,CAAe,WAAA,EAAa,MAAM,CAAA;AACjD,QAAA,kBAAA,CAAmB,UAAU,KAAK,CAAA;AAAA,MACpC,WAAW,KAAA,EAAO;AAChB,QAAA,kBAAA,CAAmB,UAAA,CAAW,KAAK,CAAC,CAAA;AAAA,MACtC,CAAA,MAAO;AACL,QAAA,kBAAA,CAAmB,KAAK,CAAA;AAAA,MAC1B;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,CAAC,MAAM,CAAA;AAAA,EACjB,CAAA,EAAG;AAAA,IACD,QAAA;AAAA,IACA,MAAA;AAAA,IACA,WAAA;AAAA,IACA,MAAA;AAAA,IACA,KAAA;AAAA,IACA,OAAA;AAAA,IACA,kBAAA;AAAA,IACA;AAAA,GACD,CAAA;AAED,EAAA,MAAM,gBAAA,GAAmBA,WAAAA;AAAA,IACvB,CAAC,GAAA,KAAgB;AACf,MAAA,cAAA,CAAe,GAAG,CAAA;AAElB,MAAA,MAAM,MAAA,GAAS,cAAA,CAAe,GAAA,EAAK,MAAM,CAAA;AACzC,MAAA,IAAI,MAAA,EAAQ;AACV,QAAA,kBAAA,CAAmB,MAAM,CAAA;AACzB,QAAA,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAW,MAAA,CAAA;AAAA,MACb,CAAA,MAAO;AACL,QAAA,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAW,IAAA,CAAA;AAAA,MACb;AAAA,IACF,CAAA;AAAA,IACA,CAAC,MAAA,EAAQ,QAAA,EAAU,kBAAkB;AAAA,GACvC;AAEA,EAAA,MAAM,SAAA,GAAYA,WAAAA;AAAA,IAChB,CAAC,GAAA,KAAwB;AACvB,MAAA,IAAI,QAAA,EAAU;AAEd,MAAA,MAAM,QAAA,GAAW,UAAA,CAAW,GAAA,CAAI,IAAI,CAAA;AACpC,MAAA,cAAA,CAAe,kBAAA,CAAmB,QAAA,EAAU,MAAM,CAAC,CAAA;AACnD,MAAA,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAW,QAAA,CAAA;AAEX,MAAA,kBAAA,CAAmB,QAAQ,CAAA;AAC3B,MAAA,OAAA,CAAQ,KAAK,CAAA;AAAA,IACf,CAAA;AAAA,IACA,CAAC,QAAA,EAAU,MAAA,EAAQ,QAAA,EAAU,SAAS,kBAAkB;AAAA,GAC1D;AAEA,EAAA,MAAM,SAAA,GAAYA,YAAY,MAAM;AAClC,IAAA,IAAI,CAAA,GAAI,QAAA;AACR,IAAA,IAAI,CAAA,GAAI,SAAA;AAER,IAAA,IAAI,MAAM,CAAA,EAAG;AACX,MAAA,CAAA,GAAI,EAAA;AACJ,MAAA,CAAA,GAAI,CAAA,GAAI,CAAA;AAAA,IACV,CAAA,MAAO;AACL,MAAA,CAAA,GAAI,CAAA,GAAI,CAAA;AAAA,IACV;AAEA,IAAA,WAAA,CAAY,CAAC,CAAA;AACb,IAAA,YAAA,CAAa,CAAC,CAAA;AACd,IAAA,eAAA,CAAgB,CAAC,CAAA;AAAA,EACnB,CAAA,EAAG,CAAC,QAAA,EAAU,SAAA,EAAW,eAAe,CAAC,CAAA;AAEzC,EAAA,MAAM,SAAA,GAAYA,YAAY,MAAM;AAClC,IAAA,IAAI,CAAA,GAAI,QAAA;AACR,IAAA,IAAI,CAAA,GAAI,SAAA;AAER,IAAA,IAAI,MAAM,EAAA,EAAI;AACZ,MAAA,CAAA,GAAI,CAAA;AACJ,MAAA,CAAA,GAAI,CAAA,GAAI,CAAA;AAAA,IACV,CAAA,MAAO;AACL,MAAA,CAAA,GAAI,CAAA,GAAI,CAAA;AAAA,IACV;AAEA,IAAA,WAAA,CAAY,CAAC,CAAA;AACb,IAAA,YAAA,CAAa,CAAC,CAAA;AACd,IAAA,eAAA,CAAgB,CAAC,CAAA;AAAA,EACnB,CAAA,EAAG,CAAC,QAAA,EAAU,SAAA,EAAW,eAAe,CAAC,CAAA;AAEzC,EAAA,MAAM,aAAA,GAAgBA,WAAAA,CAAY,CAAC,MAAA,KAAwC;AACzE,IAAA,MAAM,MAAM,MAAA,CAAO,KAAA;AACnB,IAAA,IAAI,CAAC,GAAA,EAAK;AAEV,IAAA,MAAM,QAAQ,GAAA,CAAI,KAAA;AAClB,IAAA,IAAI,CAAC,OAAO,SAAA,CAAU,KAAK,KAAK,KAAA,GAAQ,CAAA,IAAK,QAAQ,EAAA,EAAI;AAEzD,IAAA,YAAA,CAAa,KAAK,CAAA;AAAA,EACpB,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,YAAA,GAAeA,WAAAA;AAAA,IACnB,CAAC,MAAA,KAAkC;AACjC,MAAA,MAAM,OAAO,MAAA,CAAO,KAAA;AACpB,MAAA,IAAI,SAAS,IAAA,EAAM;AACnB,MAAA,IAAI,CAAC,MAAA,CAAO,SAAA,CAAU,IAAI,CAAA,EAAG;AAE7B,MAAA,WAAA,CAAY,IAAI,CAAA;AAChB,MAAA,eAAA,CAAgB,IAAI,CAAA;AAAA,IACtB,CAAA;AAAA,IACA,CAAC,eAAe;AAAA,GAClB;AAGA,EAAAV,UAAU,MAAM;AACd,IAAA,IAAI,CAAC,MAAA,EAAQ;AAEb,IAAA,MAAM,UAAA,GAAa,CAAC,EAAA,KAAmB;AACrC,MAAA,MAAM,SAAS,EAAA,CAAG,MAAA;AAClB,MAAA,MAAM,OAAO,OAAA,CAAQ,OAAA;AACrB,MAAA,IAAI,CAAC,IAAA,EAAM;AAEX,MAAA,IAAI,MAAA,IAAU,CAAC,IAAA,CAAK,QAAA,CAAS,MAAM,CAAA,EAAG;AACpC,QAAA,OAAA,CAAQ,KAAK,CAAA;AAAA,MACf;AAAA,IACF,CAAA;AAEA,IAAA,QAAA,CAAS,gBAAA,CAAiB,OAAA,EAAS,UAAA,EAAY,IAAI,CAAA;AACnD,IAAA,OAAO,MAAM,QAAA,CAAS,mBAAA,CAAoB,OAAA,EAAS,YAAY,IAAI,CAAA;AAAA,EACrE,CAAA,EAAG,CAAC,MAAA,EAAQ,OAAO,CAAC,CAAA;AAEpB,EAAA,MAAM,WAAA,GAAiCM,OAAAA;AAAA,IACrC,OAAO;AAAA,MACL,IAAA,EAAM,QAAA;AAAA,MACN,IAAA,EAAM,UAAA;AAAA,MACN,OAAA,EAAS,IAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,SAAS,MAAM;AACb,QAAA,UAAA,EAAW;AACX,QAAA,UAAA,EAAW;AAAA,MACb;AAAA,KACF,CAAA;AAAA,IACA,CAAC,YAAY,UAAU;AAAA,GACzB;AAEA,EAAA,MAAM,MAAA,GAAuB,WAAA;AAE7B,EAAA,uBACER,IAAAA;AAAA,IAAC,cAAA;AAAA,IAAA;AAAA,MACE,GAAG,SAAA;AAAA,MACJ,GAAA,EAAK,CAAC,EAAA,KAAO;AACX,QAAA,OAAA,CAAQ,OAAA,GAAU,EAAA;AAAA,MACpB,CAAA;AAAA,MACA,QAAA,EAAA;AAAA,wBAAAD,GAAAA;AAAA,UAAC,MAAA;AAAA,UAAA;AAAA,YACC,MAAA;AAAA,YACA,IAAA;AAAA,YACA,OAAA;AAAA,YACA,WAAA;AAAA,YACA,QAAA,EAAU,QAAA;AAAA,YACV,KAAA,EAAO,WAAA;AAAA,YACP,QAAA,EAAU,UAAA;AAAA,YACV,SAAS,CAAC,CAAA,KAAM,gBAAA,CAAkB,CAAA,CAAE,OAA4B,KAAK;AAAA;AAAA,SACvE;AAAA,QAEC,yBACCC,IAAAA;AAAA,UAAC,KAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAW;AAAA,cACT,oBAAA;AAAA,cACAW,oBAAmB,aAAa;AAAA,aAClC,CAAE,KAAK,GAAG,CAAA;AAAA,YACV,QAAA,EAAA;AAAA,8BAAAX,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,qBAAA,EACb,QAAA,EAAA;AAAA,gCAAAD,IAAC,OAAA,EAAA,EAAQ,IAAA,EAAK,QAAO,IAAA,EAAK,IAAA,EAAK,SAAS,SAAA,EAAW,CAAA;AAAA,gCAEnDA,GAAAA;AAAA,kBAAC,OAAA;AAAA,kBAAA;AAAA,oBACC,SAAA,EAAU,4BAAA;AAAA,oBACV,OAAA,EAAS,MAAA;AAAA,oBACT,KAAA,EAAO,aAAA;AAAA,oBACP,gBAAA,EAAkB;AAAA;AAAA,iBACpB;AAAA,gCAEAA,GAAAA;AAAA,kBAAC,OAAA;AAAA,kBAAA;AAAA,oBACC,SAAA,EAAU,2BAAA;AAAA,oBACV,OAAA,EAAS,KAAA;AAAA,oBACT,KAAA,EAAO,QAAA;AAAA,oBACP,gBAAA,EAAkB;AAAA;AAAA,iBACpB;AAAA,gCAEAA,IAAC,OAAA,EAAA,EAAQ,IAAA,EAAK,QAAO,IAAA,EAAK,IAAA,EAAK,SAAS,SAAA,EAAW;AAAA,eAAA,EACrD,CAAA;AAAA,8BAEAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,yBACZ,QAAA,EAAA,QAAA,CAAS,GAAA,CAAI,CAAC,CAAA,qBACbA,GAAAA,CAAC,OAAA,EAAA,EAAe,QAAA,EAAA,CAAA,EAAA,EAAJ,CAAM,CACnB,CAAA,EACH,CAAA;AAAA,8BAEAA,GAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,oBAAA,EACZ,QAAA,EAAA,KAAA,CAAM,IAAI,CAAC,IAAA,EAAM,uBAChBA,GAAAA,CAAC,SAAa,SAAA,EAAU,mBAAA,EACrB,eAAK,GAAA,CAAI,CAAC,sBACTA,GAAAA;AAAA,gBAAC,KAAA;AAAA,gBAAA;AAAA,kBAEC,SAAA,EAAW;AAAA,oBACT,kBAAA;AAAA,oBACA,CAAA,CAAE,iBAAiB,eAAA,GAAkB,IAAA;AAAA,oBACrC,CAAA,CAAE,aAAa,UAAA,GAAa,IAAA;AAAA,oBAC5B,CAAA,CAAE,OAAA,IAAW,CAAC,CAAA,CAAE,aAAa,OAAA,GAAU;AAAA,mBACzC,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,kBACX,OAAA,EAAS,MAAM,SAAA,CAAU,CAAC,CAAA;AAAA,kBACzB,QAAA,EAAA,CAAA,CAAE,KAAK,OAAA;AAAQ,iBAAA;AAAA,gBAVX,CAAA,CAAE,KAAK,OAAA;AAAQ,eAYvB,CAAA,EAAA,EAfO,EAgBV,CACD,CAAA,EACH;AAAA;AAAA;AAAA,SACF,GACE;AAAA;AAAA;AAAA,GACN;AAEJ;AAMA,SAASc,oBAAAA,CACP,KAAA,EACA,QAAA,EACA,YAAA,EACe;AACf,EAAA,MAAM,MAAM,YAAA,IAAA,IAAA,GAAA,MAAA,GAAA,YAAA,CAAe,QAAA,CAAA;AAC3B,EAAA,IAAI,CAAC,KAAK,OAAO,IAAA;AACjB,EAAA,OAAO,GAAA,CAAI,UAAA,CAAW,SAAA,EAAW,KAAqB,CAAA;AACxD;AAwBO,SAAS,cAAc,KAAA,EAA2B;AACvD,EAAA,MAAM;AAAA,IACJ,KAAA,GAAQ,EAAA;AAAA,IACR,WAAA,GAAc,EAAA;AAAA,IACd,MAAA,GAAS,YAAA;AAAA,IACT,aAAA,GAAgB,aAAA;AAAA,IAChB,KAAA,GAAQ,IAAA;AAAA,IACR,QAAA;AAAA,IACA,QAAA,GAAW,KAAA;AAAA,IAEX,QAAA,GAAW,KAAA;AAAA,IACX,OAAA,GAAU,KAAA;AAAA,IACV,YAAA;AAAA,IACA,QAAA,GAAW,UAAA;AAAA,IAEX,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,iBAAA,GAAoBL,QAAQ,MAAM;AACtC,IAAA,IAAI,CAAC,SAAS,OAAO,IAAA;AACrB,IAAA,OACEK,oBAAAA,CAAoB,SAAS,YAAA,EAAc,QAAA,EAAU,YAAY,CAAA,IACjE,CAAA,EAAG,SAAS,YAAY,CAAA,WAAA,CAAA;AAAA,EAE5B,GAAG,CAAC,OAAA,EAAS,KAAA,EAAO,QAAA,EAAU,YAAY,CAAC,CAAA;AAE3C,EAAA,uBACEb,IAAAA,CAAC,iBAAA,EAAA,EAAiB,GAAG,SAAA,EAClB,QAAA,EAAA;AAAA,IAAA,KAAA,mBACCA,IAAAA,CAAC,OAAA,EAAA,EAAM,SAAA,EAAU,wBAAA,EACd,QAAA,EAAA;AAAA,MAAA,KAAA;AAAA,MAAM,IAAA;AAAA,MAAG,GAAA;AAAA,MACT,2BACCD,GAAAA,CAAC,UAAK,SAAA,EAAU,2BAAA,EAA4B,eAAC,CAAA,GAC3C;AAAA,KAAA,EACN,CAAA,GACE,IAAA;AAAA,oBAEJA,GAAAA;AAAA,MAAC,WAAA;AAAA,MAAA;AAAA,QACC,QAAA;AAAA,QACA,MAAA;AAAA,QACA,OAAA;AAAA,QACA,aAAA;AAAA,QACA,WAAA;AAAA,QACA,KAAA;AAAA,QACA;AAAA;AAAA,KACF;AAAA,IAEC,OAAA,IAAW,oCACVA,GAAAA,CAAC,SAAI,SAAA,EAAU,wBAAA,EAA0B,6BAAkB,CAAA,GACzD;AAAA,GAAA,EACN,CAAA;AAEJ;ACtmBA,SAASc,oBAAAA,CACP,KAAA,EACA,QAAA,EACA,YAAA,EACe;AACf,EAAA,MAAM,MAAM,YAAA,IAAA,IAAA,GAAA,MAAA,GAAA,YAAA,CAAe,QAAA,CAAA;AAC3B,EAAA,IAAI,CAAC,KAAK,OAAO,IAAA;AACjB,EAAA,OAAO,GAAA,CAAI,UAAA,CAAW,SAAA,EAAW,KAAqB,CAAA;AACxD;AAgBO,SAAS,UAAU,KAAA,EAAuB;AAC/C,EAAA,MAAM;AAAA,IACJ,KAAA,GAAQ,EAAA;AAAA,IACR,OAAA,GAAU,KAAA;AAAA,IACV,QAAA,GAAW,KAAA;AAAA,IACX,QAAA,GAAW,KAAA;AAAA,IACX,IAAA,GAAO,CAAA;AAAA,IACP,WAAA,GAAc,EAAA;AAAA,IACd,QAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,uBACEd,GAAAA,CAAC,YAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA;AAAA,IAAC,UAAA;AAAA,IAAA;AAAA,MACE,GAAG,IAAA;AAAA,MACJ,cAAA,EAAc,UAAU,MAAA,GAAS,MAAA;AAAA,MACjC,QAAA;AAAA,MACA,QAAA;AAAA,MACA,IAAA;AAAA,MACA,WAAA;AAAA,MACA,KAAA;AAAA,MACA,QAAA,EAAU,CAAC,CAAA,KAAM,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAW,EAAE,aAAA,CAAc,KAAA;AAAA;AAAA,GAC9C,EACF,CAAA;AAEJ;AA2BO,SAAS,YAAY,KAAA,EAAyB;AACnD,EAAA,MAAM;AAAA,IACJ,KAAA,GAAQ,EAAA;AAAA,IACR,WAAA,GAAc,EAAA;AAAA,IACd,KAAA,GAAQ,EAAA;AAAA,IACR,QAAA;AAAA,IAEA,QAAA,GAAW,KAAA;AAAA,IACX,QAAA,GAAW,KAAA;AAAA,IACX,IAAA,GAAO,CAAA;AAAA,IAEP,QAAA,GAAW,KAAA;AAAA,IACX,OAAA,GAAU,KAAA;AAAA,IAEV,YAAA;AAAA,IACA,QAAA,GAAW,UAAA;AAAA,IAEX,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,iBAAA,GAAoBS,QAAQ,MAAM;AACtC,IAAA,IAAI,CAAC,SAAS,OAAO,IAAA;AACrB,IAAA,OACEK,oBAAAA,CAAoB,SAAS,YAAA,EAAc,QAAA,EAAU,YAAY,CAAA,IACjE,CAAA,EAAG,SAAS,YAAY,CAAA,WAAA,CAAA;AAAA,EAE5B,GAAG,CAAC,OAAA,EAAS,KAAA,EAAO,QAAA,EAAU,YAAY,CAAC,CAAA;AAE3C,EAAA,uBACEb,IAAAA,CAAC,eAAA,EAAA,EAAe,GAAG,SAAA,EAChB,QAAA,EAAA;AAAA,IAAA,KAAA,mBACCA,IAAAA,CAAC,OAAA,EAAA,EAAM,SAAA,EAAU,sBAAA,EACd,QAAA,EAAA;AAAA,MAAA,KAAA;AAAA,MAAM,IAAA;AAAA,MAAG,GAAA;AAAA,MACT,2BAAWD,GAAAA,CAAC,UAAK,SAAA,EAAU,yBAAA,EAA0B,eAAC,CAAA,GAAU;AAAA,KAAA,EACnE,CAAA,GACE,IAAA;AAAA,oBAEJA,GAAAA;AAAA,MAAC,SAAA;AAAA,MAAA;AAAA,QACC,WAAA;AAAA,QACA,KAAA;AAAA,QACA,OAAA;AAAA,QACA,QAAA;AAAA,QACA,QAAA,EAAU,QAAA;AAAA,QACV,IAAA;AAAA,QACA,QAAA,EAAU,CAAC,CAAA,KAAM,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAW,CAAA;AAAA;AAAA,KAC9B;AAAA,IAEC,OAAA,IAAW,oCACVA,GAAAA,CAAC,SAAI,SAAA,EAAU,sBAAA,EAAwB,6BAAkB,CAAA,GACvD;AAAA,GAAA,EACN,CAAA;AAEJ;AC1FO,IAAM,aAAN,MAAgC;AAAA,EAC7B,OAAA,GAAU,KAAA;AAAA,EACV,OAAA,GAA+B,MAAA;AAAA,EAC/B,UAAA,uBAAiB,GAAA,EAAmC;AAAA,EACpD,QAAA;AAAA,EACA,QAAA;AAAA,EAER,WAAA,GAAc;AACZ,IAAA,IAAA,CAAK,QAAA,GAAW,IAAI,OAAA,CAA6B,CAAC,OAAA,KAAY;AAC5D,MAAA,IAAA,CAAK,QAAA,GAAW,OAAA;AAAA,IAClB,CAAC,CAAA;AAAA,EACH;AAAA,EAEA,MAAM,MAAA,EAAwB;AAC5B,IAAA,IAAI,KAAK,OAAA,EAAS;AAClB,IAAA,IAAA,CAAK,OAAA,GAAU,IAAA;AACf,IAAA,IAAA,CAAK,OAAA,GAAU,MAAA;AAEf,IAAA,KAAA,MAAW,CAAA,IAAK,IAAA,CAAK,UAAA,EAAY,CAAA,CAAE,KAAK,OAAO,CAAA;AAC/C,IAAA,IAAA,CAAK,WAAW,KAAA,EAAM;AAEtB,IAAA,IAAA,CAAK,QAAA,CAAS,KAAK,OAAO,CAAA;AAAA,EAC5B;AAAA;AAAA,EAGA,WAAA,GAA4C;AAC1C,IAAA,OAAO,IAAA,CAAK,QAAA;AAAA,EACd;AAAA;AAAA,EAGA,UAAU,EAAA,EAA+C;AACvD,IAAA,IAAI,KAAK,OAAA,EAAS;AAChB,MAAA,EAAA,CAAG,KAAK,OAAO,CAAA;AACf,MAAA,OAAO,MAAM;AAAA,MAAC,CAAA;AAAA,IAChB;AACA,IAAA,IAAA,CAAK,UAAA,CAAW,IAAI,EAAE,CAAA;AACtB,IAAA,OAAO,MAAM,IAAA,CAAK,UAAA,CAAW,MAAA,CAAO,EAAE,CAAA;AAAA,EACxC;AACF;AAaA,IAAI,iBAAA,GAAoB,CAAA;AAYxB,IAAM,aAAA,GAAgB,cAAgC,IAAI,CAAA;AAO1D,IAAM,qBAAA,GAAwB,aAAA;AAAA,EAC5B;AACF,CAAA;AAEO,SAAS,UAAA,GAAwB;AACtC,EAAA,MAAM,GAAA,GAAM,WAAW,aAAa,CAAA;AACpC,EAAA,IAAI,CAAC,GAAA;AACH,IAAA,MAAM,IAAI,MAAM,qDAAqD,CAAA;AACvE,EAAA,OAAO,GAAA;AACT;AAGO,SAAS,aAAA,GAA4B;AAC1C,EAAA,MAAM,GAAA,GAAM,WAAW,qBAAqB,CAAA;AAC5C,EAAA,OAAA,CAAQ,2BAAK,IAAA,KAAQ,MAAA;AACvB;AAGO,SAAS,YAAA,GAAmD;AACjE,EAAA,MAAM,GAAA,GAAM,WAAW,qBAAqB,CAAA;AAC5C,EAAA,IAAI,EAAC,2BAAK,SAAA,CAAA,EAAW;AACnB,IAAA,MAAM,IAAI,MAAM,wDAAwD,CAAA;AAAA,EAC1E;AACA,EAAA,OAAO,GAAA,CAAI,SAAA;AACb;AAGA,SAAS,oBAAA,GAAkE;AACzE,EAAA,MAAM,GAAA,GAAM,WAAW,qBAAqB,CAAA;AAC5C,EAAA,OAAA,CAAQ,2BAAK,SAAA,KAAa,IAAA;AAC5B;AAMO,SAAS,gBAAgB,KAAA,EAA6B;AAC3D,EAAA,MAAM,EAAE,UAAS,GAAI,KAAA;AACrB,EAAA,MAAM,CAAC,OAAA,EAAS,UAAU,CAAA,GAAIQ,QAAAA,CAA4B,EAAE,CAAA;AAE5D,EAAA,MAAM,OAA0BK,WAAAA,CAAY,CAAC,SAAA,EAAW,MAAA,GAAS,EAAC,KAAM;AACtE,IAAA,MAAM,EAAA,GAAK,MAAA,CAAO,EAAA,IAAM,CAAA,SAAA,EAAY,EAAE,iBAAiB,CAAA,CAAA;AACvD,IAAA,MAAM,GAAA,GAAM,IAAI,UAAA,EAAgB;AAEhC,IAAA,MAAM,QAAA,GAAsC;AAAA,MAC1C,EAAA;AAAA,MACA,SAAA;AAAA,MACA,MAAA,EAAQ;AAAA,QACN,KAAA,EAAO,OAAO,KAAA,IAAS,MAAA;AAAA,QACvB,MAAA,EAAQ,OAAO,MAAA,IAAU,MAAA;AAAA,QACzB,YAAA,EAAc,OAAO,YAAA,IAAgB,KAAA;AAAA,QACrC,aAAA,EAAe,OAAO,aAAA,IAAiB,IAAA;AAAA,QACvC,IAAA,EAAO,OAAO,IAAA,IAAiB,MAAA;AAAA,QAC/B;AAAA,OACF;AAAA,MACA;AAAA,KACF;AAEA,IAAA,UAAA,CAAW,CAAC,IAAA,KAAS,CAAC,GAAG,IAAA,EAAM,QAAQ,CAAC,CAAA;AAExC,IAAA,GAAA,CAAI,UAAU,MAAM;AAClB,MAAA,UAAA,CAAW,CAAC,SAAS,IAAA,CAAK,MAAA,CAAO,CAAC,CAAA,KAAM,CAAA,CAAE,EAAA,KAAO,EAAE,CAAC,CAAA;AAAA,IACtD,CAAC,CAAA;AAED,IAAA,OAAO,GAAA;AAAA,EACT,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,SAAA,GAAYA,WAAAA;AAAA,IAChB,CAAC,IAAY,MAAA,KAAiB;AAC5B,MAAA,MAAM,OAAO,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,OAAO,EAAE,CAAA;AAC5C,MAAA,IAAA,IAAA,IAAA,GAAA,MAAA,GAAA,IAAA,CAAM,IAAI,KAAA,CAAM,MAAA,CAAA;AAAA,IAClB,CAAA;AAAA,IACA,CAAC,OAAO;AAAA,GACV;AAEA,EAAA,MAAM,QAAA,GAAWA,YAAY,MAAM;AACjC,IAAA,OAAA,CAAQ,QAAQ,CAAC,CAAA,KAAM,EAAE,GAAA,CAAI,KAAA,CAAM,MAAS,CAAC,CAAA;AAAA,EAC/C,CAAA,EAAG,CAAC,OAAO,CAAC,CAAA;AAEZ,EAAA,MAAM,GAAA,GAAMJ,OAAAA;AAAA,IACV,OAAO,EAAE,OAAA,EAAS,IAAA,EAAM,WAAW,QAAA,EAAS,CAAA;AAAA,IAC5C,CAAC,OAAA,EAAS,IAAA,EAAM,SAAA,EAAW,QAAQ;AAAA,GACrC;AAEA,EAAA,uBACET,GAAAA,CAAC,aAAA,CAAc,UAAd,EAAuB,KAAA,EAAO,KAAM,QAAA,EAAS,CAAA;AAElD;AAWA,SAAS,iBAAiB,KAAA,EAA8B;AACtD,EAAA,MAAM,EAAE,QAAA,EAAU,SAAA,EAAU,GAAI,KAAA;AAChC,EAAA,MAAM,EAAE,KAAA,EAAO,MAAA,EAAQ,YAAA,EAAc,aAAA,KAAkB,QAAA,CAAS,MAAA;AAEhE,EAAA,MAAM,KAAA,GAAQa,WAAAA;AAAA,IACZ,CAAC,CAAA,KAAqB;AACpB,MAAA,IAAI,CAAC,SAAA,EAAW;AAChB,MAAA,IAAI,CAAA,CAAE,QAAQ,QAAA,EAAU;AACxB,MAAA,IAAI,YAAA,EAAc;AAClB,MAAA,QAAA,CAAS,GAAA,CAAI,MAAM,MAAS,CAAA;AAAA,IAC9B,CAAA;AAAA,IACA,CAAC,SAAA,EAAW,YAAA,EAAc,QAAA,CAAS,GAAG;AAAA,GACxC;AAEA,EAAAV,UAAU,MAAM;AACd,IAAA,QAAA,CAAS,gBAAA,CAAiB,SAAA,EAAW,KAAA,EAAO,IAAI,CAAA;AAChD,IAAA,OAAO,MAAM,QAAA,CAAS,mBAAA,CAAoB,SAAA,EAAW,OAAO,IAAI,CAAA;AAAA,EAClE,CAAA,EAAG,CAAC,KAAK,CAAC,CAAA;AAEV,EAAA,MAAM,eAAA,GAAkB,CAAC,CAAA,KAAwB;AAC/C,IAAA,IAAI,CAAC,SAAA,EAAW;AAChB,IAAA,IAAI,YAAA,EAAc;AAClB,IAAA,IAAI,CAAC,aAAA,EAAe;AAEpB,IAAA,CAAA,CAAE,cAAA,EAAe;AACjB,IAAA,QAAA,CAAS,GAAA,CAAI,MAAM,MAAS,CAAA;AAAA,EAC9B,CAAA;AAEA,EAAA,MAAM,WAAA,GAAmC;AAAA,IACvC,OAAO,KAAA,IAAS,MAAA;AAAA,IAChB,QAAQ,MAAA,IAAU;AAAA,GACpB;AAEA,EAAA,MAAM,OAAO,QAAA,CAAS,SAAA;AAEtB,EAAA,uBACEF,IAAAA,CAAC,oBAAA,EAAA,EAAmB,gBAAA,EAAgB,SAAS,EAAA,EAC3C,QAAA,EAAA;AAAA,oBAAAD,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mBAAA,EAAoB,SAAS,eAAA,EAAiB,CAAA;AAAA,oBAC7DA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kBAAA,EACb,QAAA,kBAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gBAAA,EAAiB,KAAA,EAAO,WAAA,EACrC,QAAA,kBAAAA,GAAAA;AAAA,MAAC,qBAAA,CAAsB,QAAA;AAAA,MAAtB;AAAA,QACC,KAAA,EAAO,EAAE,IAAA,EAAM,QAAA,CAAS,OAAO,IAAA,EAAM,SAAA,EAAW,SAAS,GAAA,EAAI;AAAA,QAC7D,QAAA,kBAAAA,IAAC,IAAA,EAAA,EAAK;AAAA;AAAA,OAEV,CAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;AAGO,SAAS,aAAA,GAAgB;AAC9B,EAAA,MAAM,EAAE,OAAA,EAAQ,GAAI,UAAA,EAAW;AAE/B,EAAA,uBACEA,GAAAA,CAAC,iBAAA,EAAA,EACE,kBAAQ,GAAA,CAAI,CAAC,QAAQ,GAAA,KAAQ;AAC5B,IAAA,MAAM,IAAA,GAAO,GAAA,KAAQ,OAAA,CAAQ,MAAA,GAAS,CAAA;AACtC,IAAA,uBACEA,GAAAA;AAAA,MAAC,gBAAA;AAAA,MAAA;AAAA,QAEC,QAAA,EAAU,MAAA;AAAA,QACV,SAAA,EAAW;AAAA,OAAA;AAAA,MAFN,MAAA,CAAO;AAAA,KAGd;AAAA,EAEJ,CAAC,CAAA,EACH,CAAA;AAEJ;AAYO,SAAS,aAAa,KAAA,EAA0B;AACrD,EAAA,MAAM,EAAE,MAAA,EAAQ,QAAA,EAAU,SAAA,EAAU,GAAI,KAAA;AACxC,EAAA,MAAM,MAAM,YAAA,EAAkB;AAE9B,EAAA,uBACEA,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,SAAA;AAAA,MACA,OAAA,EAAS,CAAC,CAAA,KAAM;AACd,QAAA,CAAA,CAAE,cAAA,EAAe;AACjB,QAAA,GAAA,CAAI,MAAM,MAAM,CAAA;AAAA,MAClB,CAAA;AAAA,MACC;AAAA;AAAA,GACH;AAEJ;AAkEA,SAAS,iBACP,OAAA,EACuB;AACvB,EAAA,OAAA,CAAQ,OAAA,IAAW,CAAC,MAAA,EAAQ,QAAQ,CAAA,EAAG,GAAA;AAAA,IAAI,CAAC,MAC1C,OAAO,CAAA,KAAM,WAAY,EAAE,IAAA,EAAM,GAAE,GAA4B;AAAA,GACjE;AACF;AAEA,SAAS,UAAU,CAAA,EAA+C;AAChE,EAAA,IAAI,CAAC,GAAG,OAAO,KAAA;AACf,EAAA,OAAO,EAAE,OAAA,KAAY,MAAA,GAAY,IAAA,GAAO,CAAC,CAAC,CAAA,CAAE,OAAA;AAC9C;AAEO,SAAS,QAAQ,KAAA,EAAqB;AAC3C,EAAA,MAAM;AAAA,IACJ,KAAA;AAAA,IACA,OAAA,GAAU,CAAC,MAAA,EAAQ,QAAQ,CAAA;AAAA,IAE3B,IAAA;AAAA,IACA,SAAA;AAAA,IACA,MAAA;AAAA,IACA,cAAA;AAAA,IAEA,QAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAGJ,EAAA,MAAM,YAAY,oBAAA,EAA0B;AAE5C,EAAA,MAAM,UAAA,GAAaS,QAAQ,MAAM,gBAAA,CAAiB,OAAO,CAAA,EAAG,CAAC,OAAO,CAAC,CAAA;AAErE,EAAA,MAAM,aAAa,UAAA,CAAW,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,MAAM,CAAA;AAG3D,EAAA,MAAM,WAAW,UAAA,CAAW,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,IAAI,CAAA;AAGvD,EAAA,MAAM,gBAAgB,UAAA,CAAW,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,SAAS,CAAA;AAGjE,EAAA,MAAM,eAAe,UAAA,CAAW,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,QAAQ,CAAA;AAI/D,EAAA,MAAM,gBAAgB,UAAA,CAAW,MAAA;AAAA,IAC/B,CAAC,CAAA,KAAM,CAAA,CAAE,IAAA,KAAS;AAAA,GACpB;AAEA,EAAA,MAAM,aAAA,GACJ,aAAA,CAAc,IAAA,CAAK,SAAS,KAC5B,SAAA,CAAU,QAAQ,CAAA,IAClB,SAAA,CAAU,aAAa,CAAA,IACvB,SAAA,CAAU,UAAU,CAAA,IACpB,UAAU,YAAY,CAAA;AAExB,EAAA,uBACER,IAAAA,CAAC,UAAA,EAAA,EAAU,GAAG,IAAA,EACX,QAAA,EAAA;AAAA,IAAA,KAAA,mBAAQD,GAAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,gBAAA,EAAkB,iBAAM,CAAA,GAAQ,IAAA;AAAA,oBAEvDA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oBAAoB,QAAA,EAAS,CAAA;AAAA,IAE3C,aAAA,mBACCC,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,kBAAA,EACZ,QAAA,EAAA;AAAA,MAAA,aAAA,CAAc,OAAO,SAAS,CAAA,CAAE,IAAI,CAAC,CAAA,EAAG,wBACvCD,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UAEC,MAAM,CAAA,CAAE,IAAA;AAAA,UACR,WAAW,CAAA,CAAE,SAAA;AAAA,UACb,OAAA,EAAS,EAAE,OAAA,IAAW,SAAA;AAAA,UACtB,SAAS,MAAM;AAxb7B,YAAA,IAAA,EAAA;AAybgB,YAAA,CAAA,EAAA,GAAA,CAAA,CAAE,OAAA,KAAF,IAAA,GAAA,MAAA,GAAA,EAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,YAAA,cAAA,IAAA,IAAA,GAAA,MAAA,GAAA,cAAA,CAAiB,CAAA,CAAA;AAAA,UACnB,CAAA;AAAA,UACC,QAAA,EAAA,CAAA,CAAE;AAAA,SAAA;AAAA,QARE;AAAA,OAUR,CAAA;AAAA,MAAA,CAEC,SAAA,CAAU,QAAQ,CAAA,IAClB,SAAA,CAAU,aAAa,CAAA,IACvB,SAAA,CAAU,UAAU,CAAA,IACpB,SAAA,CAAU,YAAY,MACxB,aAAA,CAAc,MAAA,CAAO,SAAS,CAAA,CAAE,MAAA,GAAS,CAAA,mBACvCA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,WAAA,EAAY,CAAA,GAC1B,IAAA;AAAA,MAEH,SAAA,CAAU,QAAQ,CAAA,mBACjBA,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,OAAA;AAAA,UACL,OAAA,EAAQ,SAAA;AAAA,UACR,WAAW,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAU,SAAA;AAAA,UACrB,SAAS,MAAM,IAAA,IAAA,IAAA,GAAA,MAAA,GAAA,IAAA,EAAA;AAAA,UAAU,QAAA,EAAA;AAAA;AAAA,OAE3B,GACE,IAAA;AAAA,MAEH,SAAA,CAAU,aAAa,CAAA,mBACtBA,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,MAAA;AAAA,UACL,OAAA,EAAQ,SAAA;AAAA,UACR,WAAW,aAAA,IAAA,IAAA,GAAA,MAAA,GAAA,aAAA,CAAe,SAAA;AAAA,UAC1B,SAAS,MAAM,SAAA,IAAA,IAAA,GAAA,MAAA,GAAA,SAAA,EAAA;AAAA,UAAe,QAAA,EAAA;AAAA;AAAA,OAEhC,GACE,IAAA;AAAA,MAEH,SAAA,CAAU,UAAU,CAAA,mBACnBA,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,MAAA;AAAA,UACL,OAAA,EAAQ,SAAA;AAAA,UACR,WAAW,UAAA,IAAA,IAAA,GAAA,MAAA,GAAA,UAAA,CAAY,SAAA;AAAA,UACvB,SAAS,MAAM,MAAA,IAAA,IAAA,GAAA,MAAA,GAAA,MAAA,EAAA;AAAA,UAAY,QAAA,EAAA;AAAA;AAAA,OAE7B,GACE,IAAA;AAAA,MAEH,SAAA,CAAU,YAAY,CAAA,mBACrBA,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,QAAA;AAAA,UACL,OAAA,EAAQ,QAAA;AAAA,UACR,WAAW,YAAA,IAAA,IAAA,GAAA,MAAA,GAAA,YAAA,CAAc,SAAA;AAAA,UACzB,OAAA,EAAS,CAAC,CAAA,KAAM;AACd,YAAA,CAAA,CAAE,cAAA,EAAe;AACjB,YAAA,SAAA,IAAA,IAAA,GAAA,MAAA,GAAA,SAAA,CAAW,KAAA,CAAM,MAAA,CAAA;AAAA,UACnB,CAAA;AAAA,UAAG,QAAA,EAAA;AAAA;AAAA,OAEL,GACE;AAAA,KAAA,EACN,CAAA,GACE;AAAA,GAAA,EACN,CAAA;AAEJ;AAMO,SAAS,MAAA,GAAS;AACvB,EAAA,MAAM,OAAO,aAAA,EAA0B;AACvC,EAAA,MAAM,SAAS,YAAA,EAAsB;AAErC,EAAA,MAAM,UAAA,GAAa,CAAA,gBAAA,EAAmB,IAAA,CAAK,IAAI,CAAA,CAAA;AAE/C,EAAA,uBACEC,IAAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,UAAA;AAAA,MACX,SAAS,CAAC,EAAE,MAAM,IAAA,EAAM,SAAA,EAAW,UAAU,CAAA;AAAA,MAC7C,IAAA,EAAM,MAAM,MAAA,CAAO,KAAA,CAAM,IAAI,CAAA;AAAA,MAC5B,QAAA,EAAA;AAAA,QAAA,IAAA,CAAK,IAAA,KAAS,gCAAgBD,GAAAA,CAAC,SAAM,IAAA,EAAK,MAAA,EAAO,IAAA,EAAK,KAAA,EAAM,CAAA,GAAK,IAAA;AAAA,QACjE,IAAA,CAAK,IAAA,KAAS,SAAA,mBACbA,GAAAA,CAAC,SAAM,IAAA,EAAK,cAAA,EAAe,IAAA,EAAK,KAAA,EAAM,CAAA,GACpC,IAAA;AAAA,QACH,IAAA,CAAK,IAAA,KAAS,SAAA,mBAAYA,GAAAA,CAAC,SAAM,IAAA,EAAK,aAAA,EAAc,IAAA,EAAK,KAAA,EAAM,CAAA,GAAK,IAAA;AAAA,QACpE,IAAA,CAAK,IAAA,KAAS,QAAA,mBAAWA,GAAAA,CAAC,SAAM,IAAA,EAAK,UAAA,EAAW,IAAA,EAAK,KAAA,EAAM,CAAA,GAAK,IAAA;AAAA,wBAEjEA,GAAAA,CAAC,IAAA,EAAA,EAAI,QAAA,EAAA,IAAA,CAAK,KAAA,EAAM,CAAA;AAAA,wBAChBA,IAAC,GAAA,EAAA,EAAE,uBAAA,EAAyB,EAAE,MAAA,EAAQ,IAAA,CAAK,aAAY,EAAG;AAAA;AAAA;AAAA,GAC5D;AAEJ;AAEO,SAAS,gBAAA,GAAmB;AACjC,EAAA,MAAM,SAAS,UAAA,EAAW;AAE1B,EAAA,MAAM,IAAA,GAAOa,WAAAA;AAAA,IACX,OAAO,IAAA,KAAqB;AAC1B,MAAA,MAAM,GAAA,GAAM,MAAA,CAAO,IAAA,CAA0B,MAAA,EAAQ;AAAA,QACnD,KAAA,EAAO,EAAA;AAAA,QACP,IAAA;AAAA,QACA,YAAA,EAAc;AAAA,OACf,CAAA;AACD,MAAA,MAAM,MAAA,GAAS,MAAM,GAAA,CAAI,WAAA,EAAY;AACrC,MAAA,OAAO,CAAC,CAAC,MAAA;AAAA,IACX,CAAA;AAAA,IACA,CAAC,MAAM;AAAA,GACT;AAEA,EAAA,OAAOJ,OAAAA;AAAA,IACL,OAAO;AAAA,MACL,IAAA;AAAA,MACA,WAAA,EAAa,CAAC,KAAA,EAAe,WAAA,KAC3B,IAAA,CAAK,EAAE,KAAA,EAAO,WAAA,EAAa,IAAA,EAAM,aAAA,EAAe,CAAA;AAAA,MAClD,OAAA,EAAS,CAAC,KAAA,EAAe,WAAA,KACvB,IAAA,CAAK,EAAE,KAAA,EAAO,WAAA,EAAa,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,MAC9C,OAAA,EAAS,CAAC,KAAA,EAAe,WAAA,KACvB,IAAA,CAAK,EAAE,KAAA,EAAO,WAAA,EAAa,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,MAC9C,MAAA,EAAQ,CAAC,KAAA,EAAe,WAAA,KACtB,IAAA,CAAK,EAAE,KAAA,EAAO,WAAA,EAAa,IAAA,EAAM,QAAA,EAAU;AAAA,KAC/C,CAAA;AAAA,IACA,CAAC,IAAI;AAAA,GACP;AACF;AAMO,SAAS,QAAA,GAAW;AACzB,EAAA,MAAM,OAAO,aAAA,EAA4B;AACzC,EAAA,MAAM,SAAS,YAAA,EAAkB;AAEjC,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAID,SAAiB,EAAE,CAAA;AAC/C,EAAA,MAAM,CAAC,OAAA,EAAS,UAAU,CAAA,GAAIA,SAAS,KAAK,CAAA;AAE5C,EAAA,MAAM,YAAA,GAAe,CAAA,oBAAA,EAAuB,IAAA,CAAK,IAAI,CAAA,CAAA;AAErD,EAAA,MAAM,SAAS,MAAM;AACnB,IAAA,IAAI,KAAK,MAAA,EAAQ;AACf,MAAA,MAAM,EAAA,GAAK,CAAC,CAAC,MAAA,CAAO,IAAA,EAAK;AACzB,MAAA,UAAA,CAAW,CAAC,EAAE,CAAA;AACd,MAAA,IAAI,CAAC,EAAA,EAAI;AACT,MAAA,MAAA,CAAO,MAAM,MAAM,CAAA;AACnB,MAAA;AAAA,IACF;AACA,IAAA,MAAA,CAAO,MAAM,IAAI,CAAA;AAAA,EACnB,CAAA;AAEA,EAAA,uBACEP,IAAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,YAAA;AAAA,MACX,OAAA,EAAS;AAAA,QACP,EAAE,IAAA,EAAM,SAAA,EAAW,SAAA,EAAW,OAAA,EAAQ;AAAA,QACtC,EAAE,IAAA,EAAM,QAAA,EAAU,SAAA,EAAW,OAAA;AAAQ,OACvC;AAAA,MACA,SAAA,EAAW,MAAA;AAAA,MACV,QAAA,EAAA;AAAA,QAAA,IAAA,CAAK,IAAA,KAAS,gCAAgBD,GAAAA,CAAC,SAAM,IAAA,EAAK,MAAA,EAAO,IAAA,EAAK,KAAA,EAAM,CAAA,GAAK,IAAA;AAAA,QACjE,IAAA,CAAK,IAAA,KAAS,SAAA,mBACbA,GAAAA,CAAC,SAAM,IAAA,EAAK,cAAA,EAAe,IAAA,EAAK,KAAA,EAAM,CAAA,GACpC,IAAA;AAAA,QACH,IAAA,CAAK,IAAA,KAAS,SAAA,mBAAYA,GAAAA,CAAC,SAAM,IAAA,EAAK,aAAA,EAAc,IAAA,EAAK,KAAA,EAAM,CAAA,GAAK,IAAA;AAAA,QACpE,IAAA,CAAK,IAAA,KAAS,QAAA,mBAAWA,GAAAA,CAAC,SAAM,IAAA,EAAK,UAAA,EAAW,IAAA,EAAK,KAAA,EAAM,CAAA,GAAK,IAAA;AAAA,wBAEjEA,GAAAA,CAAC,IAAA,EAAA,EAAI,QAAA,EAAA,IAAA,CAAK,KAAA,EAAM,CAAA;AAAA,wBAChBA,IAAC,GAAA,EAAA,EAAE,uBAAA,EAAyB,EAAE,MAAA,EAAQ,IAAA,CAAK,aAAY,EAAG,CAAA;AAAA,QAEzD,IAAA,CAAK,yBACJC,IAAAA;AAAA,UAAC,MAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAU,OAAA;AAAA,YACV,QAAA,EAAU,CAAC,CAAA,KAAM;AACf,cAAA,CAAA,CAAE,cAAA,EAAe;AACjB,cAAA,MAAA,EAAO;AAAA,YACT,CAAA;AAAA,YACA,QAAA,EAAA;AAAA,8BAAAD,GAAAA;AAAA,gBAAC,WAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,QAAA;AAAA,kBACN,WAAA,EAAY,yBAAA;AAAA,kBACZ,KAAA,EAAO,MAAA;AAAA,kBACP,QAAA,EAAU,CAAC,CAAA,KAAM;AACf,oBAAA,SAAA,CAAU,CAAC,CAAA;AACX,oBAAA,IAAI,OAAA,aAAoB,KAAK,CAAA;AAAA,kBAC/B,CAAA;AAAA,kBACA,OAAA;AAAA,kBACA,YAAA,EAAc,EAAE,QAAA,EAAU,6BAAA,EAA8B;AAAA,kBACxD,QAAA,EAAS;AAAA;AAAA,eACX;AAAA,8BACAA,GAAAA,CAAC,QAAA,EAAA,EAAO,WAAU,QAAA,EAAS,IAAA,EAAK,UAAS,QAAA,EAAA,QAAA,EAEzC;AAAA;AAAA;AAAA,SACF,GACE;AAAA;AAAA;AAAA,GACN;AAEJ;AAEO,SAAS,kBAAA,GAAqB;AACnC,EAAA,MAAM,SAAS,UAAA,EAAW;AAE1B,EAAA,MAAM,IAAA,GAAOa,WAAAA;AAAA,IACX,OAAO,IAAA,KAAuB;AAC5B,MAAA,MAAM,GAAA,GAAM,MAAA,CAAO,IAAA,CAAwB,QAAA,EAAU;AAAA,QACnD,KAAA,EAAO,EAAA;AAAA,QACP;AAAA,OACD,CAAA;AACD,MAAA,OAAO,IAAI,WAAA,EAAY;AAAA,IACzB,CAAA;AAAA,IACA,CAAC,MAAM;AAAA,GACT;AAEA,EAAA,OAAOJ,OAAAA;AAAA,IACL,OAAO;AAAA,MACL,IAAA;AAAA,MACA,WAAA,EAAa,OAAO,KAAA,EAAe,WAAA,KAAwB;AACzD,QAAA,MAAM,CAAA,GAAI,MAAM,IAAA,CAAK,EAAE,OAAO,WAAA,EAAa,IAAA,EAAM,eAAe,CAAA;AAChE,QAAA,OAAO,CAAC,CAAC,CAAA;AAAA,MACX,CAAA;AAAA,MACA,OAAA,EAAS,OAAO,KAAA,EAAe,WAAA,KAAwB;AACrD,QAAA,MAAM,CAAA,GAAI,MAAM,IAAA,CAAK,EAAE,OAAO,WAAA,EAAa,IAAA,EAAM,WAAW,CAAA;AAC5D,QAAA,OAAO,CAAC,CAAC,CAAA;AAAA,MACX,CAAA;AAAA,MACA,OAAA,EAAS,CAAC,KAAA,EAAe,WAAA,EAAqB,MAAA,KAC5C,IAAA,CAAK,EAAE,KAAA,EAAO,WAAA,EAAa,IAAA,EAAM,SAAA,EAAW,MAAA,EAAQ,CAAA;AAAA,MACtD,MAAA,EAAQ,CAAC,KAAA,EAAe,WAAA,EAAqB,MAAA,KAC3C,IAAA,CAAK,EAAE,KAAA,EAAO,WAAA,EAAa,IAAA,EAAM,QAAA,EAAU,MAAA,EAAQ;AAAA,KACvD,CAAA;AAAA,IACA,CAAC,IAAI;AAAA,GACP;AACF;;;ACjpBO,SAAS,SAAS,CAAA,EAA0C;AACjE,EAAA,OAAO,OAAO,CAAA,KAAM,QAAA,IAAY,CAAA,KAAM,IAAA;AACxC;AAEO,SAAS,SAAA,CACd,KACA,GAAA,EACyD;AACzD,EAAA,OAAO,OAAO,GAAA,CAAI,GAAG,CAAA,KAAM,QAAA;AAC7B;AAEO,SAAS,oBAAoB,GAAA,EAAwC;AAC1E,EAAA,IAAI,CAAC,QAAA,CAAS,GAAG,CAAA,EAAG,OAAO,IAAA;AAC3B,EAAA,IAAI,CAAC,SAAA,CAAU,GAAA,EAAK,gBAAgB,GAAG,OAAO,IAAA;AAC9C,EAAA,IAAI,CAAC,SAAA,CAAU,GAAA,EAAK,cAAc,GAAG,OAAO,IAAA;AAC5C,EAAA,OAAO,EAAE,cAAA,EAAgB,GAAA,CAAI,cAAA,EAAgB,YAAA,EAAc,IAAI,YAAA,EAAa;AAC9E;AAEO,SAAS,UAAA,CAAW,KAAc,GAAA,EAAmC;AAC1E,EAAA,IAAI,CAAC,QAAA,CAAS,GAAG,CAAA,EAAG,OAAO,IAAA;AAC3B,EAAA,MAAM,CAAA,GAAI,IAAI,GAAG,CAAA;AACjB,EAAA,OAAO,OAAO,CAAA,KAAM,QAAA,GAAW,CAAA,GAAI,IAAA;AACrC;AAGO,IAAM,uBAAA,GAGT;AAAA,EACF,UAAU,CAAC,EAAE,OAAM,KAAM,CAAA,EAAG,SAAS,YAAY,CAAA,aAAA,CAAA;AAAA,EACjD,cAAc,CAAC,EAAE,OAAM,KAAM,CAAA,eAAA,EAAkB,SAAS,YAAY,CAAA,CAAA,CAAA;AAAA,EAEpE,SAAA,EAAW,CAAC,EAAE,KAAA,EAAO,OAAM,KAAM;AAC/B,IAAA,MAAM,CAAA,GAAI,oBAAoB,KAAK,CAAA;AACnC,IAAA,IAAI,CAAC,CAAA,EAAG,OAAO,CAAA,EAAG,SAAS,YAAY,CAAA,cAAA,CAAA;AACvC,IAAA,OAAO,CAAA,EAAG,SAAS,YAAY,CAAA,kBAAA,EAAqB,EAAE,cAAc,CAAA,uBAAA,EAA0B,EAAE,YAAY,CAAA,EAAA,CAAA;AAAA,EAC9G,CAAA;AAAA,EAEA,SAAA,EAAW,CAAC,EAAE,KAAA,EAAO,OAAM,KAAM;AAC/B,IAAA,MAAM,CAAA,GAAI,oBAAoB,KAAK,CAAA;AACnC,IAAA,IAAI,CAAC,CAAA,EAAG,OAAO,CAAA,EAAG,SAAS,YAAY,CAAA,aAAA,CAAA;AACvC,IAAA,OAAO,CAAA,EAAG,SAAS,YAAY,CAAA,iBAAA,EAAoB,EAAE,cAAc,CAAA,uBAAA,EAA0B,EAAE,YAAY,CAAA,EAAA,CAAA;AAAA,EAC7G,CAAA;AAAA,EAEA,SAAS,CAAC,EAAE,OAAM,KAAM,CAAA,EAAG,SAAS,YAAY,CAAA,mBAAA,CAAA;AAAA,EAChD,OAAO,CAAC,EAAE,OAAM,KAAM,CAAA,qBAAA,EAAwB,SAAS,OAAO,CAAA,CAAA,CAAA;AAAA,EAE9D,GAAA,EAAK,CAAC,EAAE,KAAA,EAAO,OAAM,KAAM;AACzB,IAAA,MAAM,GAAA,GAAM,UAAA,CAAW,KAAA,EAAO,KAAK,CAAA;AACnC,IAAA,OAAO,GAAA,KAAQ,IAAA,GACX,CAAA,EAAG,KAAA,IAAS,YAAY,mBACxB,CAAA,EAAG,KAAA,IAAS,YAAY,CAAA,gBAAA,EAAc,GAAG,CAAA,CAAA,CAAA;AAAA,EAC/C,CAAA;AAAA,EAEA,GAAA,EAAK,CAAC,EAAE,KAAA,EAAO,OAAM,KAAM;AACzB,IAAA,MAAM,GAAA,GAAM,UAAA,CAAW,KAAA,EAAO,KAAK,CAAA;AACnC,IAAA,OAAO,GAAA,KAAQ,IAAA,GACX,CAAA,EAAG,KAAA,IAAS,YAAY,mBACxB,CAAA,EAAG,KAAA,IAAS,YAAY,CAAA,gBAAA,EAAc,GAAG,CAAA,CAAA,CAAA;AAAA,EAC/C;AACF;AAUO,SAAS,0BAAA,CAA2B;AAAA,EACzC,MAAA;AAAA,EACA,KAAA;AAAA,EACA,YAAA;AAAA,EACA,iBAAiB,EAAC;AAAA,EAClB;AACF,CAAA,EAAkD;AAChD,EAAA,IAAI,CAAC,QAAQ,OAAO,IAAA;AAEpB,EAAA,MAAM,IAAA,GAAO,MAAA,CAAO,IAAA,CAAK,MAAM,CAAA;AAC/B,EAAA,IAAI,IAAA,CAAK,MAAA,KAAW,CAAA,EAAG,OAAO,IAAA;AAE9B,EAAA,MAAM,GAAA,GAAM,KAAK,CAAC,CAAA;AAClB,EAAA,MAAM,GAAA,GAAM,OAAO,GAAG,CAAA;AACtB,EAAA,MAAM,YAAA,GAAA,CAAgB,KAAA,IAAS,EAAA,EAAI,IAAA,EAAK;AAExC,EAAA,MAAM,GAAA,GAAqB;AAAA,IACzB,KAAA,EAAO,YAAA;AAAA,IACP,KAAA,EAAO,GAAA;AAAA,IACP;AAAA,GACF;AAGA,EAAA,MAAM,YAAY,YAAA,IAAA,IAAA,GAAA,MAAA,GAAA,YAAA,CAAe,GAAA,CAAA;AACjC,EAAA,IAAI,SAAA,EAAW;AACb,IAAA,OAAO,WAAA,CAAY,WAAW,GAAG,CAAA;AAAA,EACnC;AAGA,EAAA,MAAM,SAAA,GAAY,EAAE,GAAG,uBAAA,EAAyB,GAAG,cAAA,EAAe;AAClE,EAAA,MAAM,OAAA,GAAU,UAAU,GAAG,CAAA;AAC7B,EAAA,IAAI,OAAA,EAAS,OAAO,OAAA,CAAQ,GAAG,CAAA;AAG/B,EAAA,OAAO,CAAA,EAAG,gBAAgB,YAAY,CAAA,YAAA,CAAA;AACxC;AAEO,SAAS,kBAAkB,IAAA,EAGtB;AACV,EAAA,MAAM,EAAE,MAAA,EAAQ,YAAA,EAAa,GAAI,IAAA;AACjC,EAAA,MAAM,iBAAA,GAAoB,CAAC,EAAC,YAAA,IAAA,IAAA,GAAA,MAAA,GAAA,YAAA,CAAc,QAAA,CAAA;AAC1C,EAAA,MAAM,gBAAA,GAAmB,CAAC,EAAC,MAAA,IAAA,IAAA,GAAA,MAAA,GAAA,MAAA,CAAQ,QAAA,CAAA;AACnC,EAAA,OAAO,iBAAA,IAAqB,gBAAA;AAC9B;AAEO,SAAS,WAAA,CAAY,KAAa,GAAA,EAA4B;AACnE,EAAA,MAAM,MAAM,QAAA,CAAS,GAAA,CAAI,KAAK,CAAA,GAAI,GAAA,CAAI,QAAQ,EAAC;AAE/C,EAAA,MAAM,GAAA,GAA+B;AAAA,IACnC,KAAA,EAAO,IAAI,KAAA,IAAS,YAAA;AAAA,IACpB,gBACE,OAAO,GAAA,CAAI,cAAA,KAAmB,QAAA,GAAW,IAAI,cAAA,GAAiB,MAAA;AAAA,IAChE,cACE,OAAO,GAAA,CAAI,YAAA,KAAiB,QAAA,GAAW,IAAI,YAAA,GAAe,MAAA;AAAA,IAC5D,KAAK,OAAO,GAAA,CAAI,GAAA,KAAQ,QAAA,GAAW,IAAI,GAAA,GAAM,MAAA;AAAA,IAC7C,KAAK,OAAO,GAAA,CAAI,GAAA,KAAQ,QAAA,GAAW,IAAI,GAAA,GAAM,MAAA;AAAA,IAC7C,GAAG;AAAA,GACL;AAEA,EAAA,OAAO,GAAA,CAAI,OAAA,CAAQ,YAAA,EAAc,CAAC,QAAQ,GAAA,KAAgB;AACxD,IAAA,MAAM,CAAA,GAAI,IAAI,GAAG,CAAA;AACjB,IAAA,OAAO,CAAA,KAAM,UAAa,CAAA,KAAM,IAAA,GAAO,IAAI,GAAG,CAAA,CAAA,CAAA,GAAM,OAAO,CAAC,CAAA;AAAA,EAC9D,CAAC,CAAA;AACH;;;AChFO,IAAM,kBAAN,MAAmC;AAAA,EAChC,WAAgB,EAAC;AAAA;AAAA,EAGjB,OAAA,GAAU,EAAA;AAAA,EACV,UAAA,GAAa,KAAA;AAAA,EACb,YAAA,GAAe,UAAA;AAAA;AAAA,EAGf,KAAA,GAA6B,IAAA;AAAA;AAAA,EAG7B,iBAAA,GAAoB,IAAA;AAAA,EACpB,UAAA,GAAa,CAAA;AAAA,EACb,SAAA,GAAY,EAAA;AAAA,EACZ,gBAAA,GAAmB,CAAC,EAAA,EAAI,EAAA,EAAI,GAAG,CAAA;AAAA;AAAA,EAG/B,UAAA,uBAAiB,GAAA,EAAiB;AAAA,EAE1C,YAAY,WAAA,GAAmB,EAAC,EAAG,MAAA,GAAgC,EAAC,EAAG;AACrE,IAAA,IAAA,CAAK,QAAA,GAAW,eAAe,EAAC;AAGhC,IAAA,IAAI,MAAA,CAAO,WAAW,IAAA,EAAM;AAC1B,MAAA,IAAA,CAAK,SAAS,MAAA,CAAO,MAAA;AAAA,IACvB;AAGA,IAAA,IAAA,CAAK,KAAA,GAAQ,IAAA,CAAK,cAAA,CAAe,MAAA,CAAO,QAAQ,IAAI,CAAA;AAGpD,IAAA,IAAA,CAAK,qBAAA,CAAsB,OAAO,SAAS,CAAA;AAE3C,IAAA,IAAA,CAAK,KAAA,EAAM;AAAA,EACb;AAAA;AAAA,EAIQ,sBAAsB,MAAA,EAA+C;AAC3E,IAAA,IAAI,WAAW,KAAA,EAAO;AACpB,MAAA,IAAA,CAAK,iBAAA,GAAoB,KAAA;AACzB,MAAA;AAAA,IACF;AAGA,IAAA,IAAA,CAAK,iBAAA,GAAoB,IAAA;AAEzB,IAAA,IAAI,MAAA,IAAU,OAAO,MAAA,KAAW,QAAA,EAAU;AACxC,MAAA,IAAA,CAAK,UAAA,GAAa,OAAO,SAAA,IAAa,CAAA;AACtC,MAAA,IAAA,CAAK,gBAAA,GAAmB,MAAA,CAAO,eAAA,IAAmB,IAAA,CAAK,gBAAA;AACvD,MAAA,IAAA,CAAK,SAAA,GAAY,MAAA,CAAO,QAAA,IAAY,IAAA,CAAK,iBAAiB,CAAC,CAAA;AAC3D,MAAA;AAAA,IACF;AAGA,IAAA,IAAA,CAAK,UAAA,GAAa,CAAA;AAClB,IAAA,IAAA,CAAK,gBAAA,GAAmB,CAAC,EAAA,EAAI,EAAA,EAAI,GAAG,CAAA;AACpC,IAAA,IAAA,CAAK,SAAA,GAAY,EAAA;AAAA,EACnB;AAAA,EAEA,IAAI,gBAAA,GAA4B;AAC9B,IAAA,OAAO,IAAA,CAAK,iBAAA;AAAA,EACd;AAAA,EAEA,IAAI,SAAA,GAAoB;AACtB,IAAA,OAAO,IAAA,CAAK,UAAA;AAAA,EACd;AAAA,EAEA,IAAI,QAAA,GAAmB;AACrB,IAAA,OAAO,IAAA,CAAK,SAAA;AAAA,EACd;AAAA,EAEA,IAAI,eAAA,GAA4B;AAC9B,IAAA,OAAO,IAAA,CAAK,gBAAA;AAAA,EACd;AAAA,EAEA,IAAI,UAAU,KAAA,EAAuD;AACnE,IAAA,IAAI,CAAC,IAAA,CAAK,iBAAA,IAAqB,CAAC,KAAA,EAAO;AACvC,IAAA,IAAA,CAAK,aAAa,KAAA,CAAM,SAAA;AACxB,IAAA,IAAA,CAAK,YAAY,KAAA,CAAM,QAAA;AACvB,IAAA,IAAA,CAAK,KAAA,EAAM;AAAA,EACb;AAAA,EAEA,IAAI,SAAA,GAA4D;AAC9D,IAAA,IAAI,CAAC,IAAA,CAAK,iBAAA,EAAmB,OAAO,IAAA;AACpC,IAAA,OAAO,EAAE,SAAA,EAAW,IAAA,CAAK,UAAA,EAAY,QAAA,EAAU,KAAK,SAAA,EAAU;AAAA,EAChE;AAAA;AAAA,EAIA,IAAI,IAAA,GAAY;AACd,IAAA,OAAO,IAAA,CAAK,QAAA;AAAA,EACd;AAAA,EAEA,IAAI,KAAK,KAAA,EAAY;AACnB,IAAA,IAAA,CAAK,QAAA,GAAW,SAAS,EAAC;AAC1B,IAAA,IAAA,CAAK,KAAA,EAAM;AAAA,EACb;AAAA,EAEA,IAAI,MAAA,GAAiB;AACnB,IAAA,OAAO,KAAK,QAAA,CAAS,MAAA;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,IAAI,OAAO,KAAA,EAAuC;AAChD,IAAA,IAAI,CAAC,KAAA,EAAO;AACV,MAAA,IAAA,CAAK,OAAA,GAAU,EAAA;AACf,MAAA,IAAA,CAAK,UAAA,GAAa,KAAA;AAClB,MAAA,IAAA,CAAK,YAAA,GAAe,UAAA;AACpB,MAAA,IAAA,CAAK,KAAA,EAAM;AACX,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,OAAO,UAAU,QAAA,EAAU;AAC7B,MAAA,IAAA,CAAK,OAAA,GAAU,KAAA,CAAM,WAAA,EAAY,CAAE,IAAA,EAAK;AACxC,MAAA,IAAA,CAAK,UAAA,GAAa,KAAA;AAClB,MAAA,IAAA,CAAK,YAAA,GAAe,UAAA;AACpB,MAAA,IAAA,CAAK,KAAA,EAAM;AACX,MAAA;AAAA,IACF;AAGA,IAAA,IAAA,CAAK,WAAW,KAAA,CAAM,IAAA,IAAQ,EAAA,EAAI,WAAA,GAAc,IAAA,EAAK;AACrD,IAAA,IAAA,CAAK,UAAA,GAAa,MAAM,SAAA,KAAc,IAAA;AACtC,IAAA,IAAA,CAAK,YAAA,GAAA,CAAgB,KAAA,CAAM,GAAA,IAAO,UAAA,EAAY,MAAK,IAAK,UAAA;AAExD,IAAA,IAAA,CAAK,KAAA,EAAM;AAAA,EACb;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,MAAA,GAAiB;AACnB,IAAA,OAAO,IAAA,CAAK,OAAA;AAAA,EACd;AAAA,EAEA,IAAI,IAAA,GAA4B;AAC9B,IAAA,OAAO,IAAA,CAAK,KAAA;AAAA,EACd;AAAA,EAEA,IAAI,KAAK,KAAA,EAAoB;AAC3B,IAAA,IAAA,CAAK,KAAA,GAAQ,IAAA,CAAK,cAAA,CAAe,KAAK,CAAA;AACtC,IAAA,IAAA,CAAK,KAAA,EAAM;AAAA,EACb;AAAA;AAAA,EAGA,eAAA,GAAwD,CAAC,IAAA,EAAM,MAAA,KAAW;AACxE,IAAA,IAAI,CAAC,QAAQ,OAAO,IAAA;AAGpB,IAAA,MAAM,MAAA,GAAS,IAAA,CAAK,SAAA,CAAU,IAAI,EAAE,WAAA,EAAY;AAChD,IAAA,OAAO,MAAA,CAAO,SAAS,MAAM,CAAA;AAAA,EAC/B,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,YAAA,GAAqC,CAAC,IAAA,EAAM,QAAA,KAAa;AACvD,IAAA,IAAI,CAAC,QAAA,CAAS,IAAI,CAAA,EAAG,OAAO,EAAA;AAE5B,IAAA,MAAM,CAAA,GAAI,KAAK,QAAQ,CAAA;AAEvB,IAAA,IAAI,OAAO,CAAA,KAAM,QAAA,IAAY,OAAO,CAAA,KAAM,UAAU,OAAO,CAAA;AAC3D,IAAA,IAAI,CAAA,KAAM,IAAA,IAAQ,CAAA,KAAM,MAAA,EAAW,OAAO,EAAA;AAG1C,IAAA,IAAI,CAAA,YAAa,IAAA,EAAM,OAAO,CAAA,CAAE,OAAA,EAAQ;AAExC,IAAA,OAAO,OAAO,CAAC,CAAA;AAAA,EACjB,CAAA;AAAA;AAAA,EAIA,QAAQ,QAAA,EAAmC;AACzC,IAAA,IAAA,CAAK,UAAA,CAAW,IAAI,QAAQ,CAAA;AAG5B,IAAA,QAAA,CAAS,IAAA,CAAK,kBAAkB,CAAA;AAEhC,IAAA,OAAO,MAAM;AACX,MAAA,IAAA,CAAK,UAAA,CAAW,OAAO,QAAQ,CAAA;AAAA,IACjC,CAAA;AAAA,EACF;AAAA,EAEA,UAAA,GAAmB;AACjB,IAAA,IAAA,CAAK,WAAW,KAAA,EAAM;AAAA,EACxB;AAAA;AAAA;AAAA,EAKQ,iBAAA,CAAkB,MAAS,MAAA,EAAyB;AAC1D,IAAA,IAAI,CAAC,QAAQ,OAAO,IAAA;AACpB,IAAA,OAAO,IAAA,CAAK,eAAA,CAAgB,IAAA,EAAM,MAAM,CAAA;AAAA,EAC1C;AAAA,EAEQ,qBAAA,CAAsB,OAAkB,MAAA,EAA2B;AACzE,IAAA,MAAM,SAAoB,EAAC;AAE3B,IAAA,KAAA,MAAW,QAAQ,KAAA,EAAO;AACxB,MAAA,MAAM,MAAA,GAAS,IAAA,CAAK,oBAAA,CAAqB,IAAA,EAAM,MAAM,CAAA;AACrD,MAAA,IAAI,MAAA,KAAW,IAAA,EAAM,MAAA,CAAO,IAAA,CAAK,MAAM,CAAA;AAAA,IACzC;AAEA,IAAA,OAAO,MAAA;AAAA,EACT;AAAA,EAEQ,oBAAA,CAAqB,MAAe,MAAA,EAAgC;AAC1E,IAAA,IAAI,CAAC,QAAA,CAAS,IAAI,CAAA,EAAG;AAEnB,MAAA,MAAMM,YAAAA,GAAc,IAAA,CAAK,iBAAA,CAAkB,IAAA,EAAW,MAAM,CAAA;AAC5D,MAAA,OAAOA,eAAc,IAAA,GAAO,IAAA;AAAA,IAC9B;AAEA,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,IAAA,CAAK,YAAY,CAAA;AAC1C,IAAA,MAAM,WAAW,KAAA,CAAM,OAAA,CAAQ,WAAW,CAAA,GAAI,cAAc,EAAC;AAE7D,IAAA,MAAM,gBAAA,GAAmB,IAAA,CAAK,qBAAA,CAAsB,QAAA,EAAU,MAAM,CAAA;AACpE,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,iBAAA,CAAkB,IAAA,EAAW,MAAM,CAAA;AAE5D,IAAA,IAAI,CAAC,WAAA,IAAe,gBAAA,CAAiB,MAAA,KAAW,CAAA,EAAG;AACjD,MAAA,OAAO,IAAA;AAAA,IACT;AAEA,IAAA,MAAM,KAAA,GAAiC,EAAE,GAAG,IAAA,EAAK;AAEjD,IAAA,IAAI,iBAAiB,MAAA,EAAQ;AAC3B,MAAA,KAAA,CAAM,IAAA,CAAK,YAAY,CAAA,GAAI,gBAAA;AAAA,IAC7B,CAAA,MAAO;AACL,MAAA,IAAI,OAAO,SAAA,CAAU,cAAA,CAAe,KAAK,KAAA,EAAO,IAAA,CAAK,YAAY,CAAA,EAAG;AAClE,QAAA,OAAO,KAAA,CAAM,KAAK,YAAY,CAAA;AAAA,MAChC;AAAA,IACF;AAEA,IAAA,OAAO,KAAA;AAAA,EACT;AAAA,EAEQ,eAAe,IAAA,EAAwC;AAC7D,IAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,IAAA,MAAM,MAAoB,KAAA,CAAM,OAAA,CAAQ,IAAI,CAAA,GAAI,IAAA,GAAO,CAAC,IAAI,CAAA;AAE5D,IAAA,MAAM,UAAU,GAAA,CAAI,MAAA;AAAA,MAClB,CAAC,CAAA,KACC,CAAC,CAAC,CAAA,IACF,OAAO,CAAA,CAAE,MAAA,KAAW,QAAA,KACnB,CAAA,CAAE,SAAA,KAAc,KAAA,IAAS,EAAE,SAAA,KAAc,MAAA;AAAA,KAC9C;AAEA,IAAA,OAAO,OAAA,CAAQ,SAAS,OAAA,GAAU,IAAA;AAAA,EACpC;AAAA,EAEQ,gBAAA,GAAwB;AAC9B,IAAA,IAAI,IAAA,GAAY,CAAC,GAAG,IAAA,CAAK,QAAQ,CAAA;AAGjC,IAAA,IAAI,KAAK,OAAA,EAAS;AAChB,MAAA,MAAM,IAAI,IAAA,CAAK,OAAA;AAEf,MAAA,IAAI,KAAK,UAAA,EAAY;AACnB,QAAA,IAAA,GAAO,IAAA,CAAK,qBAAA,CAAsB,IAAA,EAAmB,CAAC,CAAA;AAAA,MACxD,CAAA,MAAO;AACL,QAAA,IAAA,GAAO,IAAA,CAAK,OAAO,CAAC,GAAA,KAAQ,KAAK,eAAA,CAAgB,GAAA,EAAK,CAAC,CAAC,CAAA;AAAA,MAC1D;AAAA,IACF;AAGA,IAAA,IAAI,IAAA,CAAK,KAAA,IAAS,IAAA,CAAK,KAAA,CAAM,SAAS,CAAA,EAAG;AACvC,MAAA,MAAM,KAAA,GAAQ,CAAC,GAAG,IAAA,CAAK,KAAK,CAAA;AAE5B,MAAA,IAAA,CAAK,IAAA,CAAK,CAAC,CAAA,EAAM,CAAA,KAAS;AACxB,QAAA,KAAA,MAAW,QAAQ,KAAA,EAAO;AACxB,UAAA,MAAM,EAAE,MAAA,EAAQ,SAAA,EAAU,GAAI,IAAA;AAC9B,UAAA,IAAI,CAAC,MAAA,IAAU,CAAC,SAAA,EAAW;AAE3B,UAAA,MAAM,GAAA,GAAM,SAAA,KAAc,KAAA,GAAQ,CAAA,GAAI,EAAA;AAEtC,UAAA,MAAM,MAAA,GAAS,IAAA,CAAK,YAAA,CAAa,CAAA,EAAG,MAAM,CAAA;AAC1C,UAAA,MAAM,MAAA,GAAS,IAAA,CAAK,YAAA,CAAa,CAAA,EAAG,MAAM,CAAA;AAE1C,UAAA,IAAI,MAAA,GAAS,MAAA,EAAQ,OAAO,EAAA,GAAK,GAAA;AACjC,UAAA,IAAI,MAAA,GAAS,MAAA,EAAQ,OAAO,CAAA,GAAI,GAAA;AAAA,QAClC;AAEA,QAAA,OAAO,CAAA;AAAA,MACT,CAAC,CAAA;AAAA,IACH;AAGA,IAAA,IAAI,KAAK,iBAAA,EAAmB;AAC1B,MAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,UAAA,GAAa,IAAA,CAAK,SAAA;AACrC,MAAA,IAAA,GAAO,IAAA,CAAK,KAAA,CAAM,KAAA,EAAO,KAAA,GAAQ,KAAK,SAAS,CAAA;AAAA,IACjD;AAEA,IAAA,OAAO,IAAA;AAAA,EACT;AAAA,EAEQ,KAAA,GAAc;AACpB,IAAA,MAAM,QAAA,GAAW,KAAK,gBAAA,EAAiB;AACvC,IAAA,IAAA,CAAK,WAAW,OAAA,CAAQ,CAAC,CAAA,KAAM,CAAA,CAAE,QAAQ,CAAC,CAAA;AAAA,EAC5C;AACF;AC7VO,SAAS,WAAW,KAAA,EAAwB;AACjD,EAAA,MAAM,EAAE,MAAA,EAAQ,SAAA,EAAW,QAAA,EAAU,eAAA,EAAiB,cAAa,GAAI,KAAA;AAEvE,EAAA,MAAM,eAAA,GAAkB,CAAA;AAExB,EAAA,MAAM,SAAA,GAAY,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,IAAA,CAAK,MAAA,GAAS,QAAQ,CAAC,CAAA;AAE1D,EAAA,MAAM,SAAA,GAA8BN,QAAQ,MAAM;AAChD,IAAA,MAAM,KAAA,GAAQ,SAAA;AACd,IAAA,MAAM,UAAU,SAAA,GAAY,CAAA;AAC5B,IAAA,MAAM,IAAA,GAAO,KAAA;AAEb,IAAA,MAAM,KAAA,GAAQ,CAAC,IAAA,EAAc,EAAA,KAAe;AAC1C,MAAA,MAAM,MAAgB,EAAC;AACvB,MAAA,KAAA,IAAS,IAAI,IAAA,EAAM,CAAA,IAAK,IAAI,CAAA,EAAA,EAAK,GAAA,CAAI,KAAK,CAAC,CAAA;AAC3C,MAAA,OAAO,GAAA;AAAA,IACT,CAAA;AAEA,IAAA,MAAM,QAAA,GAAW,CAAC,gBAAA,KAA6C;AAC7D,MAAA,MAAM,MAAM,gBAAA,GAAmB,CAAA;AAC/B,MAAA,OAAO;AAAA,QACL,IAAA,EAAM,MAAA;AAAA,QACN,SAAA,EAAW,GAAA;AAAA,QACX,KAAA,EAAO,OAAO,gBAAgB,CAAA;AAAA,QAC9B,QAAQ,gBAAA,KAAqB;AAAA,OAC/B;AAAA,IACF,CAAA;AAEA,IAAA,IAAI,SAAS,eAAA,EAAiB;AAC5B,MAAA,OAAO,KAAA,CAAM,CAAA,EAAG,IAAI,CAAA,CAAE,IAAI,QAAQ,CAAA;AAAA,IACpC;AAEA,IAAA,IAAI,WAAW,CAAA,EAAG;AAChB,MAAA,OAAO;AAAA,QACL,GAAG,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,CAAE,IAAI,QAAQ,CAAA;AAAA,QAC3B,EAAE,IAAA,EAAM,UAAA,EAAY,GAAA,EAAK,OAAA,EAAQ;AAAA,QACjC,SAAS,IAAI;AAAA,OACf;AAAA,IACF;AAEA,IAAA,IAAI,OAAA,IAAW,OAAO,CAAA,EAAG;AACvB,MAAA,MAAM,QAAQ,IAAA,GAAO,CAAA;AACrB,MAAA,OAAO;AAAA,QACL,SAAS,CAAC,CAAA;AAAA,QACV,EAAE,IAAA,EAAM,UAAA,EAAY,GAAA,EAAK,SAAA,EAAU;AAAA,QACnC,GAAG,KAAA,CAAM,KAAA,EAAO,IAAI,CAAA,CAAE,IAAI,QAAQ;AAAA,OACpC;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,OAAA,GAAU,CAAA;AAC3B,IAAA,MAAM,SAAS,OAAA,GAAU,CAAA;AAEzB,IAAA,OAAO;AAAA,MACL,SAAS,CAAC,CAAA;AAAA,MACV,EAAE,IAAA,EAAM,UAAA,EAAY,GAAA,EAAK,SAAA,EAAU;AAAA,MACnC,GAAG,KAAA,CAAM,QAAA,EAAU,MAAM,CAAA,CAAE,IAAI,QAAQ,CAAA;AAAA,MACvC,EAAE,IAAA,EAAM,UAAA,EAAY,GAAA,EAAK,OAAA,EAAQ;AAAA,MACjC,SAAS,IAAI;AAAA,KACf;AAAA,EACF,CAAA,EAAG,CAAC,SAAA,EAAW,SAAS,CAAC,CAAA;AAEzB,EAAA,MAAM,IAAA,GAAO,CAAC,SAAA,EAAmB,QAAA,KAAqB;AACpD,IAAA,MAAM,WAAW,SAAA,GAAY,CAAA;AAC7B,IAAA,MAAM,YAAA,GAAe,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,QAAA,EAAU,SAAS,CAAC,CAAA;AAC9D,IAAA,YAAA,CAAa,EAAE,SAAA,EAAW,YAAA,EAAc,QAAA,EAAU,UAAU,CAAA;AAAA,EAC9D,CAAA;AAEA,EAAA,MAAM,QAAA,GAAW,CAAC,GAAA,KAAgB;AAChC,IAAA,IAAI,QAAQ,SAAA,EAAW;AACvB,IAAA,IAAA,CAAK,KAAK,QAAQ,CAAA;AAAA,EACpB,CAAA;AAEA,EAAA,MAAM,cAAA,GAAiB,CAAC,IAAA,KAAiB;AACvC,IAAA,MAAM,OAAA,GAAU,OAAO,IAAI,CAAA;AAC3B,IAAA,IAAI,CAAC,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA,IAAK,WAAW,CAAA,EAAG;AAE/C,IAAA,MAAM,OAAA,GAAU,QAAA;AAChB,IAAA,MAAM,iBAAiB,SAAA,GAAY,OAAA;AAEnC,IAAA,MAAM,SAAA,GAAY,IAAA,CAAK,KAAA,CAAM,cAAA,GAAiB,OAAO,CAAA;AACrD,IAAA,IAAA,CAAK,WAAW,OAAO,CAAA;AAAA,EACzB,CAAA;AAEA,EAAA,uBACET,IAAC,aAAA,EAAA,EAAY,SAAA,EAAU,eACrB,QAAA,kBAAAC,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gDAAA,EAEZ,QAAA,EAAA;AAAA,IAAA,eAAA,CAAgB,GAAA,CAAI,CAAC,IAAA,qBACpBD,GAAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QAEC,IAAA,EAAK,IAAA;AAAA,QACL,UAAU,QAAA,KAAa,IAAA;AAAA,QACvB,OAAA,EAAS,MAAM,cAAA,CAAe,IAAI,CAAA;AAAA,QACjC,QAAA,EAAA;AAAA,OAAA;AAAA,MAJI;AAAA,KAMR,CAAA;AAAA,oBAEDA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,WAAA,EAAY,CAAA;AAAA,oBAE5BC,KAAC,GAAA,EAAA,EAAE,QAAA,EAAA;AAAA,MAAA,OAAA;AAAA,MACK,SAAA,GAAY,CAAA;AAAA,MAAE,MAAA;AAAA,MAAK,SAAA;AAAA,MAAU,IAAA;AAAA,MAAG,MAAA;AAAA,MAAO,MAAA;AAAA,MAC5C,MAAA,GAAS,IAAI,GAAA,GAAM,EAAA;AAAA,MAAG;AAAA,KAAA,EACzB,CAAA;AAAA,IAEC,SAAA,GAAY,CAAA,mBACXD,GAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,4CAAA,EACZ,QAAA,EAAA,SAAA,CAAU,GAAA,CAAI,CAAC,IAAA,KAAS;AACvB,MAAA,IAAI,IAAA,CAAK,SAAS,UAAA,EAAY;AAC5B,QAAA,uBACEA,GAAAA;AAAA,UAAC,MAAA;AAAA,UAAA;AAAA,YAEC,aAAA,EAAY,MAAA;AAAA,YACZ,SAAA,EAAU,sBAAA;AAAA,YAAuB,QAAA,EAAA;AAAA,WAAA;AAAA,UAF5B,IAAA,CAAK;AAAA,SAIZ;AAAA,MAEJ;AAEA,MAAA,uBACEA,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UAEC,IAAA,EAAK,IAAA;AAAA,UACL,UAAU,IAAA,CAAK,MAAA;AAAA,UACf,OAAA,EAAS,MAAM,QAAA,CAAS,IAAA,CAAK,SAAS,CAAA;AAAA,UACrC,QAAA,EAAA,IAAA,CAAK;AAAA,SAAA;AAAA,QAJD,CAAA,EAAA,EAAK,KAAK,SAAS,CAAA;AAAA,OAK1B;AAAA,IAEJ,CAAC,GACH,CAAA,GACE;AAAA,GAAA,EACN,CAAA,EACF,CAAA;AAEJ;AC1CO,SAAS,YAAe,MAAA,EAA6B;AAC1D,EAAA,OAAO,IAAA;AACT;AACC,WAAA,CAAoB,MAAA,GAAS,aAAA;AAsBvB,SAAS,kBAAqB,MAAA,EAAmC;AACtE,EAAA,OAAO,IAAA;AACT;AACC,iBAAA,CAA0B,MAAA,GAAS,mBAAA;AAG7B,SAAS,iBAAiB,MAAA,EAA+B;AAC9D,EAAA,OAAO,IAAA;AACT;AACC,gBAAA,CAAyB,MAAA,GAAS,kBAAA;AAO5B,SAAS,mBAAsB,MAAA,EAAoC;AACxE,EAAA,OAAO,IAAA;AACT;AACC,kBAAA,CAA2B,MAAA,GAAS,oBAAA;AAMrC,SAAS,sBAAsB,KAAA,EAM5B;AACD,EAAA,MAAM,EAAE,OAAA,EAAS,aAAA,EAAe,QAAA,EAAU,SAAA,EAAW,cAAa,GAAI,KAAA;AACtE,EAAA,MAAM,GAAA,GAAMK,OAAgC,IAAI,CAAA;AAEhD,EAAAF,UAAU,MAAM;AACd,IAAA,IAAI,GAAA,CAAI,OAAA,EAAS,GAAA,CAAI,OAAA,CAAQ,aAAA,GAAgB,aAAA;AAAA,EAC/C,CAAA,EAAG,CAAC,aAAa,CAAC,CAAA;AAElB,EAAA,uBACEH,GAAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,GAAA;AAAA,MACA,SAAA;AAAA,MACA,IAAA,EAAK,UAAA;AAAA,MACL,OAAA;AAAA,MACA,UAAU,CAAC,CAAA,KAAM,QAAA,CAAS,CAAA,CAAE,OAAO,OAAO,CAAA;AAAA,MAC1C,OAAA,EAAS,CAAC,CAAA,KAAM;AACd,QAAA,IAAI,YAAA,IAAgB,eAAA,EAAgB;AAAA,MACtC;AAAA;AAAA,GACF;AAEJ;AAEA,SAAS,aAAA,CACP,GAAA,EACA,GAAA,EACA,GAAA,EACW;AACX,EAAA,IAAI,CAAC,KAAK,OAAO,IAAA;AAEjB,EAAA,OAAO,GAAA,CAAI,UAAU,CAAA,GAAK,GAAA,CAAY,KAAK,GAAG,CAAA,GAAK,IAAY,GAAG,CAAA;AACpE;AAsCO,SAAS,MAAS,KAAA,EAAsB;AAC7C,EAAA,MAAM;AAAA,IACJ,UAAA;AAAA,IACA,aAAA,GAAgB,KAAA;AAAA,IAEhB,IAAA,GAAO,IAAA;AAAA,IACP,UAAA,GAAa,EAAA;AAAA,IACb,UAAA;AAAA,IACA,sBAAA,GAAyB,IAAA;AAAA,IAEzB,gBAAA,GAAmB,IAAA;AAAA,IAEnB,iBAAA;AAAA,IACA,UAAA;AAAA,IAEA,iBAAA;AAAA,IACA,oBAAA;AAAA,IAEA,QAAA;AAAA,IACA;AAAA,GACF,GAAI,KAAA;AAEJ,EAAA,MAAM,KAAA,GAAQK,MAAAA,CAAe,IAAA,CAAK,MAAA,EAAO,CAAE,SAAS,EAAE,CAAA,CAAE,KAAA,CAAM,CAAC,CAAC,CAAA;AAEhE,EAAA,MAAM,oBAAA,GAAuB,EAAA;AAC7B,EAAA,MAAM,iBAAA,GAAoB,EAAA;AAC1B,EAAA,MAAM,iBAAA,GAAoB,EAAA;AAC1B,EAAA,MAAM,kBAAA,GAAqB,GAAA;AAE3B,EAAA,MAAM,CAAC,YAAA,EAAc,eAAe,CAAA,GAAIG,QAAAA,CAAc,EAAE,CAAA;AACxD,EAAA,MAAM,CAAC,iBAAA,EAAmB,oBAAoB,CAAA,GAAIA,SAAiB,EAAE,CAAA;AACrE,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAIA,QAAAA,CAAuB,EAAE,CAAA;AAE7D,EAAA,MAAM,eAAA,GAAkBH,MAAAA,iBAAwC,IAAI,GAAA,EAAK,CAAA;AACzE,EAAA,MAAM,GAAG,OAAO,CAAA,GAAIG,SAAS,CAAC,CAAA;AAE9B,EAAA,MAAM,CAAC,YAAA,EAAc,eAAe,IAAIA,QAAAA,iBAAiB,IAAI,KAAK,CAAA;AAClE,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,IAAIA,QAAAA,iBAAiB,IAAI,KAAK,CAAA;AAGhE,EAAA,MAAM,WAAA,GAAcH,MAAAA,iBAUlB,IAAI,GAAA,EAAK,CAAA;AACX,EAAA,MAAM,YAAA,GAAeA,MAAAA,CAAY,EAAE,CAAA;AASnC,EAAA,MAAM,EAAE,WAAA,EAAa,OAAA,EAAS,gBAAA,EAAiB,GAAII,QAAQ,MAAM;AAhTnE,IAAA,IAAA,EAAA;AAiTI,IAAA,MAAM,MAAM,QAAA,CAAS,OAAA,CAAQ,QAAQ,CAAA,CAAE,OAAO,OAAO,CAAA;AAErD,IAAA,IAAI,UAAA,GAAgD,IAAA;AAEpD,IAAA,MAAM,aAAA,GAAgB,CACpB,EAAA,KAC8B;AAvTpC,MAAA,IAAAO,GAAAA;AAwTM,MAAA,MAAM,IAAA,GAAA,CAAQA,GAAAA,GAAA,EAAA,CAAG,IAAA,KAAH,gBAAAA,GAAAA,CAAiB,MAAA;AAC/B,MAAA,IAAI,IAAA,KAAS,aAAA,IAAiB,IAAA,KAAS,mBAAA,EAAqB,OAAO,IAAA;AAEnE,MAAA,MAAM,IAAI,EAAA,CAAG,KAAA;AACb,MAAA,MAAM,YAAY,IAAA,KAAS,aAAA;AAE3B,MAAA,MAAM,GAAA,GAA0B;AAAA,QAC9B,SAAA,EAAW,SAAA,GAAY,CAAA,CAAE,SAAA,GAAY,MAAA;AAAA,QACrC,KAAA,EAAO,EAAE,KAAA,IAAS,EAAA;AAAA;AAAA,QAGlB,QAAA,EAAU,CAAA,CAAE,QAAA,KAAa,SAAA,GAAY,IAAA,GAAO,KAAA,CAAA;AAAA,QAC5C,SAAA,EAAW,EAAE,SAAA,IAAa,IAAA;AAAA,QAC1B,MAAA,EAAQ,CAAC,CAAC,CAAA,CAAE,MAAA;AAAA,QAEZ,OAAO,CAAA,CAAE,KAAA;AAAA,QAET,WAAW,CAAA,CAAE,SAAA;AAAA,QACb,SAAS,CAAA,CAAE,OAAA;AAAA,QAEX,MAAA,EAAQ;AAAA,OACV;AAEA,MAAA,OAAO,GAAA;AAAA,IACT,CAAA;AAGA,IAAA,MAAM,SAA+B,EAAC;AAEtC,IAAA,KAAA,MAAW,QAAQ,GAAA,EAAK;AACtB,MAAA,MAAM,IAAA,GAAA,CAAQ,EAAA,GAAA,IAAA,CAAK,IAAA,KAAL,IAAA,GAAA,MAAA,GAAA,EAAA,CAAmB,MAAA;AAEjC,MAAA,IAAI,SAAS,oBAAA,EAAsB;AACjC,QAAA,UAAA,GAAa,IAAA,CAAK,KAAA;AAClB,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,SAAS,kBAAA,EAAoB;AAC/B,QAAA,MAAM,KAAK,IAAA,CAAK,KAAA;AAChB,QAAA,MAAM,IAAA,GAAO,QAAA,CAAS,OAAA,CAAQ,EAAA,CAAG,QAAQ,CAAA,CAAE,MAAA;AAAA,UACzC;AAAA,SACF;AAEA,QAAA,MAAM,QAA8B,EAAC;AACrC,QAAA,KAAA,MAAW,OAAO,IAAA,EAAM;AACtB,UAAA,MAAMC,EAAAA,GAAI,cAAc,GAAU,CAAA;AAClC,UAAA,IAAIA,EAAAA,EAAG,KAAA,CAAM,IAAA,CAAKA,EAAC,CAAA;AAAA,QACrB;AAEA,QAAA,MAAA,CAAO,IAAA,CAAK;AAAA,UACV,IAAA,EAAM,OAAA;AAAA,UACN,KAAA,EAAO,GAAG,KAAA,IAAS,EAAA;AAAA,UACnB,OAAA,EAAS;AAAA,SACV,CAAA;AACD,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,CAAA,GAAI,cAAc,IAAW,CAAA;AACnC,MAAA,IAAI,CAAA,SAAU,IAAA,CAAK,EAAE,MAAM,KAAA,EAAO,GAAA,EAAK,GAAG,CAAA;AAAA,IAC5C;AAEA,IAAA,MAAM,WAAW,MAAA,CAAO,IAAA;AAAA,MACtB,CAAC,CAAA,KACC,CAAA,CAAE,IAAA,KAAS,KAAA,IACV,CAAA,CAAE,IAAA,KAAS,OAAA,IAAW,CAAA,CAAE,OAAA,IAAW,CAAA,CAAE,OAAA,CAAQ,MAAA,GAAS;AAAA,KAC3D;AAEA,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAA,OAAO;AAAA,QACL,aAAa,EAAC;AAAA,QACd,SAAS,EAAC;AAAA,QACV,gBAAA,EAAkB;AAAA,OACpB;AAAA,IACF;AAGA,IAAA,MAAM,OAA6B,EAAC;AACpC,IAAA,KAAA,MAAW,QAAQ,MAAA,EAAQ;AACzB,MAAA,IAAI,KAAK,IAAA,KAAS,KAAA,EAAO,IAAA,CAAK,IAAA,CAAK,KAAK,GAAG,CAAA;AAAA,WACtC,IAAA,CAAK,IAAA,CAAK,GAAG,IAAA,CAAK,OAAO,CAAA;AAAA,IAChC;AAEA,IAAA,OAAO,EAAE,WAAA,EAAa,MAAA,EAAQ,OAAA,EAAS,IAAA,EAAM,kBAAkB,UAAA,EAAW;AAAA,EAC5E,CAAA,EAAG,CAAC,QAAQ,CAAC,CAAA;AAEb,EAAA,MAAM,gBAAA,GAAmB,CAAC,EAAC,gBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,gBAAA,CAAkB,MAAA,CAAA;AAI7C,EAAA,MAAM,WAAA,GAAc,IAAA,KAAS,IAAA,IAAQ,IAAA,KAAS,KAAA;AAE9C,EAAA,MAAM,eAAA,GAAkBR,QAAQ,MAAM;AACpC,IAAA,IAAI,CAAC,aAAa,OAAO,UAAA;AACzB,IAAA,IAAI,IAAA,KAAS,MAAM,OAAO,UAAA;AAC1B,IAAA,IAAI,OAAO,SAAS,QAAA,EAAU;AAC5B,MAAA,MAAM,CAAA,GAAI,KAAK,IAAA,EAAK;AACpB,MAAA,IAAI,CAAC,CAAA,IAAK,CAAA,KAAM,MAAA,EAAQ,OAAO,UAAA;AAC/B,MAAA,OAAO,CAAA;AAAA,IACT;AACA,IAAA,OAAO,UAAA;AAAA,EACT,CAAA,EAAG,CAAC,IAAA,EAAM,WAAW,CAAC,CAAA;AAEtB,EAAA,MAAM,yBAAA,GAA4B,CAAC,WAAA,GAAc,gBAAA,GAAmB,KAAA;AAIpE,EAAA,MAAM,OAAA,GAAUA,QAAQ,MAAM;AAC5B,IAAA,IAAI,UAAA,YAAsB,eAAA,EAAiB,OAAO,UAAA,CAAW,QAAQ,EAAC;AACtE,IAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,UAAU,CAAA,EAAG,OAAO,UAAA;AACtC,IAAA,OAAO,EAAC;AAAA,EACV,CAAA,EAAG,CAAC,UAAU,CAAC,CAAA;AAEf,EAAA,MAAM,WAAA,GAAoCA,QAAQ,MAAM;AACtD,IAAA,IAAI,CAAC,OAAA,CAAQ,MAAA,EAAQ,OAAO,EAAC;AAC7B,IAAA,MAAM,KAAA,GAAQ,QAAQ,CAAC,CAAA;AACvB,IAAA,IAAI,UAAU,IAAA,IAAQ,OAAO,KAAA,KAAU,QAAA,SAAiB,EAAC;AACzD,IAAA,MAAM,IAAA,GAAO,MAAA,CAAO,IAAA,CAAK,KAAgC,CAAA;AAEzD,IAAA,OAAO,IAAA,CAAK,GAAA,CAAI,CAAC,GAAA,MAAS;AAAA,MACxB,SAAA,EAAW,GAAA;AAAA,MACX,KAAA,EAAO,GAAA;AAAA,MACP,QAAA,EAAU,IAAA;AAAA,MACV,SAAA,EAAW,IAAA;AAAA,MACX,KAAA,EAAO,MAAA;AAAA,MACP,MAAA,EAAQ,KAAA;AAAA,MACR,SAAA,EAAW,MAAA;AAAA,MACX,OAAA,EAAS,MAAA;AAAA,MACT,MAAA,EAAQ;AAAA,KACV,CAAE,CAAA;AAAA,EACJ,CAAA,EAAG,CAAC,OAAO,CAAC,CAAA;AAEZ,EAAA,MAAM,oBAAA,GAA6CA,QAAQ,MAAM;AAC/D,IAAA,IAAI,WAAA,CAAY,QAAQ,OAAO,WAAA;AAC/B,IAAA,OAAO,WAAA,CAAY,IAAI,CAAC,CAAA,MAAO,EAAE,IAAA,EAAM,KAAA,EAAO,GAAA,EAAK,CAAA,EAAE,CAAE,CAAA;AAAA,EACzD,CAAA,EAAG,CAAC,WAAA,EAAa,WAAW,CAAC,CAAA;AAE7B,EAAA,MAAM,gBAAA,GAAyCA,QAAQ,MAAM;AAC3D,IAAA,IAAI,OAAA,CAAQ,QAAQ,OAAO,OAAA;AAC3B,IAAA,OAAO,WAAA;AAAA,EACT,CAAA,EAAG,CAAC,OAAA,EAAS,WAAW,CAAC,CAAA;AAIzB,EAAA,MAAM,cAAA,GAAiB,CAAC,GAAA,KAA2C;AACjE,IAAA,MAAM,QAAA,GAAW,eAAA,CAAgB,OAAA,CAAQ,GAAA,CAAI,GAAG,CAAA;AAChD,IAAA,IAAI,OAAO,QAAA,KAAa,QAAA,EAAU,OAAO,QAAA;AAEzC,IAAA,IAAI,OAAO,GAAA,CAAI,KAAA,KAAU,QAAA,SAAiB,GAAA,CAAI,KAAA;AAC9C,IAAA,IAAI,GAAA,CAAI,KAAA,KAAU,MAAA,EAAQ,OAAO,IAAA;AAEjC,IAAA,OAAO,kBAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,aAAA,GAAgB,CAAC,GAAA,KAAoC;AACzD,IAAA,MAAM,EAAA,GAAK,eAAe,GAAG,CAAA;AAC7B,IAAA,IAAI,EAAA,KAAO,IAAA,EAAM,OAAO,CAAA,IAAA,EAAO,EAAE,CAAA,EAAA,CAAA;AACjC,IAAA,OAAO,OAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,cAAA,GAAiB,CAAC,GAAA,EAAyB,KAAA,KAAkB;AACjE,IAAA,eAAA,CAAgB,OAAA,CAAQ,GAAA,CAAI,GAAA,EAAK,KAAK,CAAA;AACtC,IAAA,OAAA,CAAQ,CAAC,CAAA,KAAM,CAAA,GAAI,CAAC,CAAA;AAAA,EACtB,CAAA;AAEA,EAAAN,UAAU,MAAM;AACd,IAAA,MAAM,MAAM,eAAA,CAAgB,OAAA;AAC5B,IAAA,KAAA,MAAW,OAAO,gBAAA,EAAkB;AAClC,MAAA,IAAI,CAAC,GAAA,CAAI,GAAA,CAAI,GAAG,CAAA,EAAG;AACjB,QAAA,MAAM,EAAA,GAAK,eAAe,GAAG,CAAA;AAC7B,QAAA,IAAI,EAAA,KAAO,IAAA,EAAM,GAAA,CAAI,GAAA,CAAI,KAAK,EAAE,CAAA;AAAA,MAClC;AAAA,IACF;AAAA,EAEF,CAAA,EAAG,CAAC,gBAAgB,CAAC,CAAA;AAIrB,EAAA,MAAM,oBAAoB,MAAc;AACtC,IAAA,KAAA,IAAS,IAAI,gBAAA,CAAiB,MAAA,GAAS,CAAA,EAAG,CAAA,IAAK,GAAG,CAAA,EAAA,EAAK;AACrD,MAAA,IAAI,gBAAA,CAAiB,CAAC,CAAA,CAAE,MAAA,EAAQ,OAAO,CAAA;AAAA,IACzC;AACA,IAAA,OAAO,EAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,gBAAA,GAAmB,mBAAkB,IAAK,CAAA;AAEhD,EAAA,MAAM,cAAA,GAAiB,CAAC,GAAA,KAAqC;AAC3D,IAAA,MAAM,MAAM,iBAAA,EAAkB;AAC9B,IAAA,IAAI,GAAA,GAAM,GAAG,OAAO,KAAA;AACpB,IAAA,MAAM,GAAA,GAAM,gBAAA,CAAiB,OAAA,CAAQ,GAAG,CAAA;AACxC,IAAA,IAAI,GAAA,KAAQ,IAAI,OAAO,KAAA;AACvB,IAAA,OAAO,GAAA,IAAO,GAAA;AAAA,EAChB,CAAA;AAEA,EAAA,MAAM,2BAAA,GAA8B,CAAC,IAAA,KAIvB;AACZ,IAAA,MAAM,aAAA,GAAA,CAAgB,6BAAM,aAAA,KAAiB,IAAA;AAC7C,IAAA,MAAM,aAAA,GAAA,CAAgB,6BAAM,aAAA,KAAiB,IAAA;AAC7C,IAAA,MAAM,gBAAA,GAAA,CAAmB,6BAAM,gBAAA,KAAoB,IAAA;AAEnD,IAAA,IAAI,IAAA,GAAO,CAAA;AAGX,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,IAAI,gBAAA,IAAoB,CAAC,CAAC,aAAA,EAAe,IAAA,IAAQ,oBAAA;AACjD,MAAA,IAAI,aAAA,IAAiB,kBAAkB,IAAA,IAAQ,iBAAA;AAAA,IACjD;AAEA,IAAA,IAAI,aAAA,IAAiB,2BAA2B,IAAA,IAAQ,iBAAA;AAExD,IAAA,OAAO,IAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,4BAAA,GAA+B,MACnC,2BAAA,CAA4B;AAAA,IAC1B,gBAAA,EAAkB,KAAA;AAAA,IAClB,aAAA,EAAe,KAAA;AAAA,IACf,aAAA,EAAe;AAAA,GAChB,CAAA;AAEH,EAAA,MAAM,+BAAA,GAAkC,MACtC,2BAAA,CAA4B;AAAA,IAC1B,gBAAA,EAAkB,KAAA;AAAA,IAClB,aAAA,EAAe,IAAA;AAAA,IACf,aAAA,EAAe;AAAA,GAChB,CAAA;AAEH,EAAA,MAAM,4BAAA,GAA+B,MACnC,2BAAA,CAA4B;AAAA,IAC1B,gBAAA,EAAkB,IAAA;AAAA,IAClB,aAAA,EAAe,IAAA;AAAA,IACf,aAAA,EAAe;AAAA,GAChB,CAAA;AAEH,EAAA,MAAM,mBAAA,GAAsB,CAAC,GAAA,KAA2C;AACtE,IAAA,IAAI,CAAC,cAAA,CAAe,GAAG,CAAA,EAAG,OAAO,IAAA;AAEjC,IAAA,MAAM,MAAM,iBAAA,EAAkB;AAC9B,IAAA,IAAI,GAAA,GAAM,GAAG,OAAO,IAAA;AAEpB,IAAA,MAAM,GAAA,GAAM,gBAAA,CAAiB,OAAA,CAAQ,GAAG,CAAA;AACxC,IAAA,IAAI,GAAA,KAAQ,EAAA,IAAM,GAAA,GAAM,GAAA,EAAK,OAAO,IAAA;AAEpC,IAAA,IAAI,IAAA,GAAO,CAAA;AACX,IAAA,IAAA,IAAQ,2BAAA,EAA4B;AAEpC,IAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,GAAA,EAAK,CAAA,EAAA,EAAK;AAC5B,MAAA,MAAM,CAAA,GAAI,iBAAiB,CAAC,CAAA;AAC5B,MAAA,IAAI,CAAC,cAAA,CAAe,CAAC,CAAA,EAAG;AAExB,MAAA,MAAM,CAAA,GAAI,eAAe,CAAC,CAAA;AAC1B,MAAA,IAAI,CAAA,KAAM,MAAM,OAAO,IAAA;AACvB,MAAA,IAAA,IAAQ,CAAA;AAAA,IACV;AAEA,IAAA,OAAO,IAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,gBAAA,GAAmB,CAAC,GAAA,KAAoC;AAG5D,IAAA,MAAM,MAAM,iBAAA,EAAkB;AAC9B,IAAA,IAAI,GAAA,GAAM,GAAG,OAAO,CAAA;AAEpB,IAAA,MAAM,GAAA,GAAM,gBAAA,CAAiB,OAAA,CAAQ,GAAG,CAAA;AACxC,IAAA,IAAI,GAAA,KAAQ,IAAI,OAAO,CAAA;AAEvB,IAAA,MAAM,IAAA,GAAO,EAAA;AACb,IAAA,OAAO,QAAQ,GAAA,GAAM,GAAA,CAAA;AAAA,EACvB,CAAA;AAIA,EAAAA,UAAU,MAAM;AA5kBlB,IAAA,IAAA,EAAA,EAAA,EAAA;AA6kBI,IAAA,MAAM,mBAAmB,MAAM;AAC7B,MAAA,oBAAA;AAAA,QACE,UAAA,YAAsB,eAAA,GAAkB,UAAA,CAAW,MAAA,GAAS;AAAA,OAC9D;AAAA,IACF,CAAA;AAEA,IAAA,MAAM,aAAA,GAAgB,CAAC,KAAA,KAAe;AACpC,MAAA,WAAA,CAAY,QAAQ,KAAA,EAAM;AAC1B,MAAA,YAAA,CAAa,UAAU,EAAC;AAExB,MAAA,MAAM,WAAA,GAAc,CAAC,GAAA,KAAgB;AACnC,QAAA,MAAM,CAAA,GAAI,GAAA;AACV,QAAA,MAAM,QAAQ,CAAA,IAAA,IAAA,GAAA,MAAA,GAAA,CAAA,CAAI,eAAA,CAAA;AAClB,QAAA,OAAO,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,GAAK,QAAgB,EAAC;AAAA,MAClD,CAAA;AAEA,MAAA,MAAM,gCAAgC,MAAqB;AACzD,QAAA,IAAI,CAAC,aAAa,OAAO,IAAA;AACzB,QAAA,IAAI,sBAAA,KAA2B,MAAM,OAAO,IAAA;AAC5C,QAAA,MAAM,CAAA,GAAI,OAAO,sBAAsB,CAAA;AACvC,QAAA,IAAI,CAAC,MAAA,CAAO,QAAA,CAAS,CAAC,CAAA,IAAK,CAAA,IAAK,GAAG,OAAO,IAAA;AAC1C,QAAA,OAAO,CAAA,GAAI,CAAA;AAAA,MACb,CAAA;AAEA,MAAA,MAAM,sBAAA,GAAyB,CAC7B,KAAA,EACA,eAAA,KACG;AACH,QAAA,IAAI,CAAC,iBAAiB,OAAO,KAAA;AAC7B,QAAA,MAAM,MAAM,6BAAA,EAA8B;AAC1C,QAAA,IAAI,GAAA,KAAQ,MAAM,OAAO,KAAA;AACzB,QAAA,OAAO,KAAA,IAAS,GAAA;AAAA,MAClB,CAAA;AAEA,MAAA,MAAM,KAAA,GAAQ,CAAC,GAAA,EAAQ,KAAA,EAAe,MAAA,KAAqB;AACzD,QAAA,MAAMe,SAAAA,GAAW,YAAY,GAAG,CAAA;AAChC,QAAA,MAAM,eAAA,GAAkBA,UAAS,MAAA,GAAS,CAAA;AAC1C,QAAA,MAAM,QAAA,GAAW,sBAAA,CAAuB,KAAA,EAAO,eAAe,CAAA;AAE9D,QAAA,IAAI,MAAA,KAAW,IAAA,EAAM,YAAA,CAAa,OAAA,CAAQ,KAAK,GAAG,CAAA;AAClD,QAAA,WAAA,CAAY,OAAA,CAAQ,IAAI,GAAA,EAAK;AAAA,UAC3B,KAAA;AAAA,UACA,MAAA;AAAA,UACA,WAAA,EAAa,eAAA;AAAA,UACb;AAAA,SACD,CAAA;AAED,QAAAA,SAAAA,CAAS,QAAQ,CAAC,CAAA,KAAM,MAAM,CAAA,EAAG,KAAA,GAAQ,CAAA,EAAG,GAAG,CAAC,CAAA;AAAA,MAClD,CAAA;AAEA,MAAA,CAAC,KAAA,IAAS,EAAC,EAAG,OAAA,CAAQ,CAAC,MAAM,KAAA,CAAM,CAAA,EAAG,CAAA,EAAG,IAAI,CAAC,CAAA;AAAA,IAChD,CAAA;AAEA,IAAA,MAAM,uBAAA,GAA0B,CAAC,WAAA,KAA+B;AAC9D,MAAA,MAAM,MAAW,EAAC;AAElB,MAAA,MAAM,aAAA,GAAgB,CAAC,GAAA,KAAW;AAChC,QAAA,GAAA,CAAI,KAAK,GAAG,CAAA;AACZ,QAAA,MAAM,IAAA,GAAO,WAAA,CAAY,OAAA,CAAQ,GAAA,CAAI,GAAG,CAAA;AACxC,QAAA,IAAI,EAAC,6BAAM,QAAA,CAAA,EAAU;AAErB,QAAA,MAAMA,SAAAA,GAAW,YAAY,GAAG,CAAA;AAChC,QAAA,KAAA,MAAW,KAAA,IAASA,SAAAA,EAAU,aAAA,CAAc,KAAK,CAAA;AAAA,MACnD,CAAA;AAEA,MAAA,KAAA,MAAW,IAAA,IAAQ,YAAA,CAAa,OAAA,EAAS,aAAA,CAAc,IAAI,CAAA;AAC3D,MAAA,eAAA,CAAgB,GAAG,CAAA;AACnB,MAAA,gBAAA,EAAiB;AAAA,IACnB,CAAA;AAEA,IAAA,MAAM,WAAA,GAAc,CAAC,KAAA,KAAe;AAClC,MAAA,MAAM,WAAA,GAAc,CAAC,GAAA,KAAgB;AACnC,QAAA,MAAM,CAAA,GAAI,GAAA;AACV,QAAA,MAAM,QAAQ,CAAA,IAAA,IAAA,GAAA,MAAA,GAAA,CAAA,CAAI,eAAA,CAAA;AAClB,QAAA,OAAO,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,GAAK,QAAgB,EAAC;AAAA,MAClD,CAAA;AAEA,MAAA,aAAA,CAAc,KAAK,CAAA;AACnB,MAAA,uBAAA,CAAwB,WAAW,CAAA;AAAA,IACrC,CAAA;AAGA,IAAA,IAAI,WAAA,EAAa;AACf,MAAA,IAAI,sBAAsB,eAAA,EAAiB;AACzC,QAAA,aAAA;AAAA,UAAA,CAAA,CACE,EAAA,GAAA,UAAA,CAAW,IAAA,KAAX,IAAA,GAAA,MAAA,GAAA,EAAA,CAAiB,MAAA,IAAS,WAAW,IAAA,CAAK,GAAA,CAAI,CAAC,CAAA,MAAO,EAAE,GAAG,CAAA,EAAE,CAAE,IAAI;AAAC,SACtE;AACA,QAAA,MAAM,KAAA,GAAQ,WAAW,OAAA,CAAQ,CAAC,SAAS,WAAA,CAAY,IAAA,IAAQ,EAAE,CAAC,CAAA;AAClE,QAAA,OAAO,MAAM,KAAA,EAAM;AAAA,MACrB;AAEA,MAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,UAAU,CAAA,EAAG;AAC7B,QAAA,aAAA,CAAc,EAAE,CAAA;AAChB,QAAA,WAAA,CAAY,UAAU,CAAA;AACtB,QAAA;AAAA,MACF;AAEA,MAAA,aAAA,CAAc,EAAE,CAAA;AAChB,MAAA,eAAA,CAAgB,EAAE,CAAA;AAClB,MAAA,gBAAA,EAAiB;AACjB,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,sBAAsB,eAAA,EAAiB;AACzC,MAAA,aAAA;AAAA,QAAA,CAAA,CACE,EAAA,GAAA,UAAA,CAAW,IAAA,KAAX,IAAA,GAAA,MAAA,GAAA,EAAA,CAAiB,MAAA,IAAS,WAAW,IAAA,CAAK,GAAA,CAAI,CAAC,CAAA,MAAO,EAAE,GAAG,CAAA,EAAE,CAAE,IAAI;AAAC,OACtE;AAEA,MAAA,MAAM,KAAA,GAAQ,UAAA,CAAW,OAAA,CAAQ,CAAC,IAAA,KAAS;AACzC,QAAA,eAAA,CAAgB,IAAA,IAAQ,EAAE,CAAA;AAC1B,QAAA,gBAAA,EAAiB;AAAA,MACnB,CAAC,CAAA;AAED,MAAA,OAAO,MAAM,KAAA,EAAM;AAAA,IACrB;AAEA,IAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,UAAU,CAAA,EAAG;AAC7B,MAAA,aAAA,CAAc,EAAE,CAAA;AAChB,MAAA,eAAA,CAAgB,UAAU,CAAA;AAC1B,MAAA,gBAAA,EAAiB;AACjB,MAAA;AAAA,IACF;AAEA,IAAA,aAAA,CAAc,EAAE,CAAA;AAChB,IAAA,eAAA,CAAgB,EAAE,CAAA;AAClB,IAAA,gBAAA,EAAiB;AAAA,EACnB,GAAG,CAAC,UAAA,EAAY,WAAA,EAAa,eAAA,EAAiB,sBAAsB,CAAC,CAAA;AAIrE,EAAA,MAAM,eAAA,GAAkB,CAAC,GAAA,KAAgB;AACvC,IAAA,IAAI,CAAC,WAAA,IAAe,CAAC,GAAA,SAAY,EAAC;AAClC,IAAA,MAAM,CAAA,GAAI,GAAA;AACV,IAAA,MAAM,QAAQ,CAAA,IAAA,IAAA,GAAA,MAAA,GAAA,CAAA,CAAI,eAAA,CAAA;AAClB,IAAA,OAAO,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,GAAK,QAAgB,EAAC;AAAA,EAClD,CAAA;AAEA,EAAA,MAAM,kBAAA,GAAqB,CAAC,GAAA,KAAgB;AAC1C,IAAA,MAAM,MAAW,EAAC;AAClB,IAAA,MAAM,KAAA,GAAQ,CAAC,CAAA,KAAS;AACtB,MAAA,MAAMA,SAAAA,GAAW,gBAAgB,CAAC,CAAA;AAClC,MAAA,KAAA,MAAW,SAASA,SAAAA,EAAU;AAC5B,QAAA,GAAA,CAAI,KAAK,KAAK,CAAA;AACd,QAAA,KAAA,CAAM,KAAK,CAAA;AAAA,MACb;AAAA,IACF,CAAA;AACA,IAAA,KAAA,CAAM,GAAG,CAAA;AACT,IAAA,OAAO,GAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,WAAA,GAAc,CAAC,GAAA,KAAoB;AApuB3C,IAAA,IAAA,EAAA;AAquBI,IAAA,IAAI,CAAC,aAAa,OAAO,KAAA;AACzB,IAAA,OAAA,CAAA,CAAO,iBAAY,OAAA,CAAQ,GAAA,CAAI,GAAG,CAAA,KAA3B,mBAA8B,WAAA,KAAe,KAAA;AAAA,EACtD,CAAA;AAEA,EAAA,MAAM,aAAA,GAAgB,CAAC,GAAA,KAAoB;AACzC,IAAA,IAAI,CAAC,WAAA,EAAa,OAAO,YAAA,CAAa,IAAI,GAAG,CAAA;AAE7C,IAAA,MAAM,WAAA,GAAc,mBAAmB,GAAG,CAAA;AAC1C,IAAA,IAAI,CAAC,WAAA,CAAY,MAAA,EAAQ,OAAO,YAAA,CAAa,IAAI,GAAG,CAAA;AAEpD,IAAA,MAAM,QAAQ,WAAA,CAAY,MAAA;AAC1B,IAAA,MAAM,mBAAmB,WAAA,CAAY,MAAA;AAAA,MAAO,CAAC,CAAA,KAC3C,YAAA,CAAa,GAAA,CAAI,CAAC;AAAA,KACpB,CAAE,MAAA;AAEF,IAAA,MAAM,mBAAA,GAAsB,KAAA,GAAQ,CAAA,IAAK,gBAAA,KAAqB,KAAA;AAC9D,IAAA,MAAM,sBAAsB,gBAAA,GAAmB,CAAA;AAE/C,IAAA,IAAI,mBAAA,IAAuB,YAAA,CAAa,GAAA,CAAI,GAAG,GAAG,OAAO,IAAA;AACzD,IAAA,IAAI,mBAAA,IAAuB,CAAC,mBAAA,EAAqB,OAAO,KAAA;AAExD,IAAA,OAAO,YAAA,CAAa,IAAI,GAAG,CAAA;AAAA,EAC7B,CAAA;AAEA,EAAA,MAAM,mBAAA,GAAsB,CAAC,GAAA,KAAoB;AAC/C,IAAA,IAAI,CAAC,aAAa,OAAO,KAAA;AAEzB,IAAA,MAAM,WAAA,GAAc,mBAAmB,GAAG,CAAA;AAC1C,IAAA,IAAI,CAAC,WAAA,CAAY,MAAA,EAAQ,OAAO,KAAA;AAEhC,IAAA,MAAM,QAAQ,WAAA,CAAY,MAAA;AAC1B,IAAA,MAAM,mBAAmB,WAAA,CAAY,MAAA;AAAA,MAAO,CAAC,CAAA,KAC3C,YAAA,CAAa,GAAA,CAAI,CAAC;AAAA,KACpB,CAAE,MAAA;AAEF,IAAA,MAAM,mBAAA,GAAsB,KAAA,GAAQ,CAAA,IAAK,gBAAA,KAAqB,KAAA;AAC9D,IAAA,MAAM,sBAAsB,gBAAA,GAAmB,CAAA;AAE/C,IAAA,OAAO,uBAAuB,CAAC,mBAAA;AAAA,EACjC,CAAA;AAEA,EAAA,MAAM,qBAAqB,MAAe;AACxC,IAAA,IAAI,CAAC,aAAA,IAAiB,CAAC,YAAA,CAAa,QAAQ,OAAO,KAAA;AACnD,IAAA,OAAO,aAAa,KAAA,CAAM,CAAC,CAAA,KAAM,aAAA,CAAc,CAAC,CAAC,CAAA;AAAA,EACnD,CAAA;AAEA,EAAA,MAAM,sBAAsB,MAAe;AACzC,IAAA,IAAI,CAAC,aAAA,IAAiB,CAAC,YAAA,CAAa,QAAQ,OAAO,KAAA;AACnD,IAAA,MAAM,cAAc,YAAA,CAAa,IAAA;AAAA,MAC/B,CAAC,CAAA,KAAM,aAAA,CAAc,CAAC,CAAA,IAAK,oBAAoB,CAAC;AAAA,KAClD;AACA,IAAA,OAAO,WAAA,IAAe,CAAC,kBAAA,EAAmB;AAAA,EAC5C,CAAA;AAEA,EAAA,MAAM,mBAAA,GAAsB,CAAC,WAAA,EAAuB,IAAA,KAAiB;AACnE,IAAA,IAAI,CAAC,aAAA,EAAe;AACpB,IAAA,iBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,iBAAA,CAAoB,EAAE,QAAA,EAAU,KAAA,CAAM,IAAA,CAAK,IAAI,GAAG,WAAA,EAAY,CAAA;AAAA,EAChE,CAAA;AAEA,EAAA,MAAM,wBAAA,GAA2B,CAAC,GAAA,EAAQ,IAAA,KAAiB;AAhyB7D,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA;AAiyBI,IAAA,IAAI,CAAC,WAAA,EAAa;AAElB,IAAA,IAAI,YAAU,EAAA,GAAA,WAAA,CAAY,OAAA,CAAQ,IAAI,GAAG,CAAA,KAA3B,mBAA8B,MAAA,KAAU,IAAA;AAEtD,IAAA,OAAO,OAAA,EAAS;AACd,MAAA,MAAM,WAAA,GAAc,mBAAmB,OAAO,CAAA;AAC9C,MAAA,IAAI,CAAC,YAAY,MAAA,EAAQ;AACvB,QAAA,OAAA,GAAA,CAAA,CAAU,iBAAY,OAAA,CAAQ,GAAA,CAAI,OAAO,CAAA,KAA/B,mBAAkC,MAAA,KAAU,IAAA;AACtD,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,QAAQ,WAAA,CAAY,MAAA;AAC1B,MAAA,MAAM,gBAAA,GAAmB,YAAY,MAAA,CAAO,CAAC,MAAM,IAAA,CAAK,GAAA,CAAI,CAAC,CAAC,CAAA,CAAE,MAAA;AAEhE,MAAA,IAAI,gBAAA,KAAqB,CAAA,EAAG,IAAA,CAAK,MAAA,CAAO,OAAO,CAAA;AAAA,WAAA,IACtC,gBAAA,KAAqB,KAAA,EAAO,IAAA,CAAK,GAAA,CAAI,OAAO,CAAA;AAAA,WAChD,IAAA,CAAK,OAAO,OAAO,CAAA;AAExB,MAAA,OAAA,GAAA,CAAA,CAAU,iBAAY,OAAA,CAAQ,GAAA,CAAI,OAAO,CAAA,KAA/B,mBAAkC,MAAA,KAAU,IAAA;AAAA,IACxD;AAAA,EACF,CAAA;AAEA,EAAA,MAAM,kBAAA,GAAqB,CAAC,GAAA,EAAQ,QAAA,EAAmB,IAAA,KAAiB;AACtE,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,IAAI,QAAA,EAAU,IAAA,CAAK,GAAA,CAAI,GAAG,CAAA;AAAA,WACrB,IAAA,CAAK,OAAO,GAAG,CAAA;AACpB,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,MAAM,CAAC,GAAA,EAAK,GAAG,kBAAA,CAAmB,GAAG,CAAC,CAAA;AAC5C,IAAA,IAAI,QAAA,MAAc,OAAA,CAAQ,CAAC,MAAM,IAAA,CAAK,GAAA,CAAI,CAAC,CAAC,CAAA;AAAA,aACnC,OAAA,CAAQ,CAAC,MAAM,IAAA,CAAK,MAAA,CAAO,CAAC,CAAC,CAAA;AAAA,EACxC,CAAA;AAEA,EAAA,MAAM,oBAAA,GAAuB,CAAC,GAAA,KAAW;AACvC,IAAA,IAAI,CAAC,aAAA,EAAe;AAEpB,IAAA,IAAI,kBAAkB,QAAA,EAAU;AAC9B,MAAA,MAAMC,KAAAA,uBAAW,GAAA,EAAO;AACxB,MAAAA,KAAAA,CAAK,IAAI,GAAG,CAAA;AACZ,MAAA,eAAA,CAAgBA,KAAI,CAAA;AACpB,MAAA,mBAAA,CAAoB,KAAKA,KAAI,CAAA;AAC7B,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,WAAA,EAAa;AACf,MAAA,MAAMA,KAAAA,GAAO,IAAI,GAAA,CAAI,YAAY,CAAA;AAEjC,MAAA,IAAI,WAAA,CAAY,GAAG,CAAA,EAAG;AACpB,QAAA,MAAM,gBAAA,GAAmB,cAAc,GAAG,CAAA;AAC1C,QAAA,kBAAA,CAAmB,GAAA,EAAK,CAAC,gBAAA,EAAkBA,KAAI,CAAA;AAAA,MACjD,CAAA,MAAO;AACL,QAAA,IAAIA,MAAK,GAAA,CAAI,GAAG,GAAGA,KAAAA,CAAK,OAAO,GAAG,CAAA;AAAA,aAC7BA,KAAAA,CAAK,GAAA,CAAI,GAAG,CAAA;AAAA,MACnB;AAEA,MAAA,wBAAA,CAAyB,KAAKA,KAAI,CAAA;AAClC,MAAA,eAAA,CAAgBA,KAAI,CAAA;AACpB,MAAA,mBAAA,CAAoB,KAAKA,KAAI,CAAA;AAC7B,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAA,GAAO,IAAI,GAAA,CAAI,YAAY,CAAA;AACjC,IAAA,IAAI,KAAK,GAAA,CAAI,GAAG,CAAA,EAAG,IAAA,CAAK,OAAO,GAAG,CAAA;AAAA,SAC7B,IAAA,CAAK,IAAI,GAAG,CAAA;AACjB,IAAA,eAAA,CAAgB,IAAI,CAAA;AACpB,IAAA,mBAAA,CAAoB,KAAK,IAAI,CAAA;AAAA,EAC/B,CAAA;AAEA,EAAA,MAAM,qBAAqB,MAAM;AAC/B,IAAA,IAAI,kBAAkB,UAAA,EAAY;AAElC,IAAA,MAAM,YAAA,GAAe,CAAC,kBAAA,EAAmB;AAEzC,IAAA,IAAI,WAAA,EAAa;AACf,MAAA,MAAMA,KAAAA,GAAO,IAAI,GAAA,CAAI,YAAY,CAAA;AACjC,MAAA,MAAM,KAAA,GAAQ,CAAC,GAAG,YAAA,CAAa,OAAO,CAAA;AAEtC,MAAA,KAAA,CAAM,OAAA,CAAQ,CAAC,CAAA,KAAM;AACnB,QAAA,kBAAA,CAAmB,CAAA,EAAG,cAAcA,KAAI,CAAA;AACxC,QAAA,wBAAA,CAAyB,GAAGA,KAAI,CAAA;AAAA,MAClC,CAAC,CAAA;AAED,MAAA,eAAA,CAAgBA,KAAI,CAAA;AACpB,MAAA,mBAAA,CAAoB,MAAMA,KAAI,CAAA;AAC9B,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAA,GAAO,IAAI,GAAA,CAAI,YAAY,CAAA;AACjC,IAAA,IAAI,YAAA,eAA2B,OAAA,CAAQ,CAAC,MAAM,IAAA,CAAK,GAAA,CAAI,CAAC,CAAC,CAAA;AAAA,sBACvC,OAAA,CAAQ,CAAC,MAAM,IAAA,CAAK,MAAA,CAAO,CAAC,CAAC,CAAA;AAE/C,IAAA,eAAA,CAAgB,IAAI,CAAA;AACpB,IAAA,mBAAA,CAAoB,MAAM,IAAI,CAAA;AAAA,EAChC,CAAA;AAIA,EAAA,MAAM,gBAAA,GAAmB,CAAC,GAAA,KAAqC;AAp4BjE,IAAA,IAAA,EAAA,EAAA,EAAA;AAq4BI,IAAA,IAAI,CAAC,aAAa,OAAO,KAAA;AAEzB,IAAA,MAAM,MAAA,GAAA,CAAU,UAAA,IAAc,EAAA,EAAI,IAAA,EAAK;AACvC,IAAA,MAAM,IAAA,GAAO,MAAA,GAAA,CACT,EAAA,GAAA,gBAAA,CAAiB,IAAA,CAAK,CAAC,MAAM,CAAC,CAAC,CAAA,CAAE,SAAA,IAAa,CAAA,CAAE,SAAA,KAAc,MAAM,CAAA,KAApE,IAAA,GAAA,MAAA,GAAA,EAAA,CACI,SAAA,GAAA,CACJ,EAAA,GAAA,gBAAA,CAAiB,IAAA,CAAK,CAAC,CAAA,KAAM,CAAC,CAAC,CAAA,CAAE,SAAS,CAAA,KAA1C,IAAA,GAAA,MAAA,GAAA,EAAA,CAA6C,SAAA;AAEjD,IAAA,IAAI,CAAC,MAAM,OAAO,KAAA;AAClB,IAAA,OAAO,CAAC,CAAC,GAAA,CAAI,SAAA,IAAa,IAAI,SAAA,KAAc,IAAA;AAAA,EAC9C,CAAA;AAEA,EAAA,MAAM,cAAA,GAAiB,CAAC,GAAA,KAAoB;AAj5B9C,IAAA,IAAA,EAAA;AAk5BI,IAAA,IAAI,CAAC,aAAa,OAAO,KAAA;AACzB,IAAA,OAAA,CAAA,CAAO,iBAAY,OAAA,CAAQ,GAAA,CAAI,GAAG,CAAA,KAA3B,mBAA8B,QAAA,KAAY,KAAA;AAAA,EACnD,CAAA;AAEA,EAAA,MAAM,kBAAkB,MAAe;AACrC,IAAA,IAAI,CAAC,WAAA,IAAe,CAAC,YAAA,CAAa,OAAA,CAAQ,QAAQ,OAAO,KAAA;AACzD,IAAA,OAAO,YAAA,CAAa,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,KAAM;AACtC,MAAA,MAAM,IAAA,GAAO,WAAA,CAAY,OAAA,CAAQ,GAAA,CAAI,CAAC,CAAA;AACtC,MAAA,OAAO,CAAC,EAAC,IAAA,IAAA,IAAA,GAAA,MAAA,GAAA,IAAA,CAAM,WAAA,CAAA,IAAe,CAAC,EAAC,IAAA,IAAA,IAAA,GAAA,MAAA,GAAA,IAAA,CAAM,QAAA,CAAA;AAAA,IACxC,CAAC,CAAA;AAAA,EACH,CAAA;AAEA,EAAA,MAAM,kBAAkB,MAAe;AACrC,IAAA,IAAI,CAAC,WAAA,IAAe,CAAC,YAAA,CAAa,OAAA,CAAQ,QAAQ,OAAO,KAAA;AACzD,IAAA,KAAA,MAAW,IAAA,IAAQ,WAAA,CAAY,OAAA,CAAQ,MAAA,EAAO,EAAG;AAC/C,MAAA,IAAI,IAAA,CAAK,WAAA,IAAe,CAAC,IAAA,CAAK,UAAU,OAAO,KAAA;AAAA,IACjD;AACA,IAAA,OAAO,IAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,sBAAsB,MAAM;AAChC,IAAA,MAAM,MAAW,EAAC;AAClB,IAAA,MAAM,aAAA,GAAgB,CAAC,GAAA,KAAW;AAChC,MAAA,GAAA,CAAI,KAAK,GAAG,CAAA;AACZ,MAAA,MAAM,IAAA,GAAO,WAAA,CAAY,OAAA,CAAQ,GAAA,CAAI,GAAG,CAAA;AACxC,MAAA,IAAI,EAAC,6BAAM,QAAA,CAAA,EAAU;AAErB,MAAA,MAAMD,SAAAA,GAAW,gBAAgB,GAAG,CAAA;AACpC,MAAA,KAAA,MAAW,KAAA,IAASA,SAAAA,EAAU,aAAA,CAAc,KAAK,CAAA;AAAA,IACnD,CAAA;AAEA,IAAA,KAAA,MAAW,IAAA,IAAQ,YAAA,CAAa,OAAA,EAAS,aAAA,CAAc,IAAI,CAAA;AAC3D,IAAA,eAAA,CAAgB,GAAG,CAAA;AAAA,EACrB,CAAA;AAEA,EAAA,MAAM,kBAAkB,MAAM;AAC5B,IAAA,IAAI,CAAC,WAAA,EAAa;AAClB,IAAA,MAAM,YAAA,GAAe,CAAC,eAAA,EAAgB;AACtC,IAAA,WAAA,CAAY,OAAA,CAAQ,OAAA,CAAQ,CAAC,IAAA,KAAS;AACpC,MAAA,IAAI,IAAA,CAAK,WAAA,EAAa,IAAA,CAAK,QAAA,GAAW,YAAA;AAAA,IACxC,CAAC,CAAA;AACD,IAAA,mBAAA,EAAoB;AAAA,EACtB,CAAA;AAGA,EAAA,MAAM,YAAA,GAAe,CAAC,GAAA,EAAQ,KAAA,KAAuB;AACnD,IAAA,KAAA,IAAA,IAAA,GAAA,MAAA,GAAA,KAAA,CAAO,eAAA,EAAA;AACP,IAAA,IAAI,CAAC,WAAA,EAAa;AAClB,IAAA,MAAM,IAAA,GAAO,WAAA,CAAY,OAAA,CAAQ,GAAA,CAAI,GAAG,CAAA;AACxC,IAAA,IAAI,CAAC,IAAA,IAAQ,CAAC,IAAA,CAAK,WAAA,EAAa;AAChC,IAAA,IAAA,CAAK,QAAA,GAAW,CAAC,IAAA,CAAK,QAAA;AACtB,IAAA,mBAAA,EAAoB;AAAA,EACtB,CAAA;AAEA,EAAA,MAAM,WAAA,GAAc,CAAC,GAAA,KAAmB;AAx8B1C,IAAA,IAAA,EAAA;AAy8BI,IAAA,IAAI,CAAC,aAAa,OAAO,CAAA;AACzB,IAAA,OAAA,CAAA,CAAO,iBAAY,OAAA,CAAQ,GAAA,CAAI,GAAG,CAAA,KAA3B,mBAA8B,KAAA,KAAS,CAAA;AAAA,EAChD,CAAA;AAEA,EAAA,MAAM,eAAA,GAAkB,CAAC,GAAA,KAAmB,WAAA,CAAY,GAAG,CAAA,GAAI,UAAA;AAI/D,EAAA,MAAM,aAAA,GAAgB,CAAC,GAAA,KAAW,WAAA,CAAY,IAAI,GAAG,CAAA;AAErD,EAAA,MAAM,WAAA,GAAc,CAAC,GAAA,EAAQ,QAAA,KAAsB;AACjD,IAAA,IAAI,CAAC,gBAAA,EAAkB;AAEvB,IAAA,cAAA,CAAe,CAAC,IAAA,KAAS;AACvB,MAAA,MAAM,YAAA,GAAe,CAAC,EAAC,gBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,gBAAA,CAAkB,YAAA,CAAA;AACzC,MAAA,MAAM,GAAA,GAAM,IAAA,CAAK,GAAA,CAAI,GAAG,CAAA;AACxB,MAAA,IAAI,QAAA,KAAa,KAAK,OAAO,IAAA;AAE7B,MAAA,MAAM,IAAA,GAAO,IAAI,GAAA,CAAI,IAAI,CAAA;AAEzB,MAAA,IAAI,QAAA,EAAU;AACZ,QAAA,IAAI,YAAA,EAAc;AAChB,UAAA,MAAM,UAAA,GAAa,MAAM,IAAA,CAAK,IAAI,EAAE,MAAA,CAAO,CAAC,CAAA,KAAM,CAAA,KAAM,GAAG,CAAA;AAC3D,UAAA,UAAA,CAAW,OAAA;AAAA,YAAQ,CAAC,CAAA,KAClB,iBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,iBAAA,CAAoB,EAAE,GAAA,EAAK,CAAA,EAAG,UAAU,KAAA,EAAM;AAAA,WAChD;AACA,UAAA,IAAA,CAAK,KAAA,EAAM;AAAA,QACb;AACA,QAAA,IAAA,CAAK,IAAI,GAAG,CAAA;AACZ,QAAA,iBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,iBAAA,CAAoB,EAAE,GAAA,EAAK,QAAA,EAAU,IAAA,EAAK,CAAA;AAAA,MAC5C,CAAA,MAAO;AACL,QAAA,IAAA,CAAK,OAAO,GAAG,CAAA;AACf,QAAA,iBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,iBAAA,CAAoB,EAAE,GAAA,EAAK,QAAA,EAAU,KAAA,EAAM,CAAA;AAAA,MAC7C;AAEA,MAAA,oBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,oBAAA,CAAuB,KAAA,CAAM,KAAK,IAAI,CAAA,CAAA;AACtC,MAAA,OAAO,IAAA;AAAA,IACT,CAAC,CAAA;AAAA,EACH,CAAA;AAEA,EAAA,MAAM,qBAAqB,MAAe;AACxC,IAAA,IAAI,CAAC,gBAAA,IAAoB,CAAC,YAAA,CAAa,QAAQ,OAAO,KAAA;AACtD,IAAA,OAAO,aAAa,KAAA,CAAM,CAAC,MAAM,WAAA,CAAY,GAAA,CAAI,CAAC,CAAC,CAAA;AAAA,EACrD,CAAA;AAEA,EAAA,MAAM,sBAAsB,MAAM;AAChC,IAAA,IAAI,CAAC,gBAAA,EAAkB;AACvB,IAAA,MAAM,YAAA,GAAe,CAAC,kBAAA,EAAmB;AAEzC,IAAA,IAAI,YAAA,EAAc;AAChB,MAAA,MAAM,YAAA,GAAe,CAAC,EAAC,gBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,gBAAA,CAAkB,YAAA,CAAA;AACzC,MAAA,IAAI,YAAA,EAAc;AAChB,QAAA,MAAM,KAAA,GAAQ,aAAa,CAAC,CAAA;AAC5B,QAAA,cAAA,CAAe,CAAC,IAAA,KAAS;AACvB,UAAA,MAAM,IAAA,uBAAW,GAAA,EAAO;AACxB,UAAA,KAAA,CAAM,IAAA,CAAK,IAAI,CAAA,CAAE,OAAA;AAAA,YAAQ,CAAC,CAAA,KACxB,iBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,iBAAA,CAAoB,EAAE,GAAA,EAAK,CAAA,EAAG,UAAU,KAAA,EAAM;AAAA,WAChD;AACA,UAAA,IAAI,KAAA,EAAO;AACT,YAAA,IAAA,CAAK,IAAI,KAAK,CAAA;AACd,YAAA,iBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,iBAAA,CAAoB,EAAE,GAAA,EAAK,KAAA,EAAO,QAAA,EAAU,IAAA,EAAK,CAAA;AAAA,UACnD;AACA,UAAA,oBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,oBAAA,CAAuB,KAAA,CAAM,KAAK,IAAI,CAAA,CAAA;AACtC,UAAA,OAAO,IAAA;AAAA,QACT,CAAC,CAAA;AACD,QAAA;AAAA,MACF;AAEA,MAAA,cAAA,CAAe,CAAC,IAAA,KAAS;AACvB,QAAA,MAAM,MAAA,GAAS,IAAI,GAAA,CAAI,IAAI,CAAA;AAC3B,QAAA,MAAM,IAAA,GAAO,IAAI,GAAA,CAAI,IAAI,CAAA;AAEzB,QAAA,KAAA,MAAW,GAAA,IAAO,YAAA,EAAc,IAAA,CAAK,GAAA,CAAI,GAAG,CAAA;AAC5C,QAAA,KAAA,MAAW,GAAA,IAAO,YAAA;AAChB,UAAA,IAAI,CAAC,OAAO,GAAA,CAAI,GAAG,GAAG,iBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,iBAAA,CAAoB,EAAE,GAAA,EAAK,QAAA,EAAU,IAAA,EAAK,CAAA;AAElE,QAAA,oBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,oBAAA,CAAuB,KAAA,CAAM,KAAK,IAAI,CAAA,CAAA;AACtC,QAAA,OAAO,IAAA;AAAA,MACT,CAAC,CAAA;AACD,MAAA;AAAA,IACF;AAEA,IAAA,cAAA,CAAe,CAAC,IAAA,KAAS;AACvB,MAAA,MAAM,OAAA,GAAU,KAAA,CAAM,IAAA,CAAK,IAAI,CAAA;AAC/B,MAAA,OAAA,CAAQ,OAAA,CAAQ,CAAC,CAAA,KAAM,iBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,iBAAA,CAAoB,EAAE,GAAA,EAAK,CAAA,EAAG,QAAA,EAAU,KAAA,EAAM,CAAE,CAAA;AACvE,MAAA,oBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,oBAAA,CAAuB,EAAC,CAAA;AACxB,MAAA,2BAAW,GAAA,EAAI;AAAA,IACjB,CAAC,CAAA;AAAA,EACH,CAAA;AAIA,EAAA,MAAM,aAAA,GAAgBb,MAAAA,CAAqB,EAAE,CAAA;AAC7C,EAAAF,UAAU,MAAM;AACd,IAAA,aAAA,CAAc,OAAA,GAAU,UAAA;AAAA,EAC1B,CAAA,EAAG,CAAC,UAAU,CAAC,CAAA;AAEf,EAAA,MAAM,eAAA,GAAkB,CACtB,IAAA,EACA,QAAA,KACiB;AACjB,IAAA,MAAM,IAAA,GAAO,KAAK,GAAA,CAAI,CAAC,OAAO,EAAE,GAAG,GAAE,CAAE,CAAA;AACvC,IAAA,MAAM,MAAM,IAAA,CAAK,SAAA,CAAU,CAAC,CAAA,KAAM,CAAA,CAAE,WAAW,QAAQ,CAAA;AAEvD,IAAA,IAAI,QAAQ,EAAA,EAAI;AAEd,MAAA,IAAA,CAAK,KAAK,EAAE,MAAA,EAAQ,QAAA,EAAU,SAAA,EAAW,OAAO,CAAA;AAChD,MAAA,OAAO,IAAA;AAAA,IACT;AAEA,IAAA,MAAM,GAAA,GAAM,KAAK,GAAG,CAAA;AACpB,IAAA,IAAI,GAAA,CAAI,cAAc,KAAA,EAAO;AAC3B,MAAA,GAAA,CAAI,SAAA,GAAY,MAAA;AAChB,MAAA,OAAO,IAAA;AAAA,IACT;AAEA,IAAA,IAAI,GAAA,CAAI,cAAc,MAAA,EAAQ;AAE5B,MAAA,IAAA,CAAK,MAAA,CAAO,KAAK,CAAC,CAAA;AAClB,MAAA,OAAO,IAAA;AAAA,IACT;AAGA,IAAA,GAAA,CAAI,SAAA,GAAY,KAAA;AAChB,IAAA,OAAO,IAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,YAAA,GAAe,CAAC,GAAA,KAA4B;AAChD,IAAA,IAAI,EAAE,sBAAsB,eAAA,CAAA,EAAkB;AAC9C,IAAA,MAAM,WAAW,GAAA,CAAI,SAAA;AACrB,IAAA,IAAI,CAAC,QAAA,EAAU;AACf,IAAA,IAAI,GAAA,CAAI,aAAa,KAAA,EAAO;AAE5B,IAAA,MAAM,IAAA,GAAO,eAAA,CAAgB,aAAA,CAAc,OAAA,EAAS,QAAQ,CAAA;AAG5D,IAAA,aAAA,CAAc,IAAI,CAAA;AAGlB,IAAA,UAAA,CAAW,IAAA,GAAO,IAAA,CAAK,MAAA,GAAS,IAAA,GAAO,IAAA;AAIvC,IAAA,IAAI,WAAW,gBAAA,EAAkB;AAC/B,MAAA,UAAA,CAAW,YAAY,EAAE,SAAA,EAAW,CAAA,EAAG,QAAA,EAAU,WAAW,QAAA,EAAS;AAAA,IACvE;AAAA,EACF,CAAA;AAEA,EAAA,MAAM,kBAAA,GAAqB,CAAC,QAAA,KAAqC;AAC/D,IAAA,MAAM,QAAQ,UAAA,CAAW,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,WAAW,QAAQ,CAAA;AAC1D,IAAA,OAAO,KAAA,GAAQ,MAAM,SAAA,GAAY,EAAA;AAAA,EACnC,CAAA;AAIA,EAAA,MAAM,aAAA,GACJ,CAAC,WAAA,IACD,UAAA,YAAsB,mBACtB,UAAA,CAAW,gBAAA;AAEb,EAAA,MAAM,WAAA,GACJ,UAAA,YAAsB,eAAA,GAClB,UAAA,CAAW,SACX,YAAA,CAAa,MAAA;AACnB,EAAA,MAAM,SAAA,GACJ,UAAA,YAAsB,eAAA,GAAkB,UAAA,CAAW,SAAA,GAAY,CAAA;AACjE,EAAA,MAAM,QAAA,GACJ,UAAA,YAAsB,eAAA,GAAkB,UAAA,CAAW,QAAA,GAAW,CAAA;AAChE,EAAA,MAAM,eAAA,GACJ,UAAA,YAAsB,eAAA,GAAkB,UAAA,CAAW,kBAAkB,EAAC;AAExE,EAAA,MAAM,YAAA,GAAe,CAAC,CAAA,KAA+C;AACnE,IAAA,IAAI,EAAE,sBAAsB,eAAA,CAAA,EAAkB;AAC9C,IAAA,UAAA,CAAW,YAAY,EAAE,SAAA,EAAW,EAAE,SAAA,EAAW,QAAA,EAAU,EAAE,QAAA,EAAS;AAAA,EACxE,CAAA;AAEA,EAAA,MAAM,YAAA,GAAe,CAAC,eAAA,KAAoC;AACxD,IAAA,IAAI,UAAA,YAAsB,mBAAmB,aAAA,EAAe;AAC1D,MAAA,OAAO,SAAA,GAAY,WAAW,eAAA,GAAkB,CAAA;AAAA,IAClD;AACA,IAAA,OAAO,eAAA,GAAkB,CAAA;AAAA,EAC3B,CAAA;AAiBA,EAAA,MAAM,UAAA,GAAa,CAAC,CAAA,KAad;AACJ,IAAA,MAAM;AAAA,MACJ,GAAA;AAAA,MACA,UAAA;AAAA,MACA,QAAA,EAAAe,SAAAA;AAAA,MACA,SAAA;AAAA,MACA,SAAA;AAAA,MACA,gBAAA;AAAA,MACA,IAAA;AAAA,MACA;AAAA,KACF,GAAI,CAAA;AAEJ,IAAA,MAAM,QAAA,GAAW,EAAA;AACjB,IAAA,MAAM,aAAA,GAAgBb,OAAO,KAAK,CAAA;AAGlC,IAAA,MAAM,cAAA,GAAiB,CAAC,CAAC,GAAA,IAAO,eAAe,GAAG,CAAA;AAClD,IAAA,MAAM,YAAA,GACJ,cAAA,IAAkB,GAAA,GAAM,mBAAA,CAAoB,GAAG,CAAA,GAAI,IAAA;AACrD,IAAA,MAAM,SAAA,GAAY,cAAA,IAAkB,GAAA,GAAM,gBAAA,CAAiB,GAAG,CAAA,GAAI,IAAA;AAGlE,IAAA,MAAM,MAAA,GAAA,CAAS,iCAAQ,MAAA,KAAU,cAAA;AACjC,IAAA,MAAM,UAAA,GAAA,CAAa,iCAAQ,UAAA,KAAc,YAAA;AACzC,IAAA,MAAM,MAAA,GAAA,CAAS,iCAAQ,MAAA,KAAU,SAAA;AAEjC,IAAA,MAAM,UAAA,GACJ,CAAC,gBAAA,IACD,CAAC,EAAC,2BAAK,SAAA,CAAA,IACP,GAAA,CAAI,QAAA,KAAa,KAAA,IACjB,UAAA,YAAsB,eAAA;AAExB,IAAA,MAAM,aAAY,GAAA,IAAA,IAAA,GAAA,MAAA,GAAA,GAAA,CAAK,SAAA,IAAY,kBAAA,CAAmB,GAAA,CAAI,SAAS,CAAA,GAAI,EAAA;AACvE,IAAA,MAAM,QAAA,GAAW,cAAc,SAAA,KAAc,EAAA;AAE7C,IAAA,MAAM,IAAA,GACJ,OAAO,UAAA,KAAe,QAAA,GAClB,CAAA,IAAA,EAAO,UAAU,CAAA,EAAA,CAAA,GACjB,GAAA,GACE,aAAA,CAAc,GAAG,CAAA,GACjB,OAAA;AAER,IAAA,MAAM,iBAAA,GAAoB,CAAC,KAAA,KAA4B;AACrD,MAAA,IAAI,CAAC,GAAA,IAAO,CAAC,SAAA,EAAW;AACxB,MAAA,KAAA,CAAM,eAAA,EAAgB;AACtB,MAAA,KAAA,CAAM,cAAA,EAAe;AAErB,MAAA,MAAM,SAAS,KAAA,CAAM,OAAA;AAGrB,MAAA,MAAM,QAAA,GAAY,MAAM,aAAA,CAA8B,OAAA;AAAA,QACpD;AAAA,OACF;AAEA,MAAA,MAAM,YAAA,GACJ,cAAA,CAAe,GAAG,CAAA,KAAK,qCAAU,WAAA,CAAA,IAAe,kBAAA;AAClD,MAAA,MAAM,UAAA,GAAa,YAAA;AAEnB,MAAA,MAAM,MAAA,GAAS,CAAC,CAAA,KAAkB;AAChC,QAAA,MAAM,KAAA,GAAQ,EAAE,OAAA,GAAU,MAAA;AAC1B,QAAA,IAAI,OAAO,UAAA,GAAa,KAAA;AACxB,QAAA,IAAI,IAAA,GAAO,UAAU,IAAA,GAAO,QAAA;AAC5B,QAAA,cAAA,CAAe,KAAK,IAAI,CAAA;AAAA,MAC1B,CAAA;AAEA,MAAA,aAAA,CAAc,OAAA,GAAU,IAAA;AAExB,MAAA,MAAM,OAAO,MAAM;AACjB,QAAA,MAAA,CAAO,mBAAA,CAAoB,aAAa,MAAM,CAAA;AAC9C,QAAA,MAAA,CAAO,mBAAA,CAAoB,WAAW,IAAI,CAAA;AAG1C,QAAA,UAAA,CAAW,MAAM;AACf,UAAA,aAAA,CAAc,OAAA,GAAU,KAAA;AAAA,QAC1B,GAAG,CAAC,CAAA;AAAA,MACN,CAAA;AAEA,MAAA,MAAA,CAAO,gBAAA,CAAiB,aAAa,MAAM,CAAA;AAC3C,MAAA,MAAA,CAAO,gBAAA,CAAiB,WAAW,IAAI,CAAA;AAAA,IACzC,CAAA;AAEA,IAAA,uBACEJ,IAAAA;AAAA,MAAC,oBAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW;AAAA,UACT,oBAAA;AAAA,UACA,SAAA;AAAA,UACA,aAAa,8BAAA,GAAiC,IAAA;AAAA,UAC9C,SAAA,KAAc,KAAK,4BAAA,GAA+B,IAAA;AAAA,UAClD,SAAA,KAAc,QAAQ,gCAAA,GAAmC,IAAA;AAAA,UACzD,SAAA,KAAc,SAAS,iCAAA,GAAoC,IAAA;AAAA,UAC3D,YAAY,+BAAA,GAAkC,IAAA;AAAA,UAC9C,SAAS,4BAAA,GAA+B,IAAA;AAAA,UACxC,OAAO,0BAAA,GAA6B;AAAA,SACtC,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,QACX,IAAA,EAAK,cAAA;AAAA,QACL,KAAA,EAAO;AAAA,UACL,IAAA;AAAA,UACA,QAAA,EAAU,SAAS,QAAA,GAAW,MAAA;AAAA,UAC9B,IAAA,EAAM,MAAA,GAAU,UAAA,IAAc,MAAA,GAAa,MAAA;AAAA,UAC3C,MAAA,EAAQ,MAAA,IAAU,OAAO,MAAA,KAAW,WAAW,MAAA,GAAS;AAAA;AAAA,SAC1D;AAAA,QACA,SAAS,MAAM;AACb,UAAA,IAAI,cAAc,OAAA,EAAS;AAC3B,UAAA,IAAI,CAAC,GAAA,EAAK;AACV,UAAA,IAAI,CAAC,UAAA,EAAY;AACjB,UAAA,YAAA,CAAa,GAAG,CAAA;AAAA,QAClB,CAAA;AAAA,QACA,QAAA,EAAA;AAAA,0BAAAD,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,6BAAA,EAA+B,UAAAkB,SAAAA,EAAS,CAAA;AAAA,UAEvD,2BACClB,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,4BACd,QAAA,kBAAAA,GAAAA;AAAA,YAAC,KAAA;AAAA,YAAA;AAAA,cACC,IAAA,EAAK,IAAA;AAAA,cACL,IAAA,EAAM,SAAA,KAAc,KAAA,GAAQ,UAAA,GAAa;AAAA;AAAA,aAE7C,CAAA,GACE,IAAA;AAAA,0BAEJA,GAAAA;AAAA,YAAC,MAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,mCAAA;AAAA,cACV,WAAA,EAAa,CAAC,CAAA,KAAM;AAClB,gBAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,gBAAA,CAAA,CAAE,cAAA,EAAe;AACjB,gBAAA,iBAAA,CAAkB,CAAC,CAAA;AAAA,cACrB,CAAA;AAAA,cACA,OAAA,EAAS,CAAC,CAAA,KAAM;AACd,gBAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,gBAAA,CAAA,CAAE,cAAA,EAAe;AAAA,cACnB;AAAA;AAAA;AACF;AAAA;AAAA,KACF;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,IAAA,GAAO,CAAC,CAAA,KAaR;AACJ,IAAA,MAAM,EAAE,KAAK,UAAA,EAAY,QAAA,EAAAkB,WAAU,SAAA,EAAW,WAAA,EAAa,IAAA,EAAM,MAAA,EAAO,GACtE,CAAA;AAEF,IAAA,MAAM,cAAA,GAAiB,CAAC,CAAC,GAAA,IAAO,eAAe,GAAG,CAAA;AAClD,IAAA,MAAM,YAAA,GACJ,cAAA,IAAkB,GAAA,GAAM,mBAAA,CAAoB,GAAG,CAAA,GAAI,IAAA;AACrD,IAAA,MAAM,SAAA,GAAY,cAAA,IAAkB,GAAA,GAAM,gBAAA,CAAiB,GAAG,CAAA,GAAI,IAAA;AAElE,IAAA,MAAM,MAAA,GAAA,CAAS,iCAAQ,MAAA,KAAU,cAAA;AACjC,IAAA,MAAM,UAAA,GAAA,CAAa,iCAAQ,UAAA,KAAc,YAAA;AACzC,IAAA,MAAM,MAAA,GAAA,CAAS,iCAAQ,MAAA,KAAU,SAAA;AAEjC,IAAA,MAAM,IAAA,GACJ,OAAO,UAAA,KAAe,QAAA,GAClB,CAAA,IAAA,EAAO,UAAU,CAAA,EAAA,CAAA,GACjB,GAAA,GACE,aAAA,CAAc,GAAG,CAAA,GACjB,OAAA;AAER,IAAA,uBACElB,GAAAA;AAAA,MAAC,aAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW;AAAA,UACT,aAAA;AAAA,UACA,SAAA;AAAA,UACA,SAAS,qBAAA,GAAwB,IAAA;AAAA,UACjC,OAAO,mBAAA,GAAsB;AAAA,SAC/B,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,QACX,IAAA,EAAK,MAAA;AAAA,QACL,KAAA,EAAO;AAAA,UACL,IAAA;AAAA,UACA,QAAA,EAAU,SAAS,QAAA,GAAW,MAAA;AAAA,UAC9B,IAAA,EAAM,MAAA,GAAU,UAAA,IAAc,MAAA,GAAa,MAAA;AAAA,UAC3C,MAAA,EAAQ,MAAA,IAAU,OAAO,MAAA,KAAW,WAAW,MAAA,GAAS;AAAA;AAAA,SAC1D;AAAA,QACA,OAAA,EAAS,CAAC,CAAA,KAAM;AACd,UAAA,IAAI,WAAA,IAAe,eAAA,EAAgB;AAAA,QACrC,CAAA;AAAA,QACC,QAAA,EAAAkB;AAAA;AAAA,KACH;AAAA,EAEJ,CAAA;AAIA,EAAA,uBACEjB,IAAAA,CAAC,QAAA,EAAA,EAAO,SAAA,EAAU,QAAA,EAAS,MAAK,OAAA,EAC9B,QAAA,EAAA;AAAA,oBAAAA,IAAAA,CAAC,iBAAA,EAAA,EAAgB,SAAA,EAAU,iBAAA,EAExB,QAAA,EAAA;AAAA,MAAA,oBAAA,CAAqB,yBACpBA,IAAAA,CAAC,uBAAkB,SAAA,EAAU,mBAAA,EAAoB,MAAK,KAAA,EAEnD,QAAA,EAAA;AAAA,QAAA,CAAC,WAAA,IACF,gBAAA,IACA,EAAC,gBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,gBAAA,CAAkB,gCACjBD,GAAAA;AAAA,UAAC,UAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAU,0EAAA;AAAA,YACV,UAAA,EAAY,iBAAA;AAAA,YACZ,gBAAA,EAAgB,IAAA;AAAA,YAChB,MAAA,EAAQ;AAAA,cACN,MAAA,EAAQ,IAAA;AAAA,cACR,YAAY,4BAAA;AAA6B,aAC3C;AAAA,YACA,QAAA,kBAAAA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,+BACd,QAAA,kBAAAA,GAAAA;AAAA,cAAC,OAAA;AAAA,cAAA;AAAA,gBACC,SAAA,EAAU,sBAAA;AAAA,gBACV,IAAA,EAAK,KAAA;AAAA,gBACL,OAAA,EAAQ,SAAA;AAAA,gBACR,IAAA,EAAM,kBAAA,EAAmB,GAAI,MAAA,GAAS,MAAA;AAAA,gBACtC,OAAA,EAAS,CAAC,CAAA,KAAkB;AAC1B,kBAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,kBAAA,mBAAA,EAAoB;AAAA,gBACtB;AAAA;AAAA,aACF,EACF;AAAA;AAAA,SACF,GACE,IAAA;AAAA,QAGH,CAAC,WAAA,IAAe,aAAA,mBACfA,GAAAA;AAAA,UAAC,UAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAU,gFAAA;AAAA,YACV,UAAA,EAAY,oBAAA;AAAA,YACZ,gBAAA,EAAgB,IAAA;AAAA,YAChB,MAAA,EAAQ;AAAA,cACN,MAAA,EAAQ,IAAA;AAAA,cACR,YAAY,+BAAA;AAAgC,aAC9C;AAAA,YACA,0BAAAA,GAAAA,CAAC,MAAA,EAAA,EAAK,WAAU,6BAAA,EACb,QAAA,EAAA,aAAA,KAAkB,6BACjBA,GAAAA;AAAA,cAAC,qBAAA;AAAA,cAAA;AAAA,gBACC,SAAS,kBAAA,EAAmB;AAAA,gBAC5B,eAAe,mBAAA,EAAoB;AAAA,gBACnC,QAAA,EAAU,MAAM,kBAAA,EAAmB;AAAA,gBACnC,YAAA,EAAY;AAAA;AAAA,gBAEZ,IAAA,EACN;AAAA;AAAA,SACF,GACE,IAAA;AAAA,QAGH,4CACCA,GAAAA;AAAA,UAAC,UAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAU,+CAAA;AAAA,YACV,UAAA,EAAY,iBAAA;AAAA,YACZ,gBAAA,EAAgB,IAAA;AAAA,YAChB,QACE,gBAAA,GACI;AAAA,cACE,MAAA,EAAQ,IAAA;AAAA,cACR,YAAY,4BAAA,EAA6B;AAAA;AAAA,cAEzC,MAAA,EAAQ;AAAA,aACV,GACA,MAAA;AAAA,YACJ,QAAA,EAAA;AAAA;AAAA,SAEJ,GACE,IAAA;AAAA,QAGH,oBAAA,CAAqB,GAAA,CAAI,CAAC,IAAA,EAAM,GAAA,KAAQ;AACvC,UAAA,IAAI,IAAA,CAAK,SAAS,KAAA,EAAO;AACvB,YAAA,MAAM,MAAM,IAAA,CAAK,GAAA;AAGjB,YAAA,IAAI,WAAA,IAAe,gBAAA,CAAiB,GAAG,CAAA,EAAG;AACxC,cAAA,uBACEA,GAAAA;AAAA,gBAAC,UAAA;AAAA,gBAAA;AAAA,kBAEC,GAAA;AAAA,kBACA,WAAW,GAAA,CAAI,SAAA;AAAA,kBACf,IAAA,EAAM,CAAC,CAAC,GAAA,CAAI,MAAA;AAAA,kBACZ,QAAA,kBAAAC,IAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,kBAAA,EACd,QAAA,EAAA;AAAA,oCAAAD,GAAAA;AAAA,sBAAC,OAAA;AAAA,sBAAA;AAAA,wBACC,SAAA,EAAU,wBAAA;AAAA,wBACV,IAAA,EAAK,KAAA;AAAA,wBACL,OAAA,EAAQ,SAAA;AAAA,wBACR,IAAA,EAAM,eAAA,EAAgB,GAAI,MAAA,GAAS,MAAA;AAAA,wBACnC,OAAA,EAAS,CAAC,CAAA,KAAkB;AAC1B,0BAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,0BAAA,eAAA,EAAgB;AAAA,wBAClB;AAAA;AAAA,qBACF;AAAA,oBAEC,aAAA,KAAkB,6BACjBA,GAAAA;AAAA,sBAAC,qBAAA;AAAA,sBAAA;AAAA,wBACC,SAAA,EAAU,6BAAA;AAAA,wBACV,SAAS,kBAAA,EAAmB;AAAA,wBAC5B,eAAe,mBAAA,EAAoB;AAAA,wBACnC,QAAA,EAAU,MAAM,kBAAA,EAAmB;AAAA,wBACnC,YAAA,EAAY;AAAA;AAAA,qBACd,GACE,IAAA;AAAA,oCAEJA,IAAC,MAAA,EAAA,EAAK,SAAA,EAAU,2BACb,QAAA,EAAA,GAAA,CAAI,KAAA,IAAS,IAAI,SAAA,EACpB;AAAA,mBAAA,EACF;AAAA,iBAAA;AAAA,gBA7BK,KAAK,GAAG,CAAA;AAAA,eA8Bf;AAAA,YAEJ;AAGA,YAAA,IAAI,IAAI,SAAA,EAAW;AACjB,cAAA,uBACEA,GAAAA,CAACI,MAAAA,CAAM,QAAA,EAAN,EACE,QAAA,EAAA,GAAA,CAAI,SAAA,CAAU,GAAG,CAAA,EAAA,EADC,CAAA,EAAA,EAAK,GAAG,CAAA,CAE7B,CAAA;AAAA,YAEJ;AAEA,YAAA,uBACEJ,GAAAA;AAAA,cAAC,UAAA;AAAA,cAAA;AAAA,gBAEC,GAAA;AAAA,gBACA,WAAW,GAAA,CAAI,SAAA;AAAA,gBACf,IAAA,EAAM,CAAC,CAAC,GAAA,CAAI,MAAA;AAAA,gBACX,QAAA,EAAA,GAAA,CAAI,SAAS,GAAA,CAAI;AAAA,eAAA;AAAA,cAJb,KAAK,GAAG,CAAA;AAAA,aAKf;AAAA,UAEJ;AAGA,UAAA,uBACEC,IAAAA;AAAA,YAAC,0BAAA;AAAA,YAAA;AAAA,cAEC,SAAA,EAAU,0BAAA;AAAA,cACV,IAAA,EAAK,cAAA;AAAA,cAEL,QAAA,EAAA;AAAA,gCAAAD,GAAAA,CAAC,UAAA,EAAA,EAAW,gBAAA,EAAgB,IAAA,EAAE,eAAK,KAAA,EAAM,CAAA;AAAA,gCAEzCA,GAAAA;AAAA,kBAAC,kCAAA;AAAA,kBAAA;AAAA,oBACC,SAAA,EAAU,kCAAA;AAAA,oBACV,IAAA,EAAK,cAAA;AAAA,oBACJ,QAAA,EAAA,IAAA,CAAK,OAAA,CAAQ,GAAA,CAAI,CAAC,KAAK,IAAA,KAAS;AAC/B,sBAAA,IAAI,IAAI,SAAA,EAAW;AACjB,wBAAA,uBACEA,GAAAA,CAACI,MAAAA,CAAM,QAAA,EAAN,EACE,QAAA,EAAA,GAAA,CAAI,SAAA,CAAU,GAAG,CAAA,EAAA,EADC,CAAA,GAAA,EAAM,IAAI,CAAA,CAE/B,CAAA;AAAA,sBAEJ;AAEA,sBAAA,uBACEJ,GAAAA;AAAA,wBAAC,UAAA;AAAA,wBAAA;AAAA,0BAEC,GAAA;AAAA,0BACA,WAAW,GAAA,CAAI,SAAA;AAAA,0BACf,IAAA,EAAM,CAAC,CAAC,GAAA,CAAI,MAAA;AAAA,0BACX,QAAA,EAAA,GAAA,CAAI,SAAS,GAAA,CAAI;AAAA,yBAAA;AAAA,wBAJb,MAAM,IAAI,CAAA;AAAA,uBAKjB;AAAA,oBAEJ,CAAC;AAAA;AAAA;AACH;AAAA,aAAA;AAAA,YA5BK,KAAK,GAAG,CAAA;AAAA,WA6Bf;AAAA,QAEJ,CAAC;AAAA,OAAA,EACH,CAAA,GACE,IAAA;AAAA,MAGH,YAAA,CAAa,GAAA,CAAI,CAAC,GAAA,EAAK,QAAA,KAAa;AACnC,QAAA,MAAM,MAAM,KAAA,CAAM,MAAA,GAAS,MAAM,MAAA,CAAO,GAAA,EAAK,QAAQ,CAAA,GAAI,QAAA;AAEzD,QAAA,uBACEC,IAAAA,CAACG,MAAAA,CAAM,QAAA,EAAN,EACC,QAAA,EAAA;AAAA,0BAAAH,IAAAA;AAAA,YAAC,YAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAW;AAAA,gBACT,YAAA;AAAA,gBACA,gBAAgB,sBAAA,GAAyB;AAAA,eAC3C,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,cACX,IAAA,EAAK,KAAA;AAAA,cACL,OAAA,EAAS,MAAM,UAAA,IAAA,IAAA,GAAA,MAAA,GAAA,UAAA,CAAa,GAAA,CAAA;AAAA,cAE3B,QAAA,EAAA;AAAA,gBAAA,CAAC,WAAA,IAAe,mCACfD,GAAAA;AAAA,kBAAC,IAAA;AAAA,kBAAA;AAAA,oBACC,SAAA,EAAU,6CAAA;AAAA,oBACV,UAAA,EAAY,iBAAA;AAAA,oBACZ,WAAA,EAAW,IAAA;AAAA,oBACX,MAAA,EAAQ;AAAA,sBACN,MAAA,EAAQ,IAAA;AAAA,sBACR,YAAY,4BAAA;AAA6B,qBAC3C;AAAA,oBACA,QAAA,kBAAAA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,+BACd,QAAA,kBAAAA,GAAAA;AAAA,sBAAC,OAAA;AAAA,sBAAA;AAAA,wBACC,SAAA,EAAU,sBAAA;AAAA,wBACV,IAAA,EAAK,KAAA;AAAA,wBACL,OAAA,EAAQ,SAAA;AAAA,wBACR,IAAA,EAAM,aAAA,CAAc,GAAG,CAAA,GAAI,MAAA,GAAS,MAAA;AAAA,wBACpC,OAAA,EAAS,CAAC,CAAA,KAAkB;AAC1B,0BAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,0BAAA,WAAA,CAAY,GAAA,EAAK,CAAC,aAAA,CAAc,GAAG,CAAC,CAAA;AAAA,wBACtC;AAAA;AAAA,qBACF,EACF;AAAA;AAAA,iBACF,GACE,IAAA;AAAA,gBAGH,CAAC,WAAA,IAAe,aAAA,mBACfA,GAAAA;AAAA,kBAAC,IAAA;AAAA,kBAAA;AAAA,oBACC,SAAA,EAAU,mDAAA;AAAA,oBACV,UAAA,EAAY,oBAAA;AAAA,oBACZ,WAAA,EAAW,IAAA;AAAA,oBACX,MAAA,EAAQ;AAAA,sBACN,MAAA,EAAQ,IAAA;AAAA,sBACR,YAAY,+BAAA;AAAgC,qBAC9C;AAAA,oBACC,QAAA,EAAA,aAAA,KAAkB,6BACjBA,GAAAA;AAAA,sBAAC,qBAAA;AAAA,sBAAA;AAAA,wBACC,OAAA,EAAS,cAAc,GAAG,CAAA;AAAA,wBAC1B,aAAA,EAAe,oBAAoB,GAAG,CAAA;AAAA,wBACtC,QAAA,EAAU,MAAM,oBAAA,CAAqB,GAAG,CAAA;AAAA,wBACxC,YAAA,EAAY;AAAA;AAAA,wCAGdA,GAAAA;AAAA,sBAAC,OAAA;AAAA,sBAAA;AAAA,wBACC,IAAA,EAAK,OAAA;AAAA,wBACL,OAAA,EAAS,YAAA,CAAa,GAAA,CAAI,GAAG,CAAA;AAAA,wBAC7B,IAAA,EAAM,CAAA,aAAA,EAAgB,KAAA,CAAM,OAAO,CAAA,CAAA;AAAA,wBACnC,QAAA,EAAU,MAAM,oBAAA,CAAqB,GAAG,CAAA;AAAA,wBACxC,OAAA,EAAS,CAAC,CAAA,KAAM,CAAA,CAAE,eAAA;AAAgB;AAAA;AACpC;AAAA,iBAEJ,GACE,IAAA;AAAA,gBAGH,4CACCA,GAAAA;AAAA,kBAAC,IAAA;AAAA,kBAAA;AAAA,oBACC,SAAA,EAAU,6CAAA;AAAA,oBACV,UAAA,EAAY,iBAAA;AAAA,oBACZ,WAAA,EAAW,IAAA;AAAA,oBACX,QACE,gBAAA,GACI;AAAA,sBACE,MAAA,EAAQ,IAAA;AAAA,sBACR,YAAY,4BAAA,EAA6B;AAAA,sBACzC,MAAA,EAAQ;AAAA,qBACV,GACA,MAAA;AAAA,oBAEN,0BAAAA,GAAAA,CAAC,MAAA,EAAA,EAAK,WAAU,sBAAA,EACb,QAAA,EAAA,YAAA,CAAa,QAAQ,CAAA,EACxB;AAAA;AAAA,iBACF,GACE,IAAA;AAAA,gBAGH,gBAAA,CAAiB,GAAA,CAAI,CAAC,GAAA,EAAK,QAAA,KAAa;AAEvC,kBAAA,IAAI,WAAA,IAAe,gBAAA,CAAiB,GAAG,CAAA,EAAG;AACxC,oBAAA,uBACEA,GAAAA;AAAA,sBAAC,IAAA;AAAA,sBAAA;AAAA,wBAEC,GAAA;AAAA,wBACA,WAAA,EAAW,IAAA;AAAA,wBACX,IAAA,EAAM,CAAC,CAAC,GAAA,CAAI,MAAA;AAAA,wBACZ,QAAA,kBAAAC,IAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,oBAAA,EACd,QAAA,EAAA;AAAA,0CAAAD,GAAAA;AAAA,4BAAC,MAAA;AAAA,4BAAA;AAAA,8BACC,SAAA,EAAU,oBAAA;AAAA,8BACV,KAAA,EAAO,EAAE,KAAA,EAAO,eAAA,CAAgB,GAAG,CAAA;AAAE;AAAA,2BACvC;AAAA,0BAEC,WAAA,CAAY,GAAG,CAAA,mBACdA,GAAAA;AAAA,4BAAC,OAAA;AAAA,4BAAA;AAAA,8BACC,SAAA,EAAU,oBAAA;AAAA,8BACV,IAAA,EAAK,KAAA;AAAA,8BACL,OAAA,EAAQ,SAAA;AAAA,8BACR,IAAA,EAAM,cAAA,CAAe,GAAG,CAAA,GAAI,MAAA,GAAS,MAAA;AAAA,8BACrC,OAAA,EAAS,CAAC,CAAA,KAAkB;AAC1B,gCAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,gCAAA,YAAA,CAAa,KAAK,CAAC,CAAA;AAAA,8BACrB;AAAA;AAAA,2BACF,mBAEAA,GAAAA,CAAC,MAAA,EAAA,EAAK,WAAU,oBAAA,EAAqB,CAAA;AAAA,0BAGtC,aAAA,KAAkB,6BACjBA,GAAAA;AAAA,4BAAC,qBAAA;AAAA,4BAAA;AAAA,8BACC,SAAA,EAAU,sBAAA;AAAA,8BACV,OAAA,EAAS,cAAc,GAAG,CAAA;AAAA,8BAC1B,aAAA,EAAe,oBAAoB,GAAG,CAAA;AAAA,8BACtC,QAAA,EAAU,MAAM,oBAAA,CAAqB,GAAG,CAAA;AAAA,8BACxC,YAAA,EAAY;AAAA;AAAA,2BACd,GACE,aAAA,KAAkB,QAAA,mBACpBA,GAAAA;AAAA,4BAAC,OAAA;AAAA,4BAAA;AAAA,8BACC,SAAA,EAAU,mBAAA;AAAA,8BACV,IAAA,EAAK,OAAA;AAAA,8BACL,OAAA,EAAS,YAAA,CAAa,GAAA,CAAI,GAAG,CAAA;AAAA,8BAC7B,IAAA,EAAM,CAAA,aAAA,EAAgB,KAAA,CAAM,OAAO,CAAA,CAAA;AAAA,8BACnC,QAAA,EAAU,MAAM,oBAAA,CAAqB,GAAG,CAAA;AAAA,8BACxC,OAAA,EAAS,CAAC,CAAA,KAAM,CAAA,CAAE,eAAA;AAAgB;AAAA,2BACpC,GACE,IAAA;AAAA,0BAEH,GAAA,CAAI,OAAA,GACH,aAAA,CAAc,GAAA,CAAI,SAAS,GAAA,EAAK;AAAA,4BAC9B,GAAA;AAAA,4BACA,KAAA,EAAO,QAAA;AAAA,4BACP,MAAA,EAAQ;AAAA,2BACT,oBAEDA,GAAAA,CAAC,UAAK,SAAA,EAAU,kBAAA,EACb,QAAA,EAAA,GAAA,CAAI,SAAA,GACD,eAAA,GACE,eAAA;AAAA,4BACE,MAAA;AAAA,8BAAA,CAEI,GAAA,IAAA,IAAA,GAAA,MAAA,GAAA,GAAA,CAIE,IAAI,SAAA,CAAA,KAAc;AAAA,6BACxB;AAAA,4BACA;AAAA,2BACF,GACA,MAAA;AAAA,4BAAA,CAEI,GAAA,IAAA,IAAA,GAAA,MAAA,GAAA,GAAA,CAIE,IAAI,SAAA,CAAA,KAAc;AAAA,8BAE1B,EAAA,EACN;AAAA,yBAAA,EAEJ;AAAA,uBAAA;AAAA,sBA5EK,CAAA,EAAA,EAAK,QAAQ,CAAA,CAAA,EAAI,QAAQ,CAAA;AAAA,qBA6EhC;AAAA,kBAEJ;AAGA,kBAAA,uBACEA,GAAAA;AAAA,oBAAC,IAAA;AAAA,oBAAA;AAAA,sBAEC,GAAA;AAAA,sBACA,IAAA,EAAM,CAAC,CAAC,GAAA,CAAI,MAAA;AAAA,sBACX,QAAA,EAAA,GAAA,CAAI,OAAA,GACH,aAAA,CAAc,GAAA,CAAI,SAAS,GAAA,EAAK;AAAA,wBAC9B,GAAA;AAAA,wBACA,KAAA,EAAO,QAAA;AAAA,wBACP,MAAA,EAAQ;AAAA,uBACT,oBAEDA,GAAAA,CAAC,UAAK,SAAA,EAAU,sBAAA,EACb,QAAA,EAAA,GAAA,CAAI,SAAA,GACD,eAAA,GACE,eAAA;AAAA,wBACE,MAAA;AAAA,0BAAA,CAEI,GAAA,IAAA,IAAA,GAAA,MAAA,GAAA,GAAA,CACE,IAAI,SAAA,CAAA,KAAc;AAAA,yBACxB;AAAA,wBACA;AAAA,uBACF,GACA,MAAA;AAAA,wBAAA,CACG,GAAA,IAAA,IAAA,GAAA,MAAA,GAAA,GAAA,CACC,IAAI,SAAA,CAAA,KACD;AAAA,0BAET,EAAA,EACN;AAAA,qBAAA;AAAA,oBA3BG,CAAA,EAAA,EAAK,QAAQ,CAAA,CAAA,EAAI,QAAQ,CAAA;AAAA,mBA6BhC;AAAA,gBAEJ,CAAC;AAAA;AAAA;AAAA,WACH;AAAA,UAGC,gBAAA,IAAoB,aAAA,CAAc,GAAG,CAAA,mBACpCA,GAAAA;AAAA,YAAC,uBAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,4BAAA;AAAA,cACV,IAAA,EAAK,KAAA;AAAA,cACJ,2BAAkB,MAAA,CAAO,GAAA,EAAK,EAAE,GAAA,EAAK,KAAA,EAAO,UAAU;AAAA;AAAA,WACzD,GACE;AAAA,SAAA,EAAA,EAxNe,CAAA,EAAA,EAAK,GAAG,CAAA,CAyN7B,CAAA;AAAA,MAEJ,CAAC;AAAA,KAAA,EACH,CAAA;AAAA,IAGC,gCACCA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iBACb,QAAA,kBAAAA,GAAAA;AAAA,MAAC,UAAA;AAAA,MAAA;AAAA,QACC,MAAA,EAAQ,WAAA;AAAA,QACR,SAAA;AAAA,QACA,QAAA;AAAA,QACA,eAAA;AAAA,QACA;AAAA;AAAA,OAEJ,CAAA,GACE;AAAA,GAAA,EACN,CAAA;AAEJ;AChvDA,SAASU,YAAW,KAAA,EAAuB;AACzC,EAAA,OAAA,CAAQ,KAAA,IAAS,IACd,UAAA,CAAW,GAAA,EAAK,OAAO,CAAA,CACvB,UAAA,CAAW,KAAK,MAAM,CAAA,CACtB,WAAW,GAAA,EAAK,MAAM,EACtB,UAAA,CAAW,GAAA,EAAK,QAAQ,CAAA,CACxB,UAAA,CAAW,KAAK,QAAQ,CAAA;AAC7B;AAEA,SAAS,mBAAA,CAAoB,MAAc,OAAA,EAAyB;AAClE,EAAA,MAAM,IAAA,GAAA,CAAQ,OAAA,IAAW,EAAA,EAAI,IAAA,EAAK;AAClC,EAAA,IAAI,CAAC,IAAA,EAAM,OAAOA,WAAAA,CAAW,QAAQ,EAAE,CAAA;AAEvC,EAAA,MAAM,WAAW,IAAA,IAAQ,EAAA;AACzB,EAAA,MAAM,KAAA,GAAQ,SAAS,WAAA,EAAY;AACnC,EAAA,MAAM,SAAA,GAAY,KAAK,WAAA,EAAY;AAEnC,EAAA,IAAI,GAAA,GAAM,EAAA;AACV,EAAA,IAAI,CAAA,GAAI,CAAA;AAER,EAAA,OAAO,CAAA,GAAI,SAAS,MAAA,EAAQ;AAC1B,IAAA,MAAM,GAAA,GAAM,KAAA,CAAM,OAAA,CAAQ,SAAA,EAAW,CAAC,CAAA;AACtC,IAAA,IAAI,QAAQ,EAAA,EAAI;AACd,MAAA,GAAA,IAAOA,WAAAA,CAAW,QAAA,CAAS,KAAA,CAAM,CAAC,CAAC,CAAA;AACnC,MAAA;AAAA,IACF;AACA,IAAA,GAAA,IAAOA,WAAAA,CAAW,QAAA,CAAS,KAAA,CAAM,CAAA,EAAG,GAAG,CAAC,CAAA;AACxC,IAAA,GAAA,IAAO,CAAA,+BAAA,EAAkCA,WAAAA;AAAA,MACvC,QAAA,CAAS,KAAA,CAAM,GAAA,EAAK,GAAA,GAAM,KAAK,MAAM;AAAA,KACtC,CAAA,OAAA,CAAA;AACD,IAAA,CAAA,GAAI,MAAM,IAAA,CAAK,MAAA;AAAA,EACjB;AAEA,EAAA,OAAO,GAAA;AACT;AAEA,IAAM,WAAA,GAAc,IAAA,CAAK,SAASU,YAAAA,CAAY,KAAA,EAI3C;AACD,EAAA,MAAM,EAAE,IAAA,EAAM,IAAA,EAAM,EAAA,GAAK,QAAO,GAAI,KAAA;AACpC,EAAA,MAAM,IAAA,GAAOX,OAAAA,CAAQ,MAAM,mBAAA,CAAoB,IAAA,EAAM,IAAI,CAAA,EAAG,CAAC,IAAA,EAAM,IAAI,CAAC,CAAA;AACxE,EAAA,MAAM,GAAA,GAAM,EAAA;AACZ,EAAA,uBAAOT,GAAAA,CAAC,GAAA,EAAA,EAAI,yBAAyB,EAAE,MAAA,EAAQ,MAAK,EAAG,CAAA;AACzD,CAAC,CAAA;AAMD,SAAS,gBACP,KAAA,EACmB;AACnB,EAAA,IAAI,EAAC,KAAA,IAAA,IAAA,GAAA,MAAA,GAAA,KAAA,CAAO,MAAA,CAAA,EAAQ,OAAO,EAAC;AAC5B,EAAA,OAAO,MAAM,MAAA,CAAO,CAAC,MAA4B,CAAC,EAAC,uBAAG,KAAA,CAAK,CAAA;AAC7D;AAEA,SAAS,iBAAiB,CAAA,EAA8B;AACtD,EAAA,OAAO,CAAA,CAAE,MAAA,KAAW,CAAA,IAAK,CAAC,CAAA,CAAE,OAAA,IAAW,CAAC,CAAA,CAAE,OAAA,IAAW,CAAC,CAAA,CAAE,QAAA,IAAY,CAAC,CAAA,CAAE,MAAA;AACzE;AAMO,SAAS,UAAU,KAAA,EAYvB;AACD,EAAA,MAAM,MAAM,WAAA,EAAY;AAExB,EAAA,MAAM,MAAA,GAASS,OAAAA;AAAA,IACb,MAAM,eAAA,CAAgB,KAAA,CAAM,WAAW,CAAA;AAAA,IACvC,CAAC,MAAM,WAAW;AAAA,GACpB;AACA,EAAA,MAAM,KAAA,GACJ,KAAA,CAAM,KAAA,KAAU,MAAA,CAAO,MAAA,GAAS,OAAO,MAAA,CAAO,MAAA,GAAS,CAAC,CAAA,CAAE,KAAA,GAAQ,IAAA,CAAA;AAEpE,EAAA,MAAM,CAAC,iBAAA,EAAmB,oBAAoB,CAAA,GAAID,QAAAA;AAAA,IAChD,MAAM,qBAAA,IAAyB;AAAA,GACjC;AAEA,EAAA,MAAM,aAAA,GAAgBK,YAAY,MAAM;AACtC,IAAA,oBAAA,CAAqB,CAAC,IAAA,KAAS;AA/GnC,MAAA,IAAA,EAAA;AAgHM,MAAA,MAAM,OAAO,CAAC,IAAA;AACd,MAAA,CAAA,EAAA,GAAA,KAAA,CAAM,qBAAN,IAAA,GAAA,MAAA,GAAA,EAAA,CAAA,IAAA,CAAA,KAAA,EAAyB,IAAA,CAAA;AACzB,MAAA,OAAO,IAAA;AAAA,IACT,CAAC,CAAA;AAAA,EACH,CAAA,EAAG,CAAC,KAAK,CAAC,CAAA;AAEV,EAAA,MAAM,EAAA,GAAKA,WAAAA;AAAA,IACT,CAAC,GAAA,KAAgB;AACf,MAAA,IAAI,KAAA,CAAM,UAAA,EAAY,OAAO,KAAA,CAAM,WAAW,GAAG,CAAA;AACjD,MAAA,GAAA,CAAI,GAAG,CAAA;AAAA,IACT,CAAA;AAAA,IACA,CAAC,GAAA,EAAK,KAAA,CAAM,UAAU;AAAA,GACxB;AAEA,EAAA,MAAM,YAAA,GAAeA,WAAAA;AAAA,IACnB,CAAC,GAAwC,GAAA,KAAgB;AACvD,MAAA,IAAI,CAAC,gBAAA,CAAiB,CAAC,CAAA,EAAG;AAC1B,MAAA,CAAA,CAAE,cAAA,EAAe;AACjB,MAAA,IAAI,GAAA,CAAI,UAAA,CAAW,GAAG,CAAA,KAAM,GAAG,CAAA;AAAA,WAC1B,MAAA,CAAO,SAAS,IAAA,GAAO,GAAA;AAAA,IAC9B,CAAA;AAAA,IACA,CAAC,EAAE;AAAA,GACL;AAEA,EAAA,uBACEZ,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,oBAAAA,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mBAAA,EACb,QAAA,EAAA;AAAA,sBAAAD,GAAAA,CAAC,OAAE,SAAA,EAAU,aAAA,EAAc,SAAS,aAAA,EACjC,QAAA,EAAA,iBAAA,mBACCA,GAAAA,CAAC,KAAA,EAAA,EAAI,GAAA,EAAI,gBAAe,GAAA,EAAI,wBAAA,EAAyB,oBAErDA,GAAAA,CAAC,SAAI,GAAA,EAAI,eAAA,EAAgB,GAAA,EAAI,yBAAA,EAA0B,CAAA,EAE3D,CAAA;AAAA,sBAEAA,GAAAA,CAAC,IAAA,EAAA,EAAI,QAAA,EAAA,KAAA,IAAS,SAAA,EAAU;AAAA,KAAA,EAC1B,CAAA;AAAA,oBAEAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wBAAA,EACZ,QAAA,EAAA,MAAA,CAAO,MAAA,GAAS,CAAA,GACf,MAAA,CAAO,GAAA,CAAI,CAAC,CAAA,EAAG,GAAA,KAAQ;AACrB,MAAA,MAAM,QAAQ,GAAA,KAAQ,CAAA;AACtB,MAAA,MAAM,IAAA,GAAO,GAAA,KAAQ,MAAA,CAAO,MAAA,GAAS,CAAA;AAErC,MAAA,IAAI,CAAC,IAAA,EAAM;AACT,QAAA,uBACEC,IAAAA,CAACG,MAAAA,CAAM,QAAA,EAAN,EACE,QAAA,EAAA;AAAA,UAAA,CAAC,KAAA,GACA,CAAA,CAAE,GAAA,mBACAJ,GAAAA;AAAA,YAAC,GAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,mDAAA;AAAA,cACV,MAAM,CAAA,CAAE,GAAA;AAAA,cACR,SAAS,CAAC,CAAA,KAAM,YAAA,CAAa,CAAA,EAAG,EAAE,GAAI,CAAA;AAAA,cACrC,QAAA,EAAA,CAAA,CAAE;AAAA;AAAA,WACL,mBAEAA,GAAAA,CAAC,MAAA,EAAA,EAAK,WAAU,mDAAA,EACb,QAAA,EAAA,CAAA,CAAE,KAAA,EACL,CAAA,mBAGFA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,oDAAA,EACb,YAAE,KAAA,EACL,CAAA;AAAA,0BAGFA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,0DACb,QAAA,EAAA,GAAA,EACH;AAAA,SAAA,EAAA,EAtBmB,CAAA,EAAG,CAAA,CAAE,KAAK,CAAA,CAAA,EAAI,GAAG,CAAA,CAuBtC,CAAA;AAAA,MAEJ;AAEA,MAAA,uBACEA,GAAAA;AAAA,QAAC,MAAA;AAAA,QAAA;AAAA,UAEC,SAAA,EAAU,sDAAA;AAAA,UACT,QAAA,EAAA,CAAA,CAAE;AAAA,SAAA;AAAA,QAFE,CAAA,EAAG,CAAA,CAAE,KAAK,CAAA,CAAA,EAAI,GAAG,CAAA;AAAA,OAGxB;AAAA,IAEJ,CAAC,oBAEDA,GAAAA,CAAC,UAAK,SAAA,EAAU,oDAAA,EAAqD,kBAErE,CAAA,EAEJ,CAAA;AAAA,oBAEAA,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mCACb,QAAA,kBAAAA,GAAAA,CAAC,UAAO,CAAA,EACV;AAAA,GAAA,EACF,CAAA;AAEJ;AAMA,SAAS,cAAA,CAAe,OAAgB,OAAA,EAA0B;AAChE,EAAA,MAAM,IAAA,GAAA,CAAQ,OAAA,IAAW,EAAA,EAAI,IAAA,GAAO,WAAA,EAAY;AAChD,EAAA,IAAI,CAAC,MAAM,OAAO,KAAA;AAElB,EAAA,MAAM,WAAoB,EAAC;AAC3B,EAAA,KAAA,MAAW,QAAQ,KAAA,EAAO;AACxB,IAAA,MAAM,MAAA,GAAS,gBAAA,CAAiB,IAAA,EAAM,IAAI,CAAA;AAC1C,IAAA,IAAI,MAAA,EAAQ,QAAA,CAAS,IAAA,CAAK,MAAM,CAAA;AAAA,EAClC;AACA,EAAA,OAAO,QAAA;AACT;AAEA,SAAS,gBAAA,CAAiB,MAAa,IAAA,EAA4B;AACjE,EAAA,MAAM,IAAA,GAAA,CAAQ,IAAA,CAAK,QAAA,IAAY,EAAA,EAAI,WAAA,EAAY;AAC/C,EAAA,MAAM,WAAA,GAAc,IAAA,CAAK,QAAA,CAAS,IAAI,CAAA;AAEtC,EAAA,MAAM,gBAAA,GAAmB,IAAA,CAAK,KAAA,IAAS,EAAC;AAExC,EAAA,MAAM,mBAA4B,EAAC;AACnC,EAAA,KAAA,MAAW,SAAS,gBAAA,EAAkB;AACpC,IAAA,MAAM,WAAA,GAAc,gBAAA,CAAiB,KAAA,EAAO,IAAI,CAAA;AAChD,IAAA,IAAI,WAAA,EAAa,gBAAA,CAAiB,IAAA,CAAK,WAAW,CAAA;AAAA,EACpD;AAEA,EAAA,MAAM,YAAA,GAAe,iBAAiB,MAAA,GAAS,CAAA;AAC/C,EAAA,IAAI,CAAC,WAAA,IAAe,CAAC,YAAA,EAAc,OAAO,IAAA;AAE1C,EAAA,MAAM,aAAA,GAAgB,cAAc,gBAAA,GAAmB,gBAAA;AACvD,EAAA,MAAM,MAAA,GAAgB,EAAE,GAAG,IAAA,EAAM,OAAO,aAAA,EAAc;AAEtD,EAAA,IAAI,CAAC,MAAA,CAAO,UAAA,KAAe,CAAA,KAAM,eAAe,YAAA,CAAA,EAAe;AAC7D,IAAA,MAAA,CAAO,UAAA,GAAa,UAAA;AAAA,EACtB;AAEA,EAAA,OAAO,MAAA;AACT;AAEA,SAAS,sBAAsB,KAAA,EAAyB;AACtD,EAAA,MAAM,SAAkB,EAAC;AAEzB,EAAA,MAAM,KAAA,GAAQ,CAAC,IAAA,KAAgB;AAC7B,IAAA,MAAM,QAAA,GAAW,IAAA,CAAK,KAAA,IAAS,EAAC;AAChC,IAAA,MAAM,WAAA,GAAc,SAAS,MAAA,GAAS,CAAA;AAEtC,IAAA,MAAM,MAAA,GACJ,CAAC,IAAA,CAAK,UAAA,KAAe,MACpB,CAAC,WAAA,IAAe,KAAK,UAAA,KAAe,UAAA,CAAA;AAEvC,IAAA,IAAI,MAAA,EAAQ,MAAA,CAAO,IAAA,CAAK,IAAI,CAAA;AAE5B,IAAA,KAAA,MAAW,CAAA,IAAK,QAAA,EAAU,KAAA,CAAM,CAAC,CAAA;AAAA,EACnC,CAAA;AAEA,EAAA,KAAA,MAAW,CAAA,IAAK,KAAA,EAAO,KAAA,CAAM,CAAC,CAAA;AAC9B,EAAA,OAAO,MAAA;AACT;AAaO,IAAM,MAAA,GAAS,IAAA,CAAK,SAASqB,OAAAA,CAAO,KAAA,EAAoB;AAvR/D,EAAA,IAAA,EAAA;AAwRE,EAAA,MAAM,EAAE,IAAA,EAAM,MAAA,EAAQ,cAAA,EAAgB,eAAc,GAAI,KAAA;AACxD,EAAA,MAAM,WAAW,WAAA,EAAY;AAE7B,EAAA,MAAM,WAAA,GAAchB,OAA2B,IAAI,CAAA;AACnD,EAAA,MAAM,QAAA,GAAW,CAAC,EAAA,CAAC,EAAA,GAAA,IAAA,IAAA,IAAA,GAAA,MAAA,GAAA,IAAA,CAAM,UAAN,IAAA,GAAA,MAAA,GAAA,EAAA,CAAa,MAAA,CAAA;AAEhC,EAAA,MAAM,UAAA,GAAaI,QAAQ,MAAM;AAC/B,IAAA,IAAI,CAAC,MAAM,OAAO,KAAA;AAElB,IAAA,MAAM,SAAA,GAAY,KAAK,MAAA,KAAW,cAAA;AAClC,IAAA,IAAI,CAAC,WAAW,OAAO,KAAA;AAEvB,IAAA,MAAM,QAAA,GAAW,IAAA,CAAK,KAAA,IAAS,EAAC;AAChC,IAAA,MAAM,WAAA,GAAc,SAAS,MAAA,GAAS,CAAA;AAEtC,IAAA,MAAM,MAAA,GACJ,CAAC,IAAA,CAAK,UAAA,KAAe,MACpB,CAAC,WAAA,IAAe,KAAK,UAAA,KAAe,UAAA,CAAA;AAEvC,IAAA,OAAO,MAAA;AAAA,EACT,CAAA,EAAG,CAAC,IAAA,EAAM,cAAc,CAAC,CAAA;AAEzB,EAAA,eAAA,CAAgB,MAAM;AACpB,IAAA,IAAI,UAAA,IAAc,YAAY,OAAA,EAAS;AACrC,MAAA,WAAA,CAAY,QAAQ,cAAA,CAAe;AAAA,QACjC,KAAA,EAAO,SAAA;AAAA,QACP,QAAA,EAAU;AAAA,OACX,CAAA;AAAA,IACH;AAAA,EACF,CAAA,EAAG,CAAC,UAAU,CAAC,CAAA;AAEf,EAAA,MAAM,UAAA,GAAaI,YAAY,MAAM;AACnC,IAAA,IAAI,CAAC,IAAA,EAAM;AACX,IAAA,IAAI,IAAA,CAAK,UAAA,KAAe,UAAA,EAAY,aAAA,CAAc,KAAK,MAAM,CAAA;AAAA,EAC/D,CAAA,EAAG,CAAC,IAAA,EAAM,aAAa,CAAC,CAAA;AAExB,EAAA,MAAM,YAAA,GAAe,CAAC,KAAA,KAAkB;AACtC,IAAA,IAAI,CAAC,KAAA,IAAS,KAAA,IAAS,CAAA,EAAG,OAAO,IAAA;AACjC,IAAA,OAAO,KAAA,CAAM,IAAA,CAAK,EAAE,MAAA,EAAQ,OAAO,CAAA,CAAE,GAAA,CAAI,CAAC,GAAG,CAAA,qBAAMb,GAAAA,CAAC,MAAA,EAAA,EAAA,EAAU,CAAG,CAAE,CAAA;AAAA,EACrE,CAAA;AAEA,EAAA,MAAM,cAAA,GAAiBa,WAAAA;AAAA,IACrB,CAAC,CAAA,KAAa;AACZ,MAAA,IAAI,CAAA,CAAE,eAAA,KAAoB,MAAA,IAAU,CAAA,CAAE,KAAA,EAAO;AAC3C,QAAA,QAAA,CAAS,EAAE,KAAK,CAAA;AAAA,MAClB,CAAA,MAAA,IAAW,EAAE,cAAA,EAAgB;AAC3B,QAAA,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA,CAAE,cAAA;AAAA,MAC3B;AAAA,IACF,CAAA;AAAA,IACA,CAAC,QAAQ;AAAA,GACX;AAEA,EAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,EAAA,uBACEb,GAAAA,CAAC,SAAA,EAAA,EACC,QAAA,kBAAAC,IAAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW;AAAA,QACT,CAAC,IAAA,CAAK,UAAA,KAAe,CAAA,GAAI,WAAA,GAAc,EAAA;AAAA,QACvC,CAAC,IAAA,CAAK,UAAA,KAAe,CAAA,GAAK,IAAA,CAAK,cAAc,EAAA,GAAM;AAAA,OACrD,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,MACV,QAAA,EAAA;AAAA,QAAA,CAAC,IAAA,CAAK,UAAA,KAAe,CAAA,mBACpBD,GAAAA,CAAC,WACC,QAAA,kBAAAA,GAAAA,CAAC,WAAA,EAAA,EAAY,IAAA,EAAM,IAAA,CAAK,QAAA,EAAU,MAAM,MAAA,EAAQ,CAAA,EAClD,CAAA,GACE,CAAC,IAAA,CAAK,UAAA,KAAe,CAAA,GACvB,QAAA,mBACEC,IAAAA,CAAC,KAAA,EAAA,EAAI,OAAA,EAAS,UAAA,EACX,QAAA,EAAA;AAAA,UAAA,IAAA,CAAK,KAAA,GAAQ,CAAA,GAAI,YAAA,CAAa,IAAA,CAAK,KAAK,CAAA,GAAI,IAAA;AAAA,0BAC7CD,GAAAA,CAAC,GAAA,EAAA,EAAE,SAAA,EAAW,IAAA,CAAK,QAAQ,EAAA,EAAI,CAAA;AAAA,0BAC/BA,GAAAA,CAAC,IAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA,CAAC,WAAA,EAAA,EAAY,IAAA,EAAM,IAAA,CAAK,QAAA,EAAU,IAAA,EAAM,MAAA,EAAQ,CAAA,EAClD,CAAA;AAAA,0BACAA,GAAAA;AAAA,YAAC,GAAA;AAAA,YAAA;AAAA,cACC,SAAA,EACE,IAAA,CAAK,UAAA,KAAe,UAAA,GAChB,iBAAA,GACA;AAAA;AAAA;AACJ,SAAA,EACN,oBAEAC,IAAAA;AAAA,UAAC,GAAA;AAAA,UAAA;AAAA,YACC,GAAA,EAAK,CAAC,EAAA,KAAO;AACX,cAAA,WAAA,CAAY,OAAA,GAAU,EAAA;AAAA,YACxB,CAAA;AAAA,YACA,SAAA,EAAW,aAAa,aAAA,GAAgB,EAAA;AAAA,YACxC,IAAA,EACE,KAAK,eAAA,KAAoB,MAAA,GACpB,KAAK,KAAA,IAAS,GAAA,GACd,KAAK,cAAA,IAAkB,GAAA;AAAA,YAE9B,OAAA,EAAS,CAAC,CAAA,KAAM;AAEd,cAAA,IAAI,CAAC,gBAAA,CAAiB,CAAC,CAAA,EAAG;AAG1B,cAAA,IAAI,IAAA,CAAK,oBAAoB,MAAA,EAAQ;AACnC,gBAAA,CAAA,CAAE,cAAA,EAAe;AACjB,gBAAA,cAAA,CAAe,IAAI,CAAA;AACnB,gBAAA;AAAA,cACF;AAGA,cAAA,IAAI,IAAA,CAAK,eAAA,KAAoB,MAAA,IAAU,CAAC,KAAK,cAAA,EAAgB;AAC3D,gBAAA,CAAA,CAAE,cAAA,EAAe;AACjB,gBAAA,cAAA,CAAe,IAAI,CAAA;AAAA,cACrB;AAAA,YACF,CAAA;AAAA,YACC,QAAA,EAAA;AAAA,cAAA,IAAA,CAAK,KAAA,GAAQ,CAAA,GAAI,YAAA,CAAa,IAAA,CAAK,KAAK,CAAA,GAAI,IAAA;AAAA,8BAC7CD,GAAAA,CAAC,GAAA,EAAA,EAAE,SAAA,EAAW,IAAA,CAAK,QAAQ,EAAA,EAAI,CAAA;AAAA,8BAC/BA,GAAAA,CAAC,IAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA,CAAC,WAAA,EAAA,EAAY,IAAA,EAAM,IAAA,CAAK,QAAA,EAAU,IAAA,EAAM,MAAA,EAAQ,CAAA,EAClD;AAAA;AAAA;AAAA,SACF,GAEA,IAAA;AAAA,QAEH,QAAA,mBACCA,GAAAA,CAAC,IAAA,EAAA,EAAG,WAAW,CAAC,IAAA,CAAK,eAAe,CAAA,GAAK,IAAA,CAAK,cAAc,EAAA,GAAM,EAAA,EAC9D,gBAAK,KAAA,IAAS,IAAI,GAAA,CAAI,CAAC,sBACvBA,GAAAA;AAAA,UAACqB,OAAAA;AAAA,UAAA;AAAA,YAEC,IAAA,EAAM,CAAA;AAAA,YACN,MAAA;AAAA,YACA,cAAA;AAAA,YACA;AAAA,WAAA;AAAA,UAJK,CAAA,CAAE;AAAA,SAMV,GACH,CAAA,GACE;AAAA;AAAA;AAAA,GACN,EACF,CAAA;AAEJ,CAAC;AAaM,SAAS,UAAU,KAAA,EAAuB;AAC/C,EAAA,MAAM,EAAE,IAAA,EAAM,KAAA,EAAO,UAAU,IAAA,EAAM,UAAA,GAAa,iBAAgB,GAAI,KAAA;AAEtE,EAAA,MAAM,WAAW,WAAA,EAAY;AAC7B,EAAA,MAAM,WAAW,WAAA,EAAY;AAG7B,EAAA,MAAM,aAAA,GAAgBZ,QAAQ,MAAM;AAClC,IAAA,MAAM,EAAA,GAAK,IAAI,eAAA,CAAgB,QAAA,CAAS,MAAM,CAAA;AAC9C,IAAA,OAAO,EAAA,CAAG,GAAA,CAAI,aAAa,CAAA,IAAK,EAAA;AAAA,EAClC,CAAA,EAAG,CAAC,QAAA,CAAS,MAAM,CAAC,CAAA;AAEpB,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAID,SAAS,aAAa,CAAA;AAC1D,EAAA,MAAM,CAAC,iBAAA,EAAmB,oBAAoB,CAAA,GAAIA,SAAS,KAAK,CAAA;AAChE,EAAA,MAAM,CAAC,aAAA,EAAe,gBAAgB,CAAA,GAAIA,SAAwB,IAAI,CAAA;AACtE,EAAA,MAAM,CAAC,cAAA,EAAgB,iBAAiB,CAAA,GAAIA,SAAwB,IAAI,CAAA;AAExE,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAIA,SAAkB,KAAK,CAAA;AAEvD,EAAAL,UAAU,MAAM;AACd,IAAA,WAAA,CAAY,KAAK,CAAA;AAAA,EACnB,CAAA,EAAG,CAAC,KAAK,CAAC,CAAA;AAEV,EAAA,MAAM,aAAA,GAAgBM,OAAAA;AAAA,IACpB,MAAM,cAAA,CAAe,QAAA,EAAU,UAAU,CAAA;AAAA,IACzC,CAAC,UAAU,UAAU;AAAA,GACvB;AAEA,EAAA,MAAM,cAAA,GAAiBA,OAAAA;AAAA,IACrB,MAAM,sBAAsB,aAAa,CAAA;AAAA,IACzC,CAAC,aAAa;AAAA,GAChB;AAEA,EAAA,MAAM,SAAA,GAAYI,WAAAA;AAAA,IAChB,CAAC,UAAA,KAAuB;AACtB,MAAA,MAAM,EAAA,GAAK,IAAI,eAAA,CAAgB,QAAA,CAAS,MAAM,CAAA;AAC9C,MAAA,MAAM,CAAA,GAAI,WAAW,IAAA,EAAK;AAE1B,MAAA,IAAI,CAAA,EAAG,EAAA,CAAG,GAAA,CAAI,aAAA,EAAe,CAAC,CAAA;AAAA,WACzB,EAAA,CAAG,OAAO,aAAa,CAAA;AAE5B,MAAA,QAAA;AAAA,QACE,EAAE,MAAA,EAAQ,EAAA,CAAG,QAAA,EAAS,GAAI,IAAI,EAAA,CAAG,QAAA,EAAU,CAAA,CAAA,GAAK,EAAA,EAAG;AAAA,QACnD,EAAE,SAAS,IAAA;AAAK,OAClB;AAAA,IACF,CAAA;AAAA,IACA,CAAC,QAAA,CAAS,MAAA,EAAQ,QAAQ;AAAA,GAC5B;AAEA,EAAAV,UAAU,MAAM;AACd,IAAA,MAAM,SAAA,GAAY,CAAC,CAAC,UAAA,CAAW,IAAA,EAAK;AAEpC,IAAA,IAAI,CAAC,cAAA,CAAe,MAAA,IAAU,CAAC,SAAA,EAAW;AACxC,MAAA,oBAAA,CAAqB,KAAK,CAAA;AAC1B,MAAA,gBAAA,CAAiB,IAAI,CAAA;AACrB,MAAA,iBAAA,CAAkB,IAAI,CAAA;AACtB,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,iBAAA,EAAmB;AACrB,MAAA,MAAM,QAAA,GAAW,eAAe,MAAA,GAAS,CAAA;AACzC,MAAA,IAAI,GAAA,GAAM,aAAA;AACV,MAAA,IAAI,OAAO,IAAA,IAAQ,GAAA,GAAM,CAAA,IAAK,GAAA,GAAM,UAAU,GAAA,GAAM,CAAA;AAEpD,MAAA,gBAAA,CAAiB,GAAG,CAAA;AACpB,MAAA,iBAAA,CAAkB,cAAA,CAAe,GAAG,CAAA,CAAE,MAAM,CAAA;AAAA,IAC9C,CAAA,MAAO;AACL,MAAA,gBAAA,CAAiB,IAAI,CAAA;AACrB,MAAA,iBAAA,CAAkB,IAAI,CAAA;AAAA,IACxB;AAAA,EAEF,CAAA,EAAG,CAAC,cAAA,EAAgB,UAAU,CAAC,CAAA;AAE/B,EAAA,MAAM,cAAA,GAAiBU,WAAAA;AAAA,IACrB,CAAC,IAAA,KAAiB;AAChB,MAAA,aAAA,CAAc,IAAI,CAAA;AAClB,MAAA,oBAAA,CAAqB,KAAK,CAAA;AAC1B,MAAA,gBAAA,CAAiB,IAAI,CAAA;AACrB,MAAA,iBAAA,CAAkB,IAAI,CAAA;AACtB,MAAA,SAAA,CAAU,IAAI,CAAA;AAAA,IAChB,CAAA;AAAA,IACA,CAAC,SAAS;AAAA,GACZ;AAEA,EAAA,MAAM,eAAA,GAAkBA,WAAAA;AAAA,IACtB,CAAC,KAAA,KAAiD;AAChD,MAAA,IAAI,CAAC,eAAe,MAAA,EAAQ;AAC5B,MAAA,IAAI,CAAC,UAAA,CAAW,IAAA,EAAK,EAAG;AAExB,MAAA,IAAI,KAAA,CAAM,QAAQ,WAAA,EAAa;AAC7B,QAAA,KAAA,CAAM,cAAA,EAAe;AAErB,QAAA,IAAI,CAAC,iBAAA,EAAmB;AACtB,UAAA,oBAAA,CAAqB,IAAI,CAAA;AACzB,UAAA,gBAAA,CAAiB,CAAC,CAAA;AAClB,UAAA,iBAAA,CAAkB,cAAA,CAAe,CAAC,CAAA,CAAE,MAAM,CAAA;AAC1C,UAAA;AAAA,QACF;AAEA,QAAA,gBAAA,CAAiB,CAAC,GAAA,KAAQ;AACxB,UAAA,MAAM,UAAU,GAAA,IAAO,CAAA;AACvB,UAAA,MAAM,GAAA,GAAM,eAAe,MAAA,GAAS,CAAA;AACpC,UAAA,MAAM,IAAA,GAAO,OAAA,GAAU,CAAA,GAAI,GAAA,GAAM,IAAI,OAAA,GAAU,CAAA;AAC/C,UAAA,iBAAA,CAAkB,cAAA,CAAe,IAAI,CAAA,CAAE,MAAM,CAAA;AAC7C,UAAA,OAAO,IAAA;AAAA,QACT,CAAC,CAAA;AAAA,MACH,CAAA,MAAA,IAAW,KAAA,CAAM,GAAA,KAAQ,SAAA,EAAW;AAClC,QAAA,KAAA,CAAM,cAAA,EAAe;AAErB,QAAA,IAAI,CAAC,iBAAA,EAAmB;AACtB,UAAA,oBAAA,CAAqB,IAAI,CAAA;AACzB,UAAA,MAAM,IAAA,GAAO,eAAe,MAAA,GAAS,CAAA;AACrC,UAAA,gBAAA,CAAiB,IAAI,CAAA;AACrB,UAAA,iBAAA,CAAkB,cAAA,CAAe,IAAI,CAAA,CAAE,MAAM,CAAA;AAC7C,UAAA;AAAA,QACF;AAEA,QAAA,gBAAA,CAAiB,CAAC,GAAA,KAAQ;AACxB,UAAA,MAAM,UAAU,GAAA,IAAO,CAAA;AACvB,UAAA,MAAM,GAAA,GAAM,eAAe,MAAA,GAAS,CAAA;AACpC,UAAA,MAAM,IAAA,GAAO,OAAA,GAAU,CAAA,GAAI,CAAA,GAAI,MAAM,OAAA,GAAU,CAAA;AAC/C,UAAA,iBAAA,CAAkB,cAAA,CAAe,IAAI,CAAA,CAAE,MAAM,CAAA;AAC7C,UAAA,OAAO,IAAA;AAAA,QACT,CAAC,CAAA;AAAA,MACH,CAAA,MAAA,IAAW,KAAA,CAAM,GAAA,KAAQ,OAAA,EAAS;AAChC,QAAA,IAAI,CAAC,iBAAA,EAAmB;AACxB,QAAA,KAAA,CAAM,cAAA,EAAe;AAErB,QAAA,MAAM,GAAA,GAAM,aAAA;AACZ,QAAA,IAAI,OAAO,IAAA,IAAQ,GAAA,GAAM,CAAA,IAAK,GAAA,IAAO,eAAe,MAAA,EAAQ;AAE5D,QAAA,MAAM,CAAA,GAAI,eAAe,GAAG,CAAA;AAC5B,QAAA,IAAI,CAAA,CAAE,eAAA,KAAoB,MAAA,IAAU,CAAA,CAAE,KAAA,EAAO;AAC3C,UAAA,QAAA,CAAS,EAAE,KAAK,CAAA;AAAA,QAClB,CAAA,MAAA,IAAW,EAAE,cAAA,EAAgB;AAC3B,UAAA,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA,CAAE,cAAA;AAAA,QAC3B;AAAA,MACF;AAAA,IACF,CAAA;AAAA,IACA,CAAC,cAAA,EAAgB,UAAA,EAAY,iBAAA,EAAmB,eAAe,QAAQ;AAAA,GACzE;AAEA,EAAA,MAAM,aAAA,GAAgBA,WAAAA,CAAY,CAAC,MAAA,KAAmB;AACpD,IAAA,MAAM,SAAS,CAAC,IAAA,KACd,IAAA,CAAK,GAAA,CAAI,CAAC,CAAA,KAAM;AA5jBtB,MAAA,IAAA,EAAA;AA6jBQ,MAAA,IAAI,CAAA,CAAE,WAAW,MAAA,EAAQ;AACvB,QAAA,IAAI,CAAA,CAAE,eAAe,UAAA,EAAY;AAC/B,UAAA,MAAM,OAAA,GACJ,CAAA,CAAE,UAAA,KAAe,UAAA,GAAa,WAAA,GAAc,UAAA;AAC9C,UAAA,OAAO,EAAE,GAAG,CAAA,EAAG,UAAA,EAAY,OAAA,EAAQ;AAAA,QACrC;AACA,QAAA,OAAO,CAAA;AAAA,MACT;AACA,MAAA,IAAA,CAAI,EAAA,GAAA,CAAA,CAAE,KAAA,KAAF,IAAA,GAAA,MAAA,GAAA,EAAA,CAAS,MAAA,EAAQ,OAAO,EAAE,GAAG,CAAA,EAAG,KAAA,EAAO,MAAA,CAAO,CAAA,CAAE,KAAK,CAAA,EAAE;AAC3D,MAAA,OAAO,CAAA;AAAA,IACT,CAAC,CAAA;AAEH,IAAA,WAAA,CAAY,CAAC,IAAA,KAAS,MAAA,CAAO,IAAI,CAAC,CAAA;AAAA,EACpC,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,uBACEZ,IAAAA,CAAC,YAAA,EAAA,EAAW,WAAW,CAAC,OAAA,GAAU,WAAW,MAAA,EAC3C,QAAA,EAAA;AAAA,oBAAAD,GAAAA,CAAC,SAAI,SAAA,EAAU,mBAAA,EACZ,iCACCC,IAAAA,CAAAqB,UAAA,EACE,QAAA,EAAA;AAAA,sBAAAtB,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,YAAA,EACb,QAAA,kBAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,GAAA,EAAI,YAAA,EAAa,GAAA,EAAK,IAAA,CAAK,aAAA,EAAe,CAAA,EACjD,CAAA;AAAA,sBACAC,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EACb,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAAC,OAAA,EAAA,EAAM,SAAA,EAAU,aAAA,EAAe,eAAK,YAAA,EAAa,CAAA;AAAA,wBAClDA,GAAAA,CAAC,IAAA,EAAA,EAAI,QAAA,EAAA,IAAA,CAAK,QAAA,EAAS;AAAA,OAAA,EACrB;AAAA,KAAA,EACF,IACE,IAAA,EACN,CAAA;AAAA,oBAEAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,qBACb,QAAA,kBAAAA,GAAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,WAAA,EAAY,eAAA;AAAA,QACZ,SAAA,EAAU,cAAA;AAAA,QACV,KAAA,EAAO,UAAA;AAAA,QACP,UAAU,CAAC,CAAA,KAAM,cAAA,CAAe,CAAA,CAAE,OAAO,KAAK,CAAA;AAAA,QAC9C,SAAA,EAAW;AAAA;AAAA,KACb,EACF,CAAA;AAAA,oBAEAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iCAAA,EACb,QAAA,kBAAAA,GAAAA,CAAC,IAAA,EAAA,EACE,QAAA,EAAA,aAAA,CAAc,GAAA,CAAI,CAAC,CAAA,qBAClBA,GAAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QAEC,IAAA,EAAM,CAAA;AAAA,QACN,MAAA,EAAQ,UAAA;AAAA,QACR,cAAA;AAAA,QACA;AAAA,OAAA;AAAA,MAJK,CAAA,CAAE;AAAA,KAMV,GACH,CAAA,EACF,CAAA;AAAA,oBAEAA,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,qBACb,QAAA,kBAAAA,GAAAA,CAAC,OAAA,EAAA,EAAO,QAAA,EAAA,UAAA,EAAW,CAAA,EACrB;AAAA,GAAA,EACF,CAAA;AAEJ;ACrnBA,IAAM,eAAA,GAAkBuB,cAA+B,IAAI,CAAA;AAEpD,SAAS,iBAAiB,KAAA,EAG9B;AACD,EAAA,uBACEvB,IAAC,eAAA,CAAgB,QAAA,EAAhB,EAAyB,KAAA,EAAO,KAAA,CAAM,OAAA,EACpC,QAAA,EAAA,KAAA,CAAM,QAAA,EACT,CAAA;AAEJ;AAEO,SAAS,UAAA,GAAuB;AACrC,EAAA,MAAM,GAAA,GAAMwB,WAAW,eAAe,CAAA;AACtC,EAAA,IAAI,CAAC,GAAA;AACH,IAAA,MAAM,IAAI,KAAA;AAAA,MACR;AAAA,KACF;AACF,EAAA,OAAO,GAAA;AACT;ACAA,SAAS,YAAA,CAAa,OAAgB,GAAA,EAA+B;AACnE,EAAA,OAAO,OAAO,KAAA,KAAU,UAAA,GAAa,KAAA,CAAM,GAAG,CAAA,GAAI,KAAA;AACpD;AAEA,SAAS,kBAAA,CACP,QACA,GAAA,EACmB;AACnB,EAAA,MAAM,OAAO,OAAO,MAAA,KAAW,UAAA,GAAa,MAAA,CAAO,GAAG,CAAA,GAAI,MAAA;AAE1D,EAAA,MAAM,MAAyB,EAAC;AAChC,EAAA,KAAA,MAAW,KAAK,IAAA,EAAM;AACpB,IAAA,MAAM,WAAW,OAAO,CAAA,KAAM,UAAA,GAAa,CAAA,CAAE,GAAG,CAAA,GAAI,CAAA;AACpD,IAAA,IAAI,CAAC,QAAA,EAAU;AACf,IAAA,IAAI,QAAA,CAAS,KAAA,EAAO,GAAA,CAAI,IAAA,CAAK,EAAE,KAAA,EAAO,QAAA,CAAS,KAAA,EAAO,GAAA,EAAK,QAAA,CAAS,GAAA,EAAK,CAAA;AAAA,EAC3E;AACA,EAAA,OAAO,GAAA;AACT;AAEO,SAAS,OAAO,KAAA,EAAoB;AACzC,EAAA,MAAM,UAAU,UAAA,EAAW;AAC3B,EAAA,MAAM,MAAMC,WAAAA,EAAY;AACxB,EAAA,MAAM,SAAS,SAAA,EAAU;AAEzB,EAAA,MAAM,GAAA,GAAMhB,OAAAA;AAAA,IACV,OAAO;AAAA,MACL,UAAU,GAAA,CAAI,QAAA;AAAA,MACd;AAAA,KACF,CAAA;AAAA,IACA,CAAC,GAAA,CAAI,QAAA,EAAU,MAAM;AAAA,GACvB;AAEA,EAAAN,UAAU,MAAM;AACd,IAAA,MAAM,KAAA,GAAQ,YAAA,CAAa,KAAA,CAAM,KAAA,EAAO,GAAG,CAAA;AAC3C,IAAA,MAAM,MAAA,GAAS,kBAAA,CAAmB,KAAA,CAAM,WAAA,EAAa,GAAG,CAAA;AAExD,IAAA,OAAA,CAAQ,SAAS,KAAK,CAAA;AACtB,IAAA,OAAA,CAAQ,cAAA,CAAe,MAAA,CAAO,MAAA,GAAS,MAAA,GAAS,IAAI,CAAA;AAAA,EAEtD,CAAA,EAAG,CAAC,OAAA,EAAS,GAAA,CAAI,QAAQ,CAAC,CAAA;AAE1B,EAAAA,UAAU,MAAM;AACd,IAAA,IAAI,CAAC,MAAM,cAAA,EAAgB;AAC3B,IAAA,OAAO,MAAM;AACX,MAAA,OAAA,CAAQ,SAAS,IAAI,CAAA;AACrB,MAAA,OAAA,CAAQ,eAAe,IAAI,CAAA;AAAA,IAC7B,CAAA;AAAA,EACF,CAAA,EAAG,CAAC,OAAA,EAAS,KAAA,CAAM,cAAc,CAAC,CAAA;AAElC,EAAA,uBAAOH,GAAAA,CAAAsB,QAAAA,EAAA,EAAG,gBAAM,QAAA,EAAS,CAAA;AAC3B;ACvDA,SAAS,aAAa,CAAA,EAAiB;AACrC,EAAA,IAAI,CAAA,KAAM,IAAA,IAAQ,CAAA,KAAM,MAAA,EAAW,OAAO,KAAA;AAC1C,EAAA,MAAM,IAAI,MAAA,CAAO,CAAC,CAAA,CAAE,IAAA,GAAO,WAAA,EAAY;AACvC,EAAA,IAAI,MAAM,OAAA,IAAW,CAAA,KAAM,GAAA,IAAO,CAAA,KAAM,UAAU,CAAA,KAAM,WAAA;AACtD,IAAA,OAAO,KAAA;AACT,EAAA,OAAO,IAAA;AACT;AAEA,SAAS,WAAW,CAAA,EAAoD;AACtE,EAAA,IAAI,CAAC,aAAa,CAAC,CAAA,SAAU,EAAE,OAAA,EAAS,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAE3D,EAAA,MAAM,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,CAAE,IAAA,EAAK;AACzB,EAAA,IAAI,CAAA,KAAM,EAAA,IAAM,CAAA,CAAE,WAAA,EAAY,KAAM,MAAA;AAClC,IAAA,OAAO,EAAE,OAAA,EAAS,IAAA,EAAM,KAAA,EAAO,IAAA,EAAK;AAEtC,EAAA,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA;AAClB,EAAA,IAAI,MAAA,CAAO,SAAS,CAAC,CAAA,IAAK,OAAO,SAAA,CAAU,CAAC,KAAK,CAAA,IAAK,CAAA;AACpD,IAAA,OAAO,EAAE,OAAA,EAAS,IAAA,EAAM,KAAA,EAAO,CAAA,EAAE;AAEnC,EAAA,OAAO,EAAE,OAAA,EAAS,IAAA,EAAM,KAAA,EAAO,IAAA,EAAK;AACtC;AAEA,SAAS,gBAAgB,CAAA,EAAuB;AAE9C,EAAA,IAAI,CAAA,KAAM,IAAA,IAAQ,CAAA,KAAM,MAAA,EAAW,OAAO,IAAA;AAE1C,EAAA,MAAM,IAAI,MAAA,CAAO,CAAC,CAAA,CAAE,IAAA,GAAO,WAAA,EAAY;AACvC,EAAA,IAAI,MAAM,EAAA,IAAM,CAAA,KAAM,MAAA,IAAU,CAAA,KAAM,QAAQ,OAAO,IAAA;AAGrD,EAAA,IAAI,CAAA,CAAE,QAAA,CAAS,IAAI,CAAA,EAAG;AACpB,IAAA,MAAMpB,EAAAA,GAAI,OAAO,CAAA,CAAE,KAAA,CAAM,GAAG,EAAE,CAAA,CAAE,MAAM,CAAA;AACtC,IAAA,OAAO,OAAO,QAAA,CAASA,EAAC,CAAA,IAAKA,EAAAA,GAAI,IAAIA,EAAAA,GAAI,IAAA;AAAA,EAC3C;AAEA,EAAA,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA;AAClB,EAAA,OAAO,OAAO,QAAA,CAAS,CAAC,CAAA,IAAK,CAAA,GAAI,IAAI,CAAA,GAAI,IAAA;AAC3C;AAMO,SAAS,SAAS,KAAA,EAA0C;AACjE,EAAA,uBAAOF,GAAAA,CAAC,WAAA,EAAA,EAAW,GAAG,KAAA,EAAO,CAAA;AAC/B;AAEO,SAAS,eAAe,KAAA,EAA0C;AAEvE,EAAA,uBACEA,GAAAA,CAAC,kBAAA,EAAA,EAAkB,GAAG,KAAA,EACpB,0BAAAA,GAAAA,CAAC,IAAA,EAAA,EAAI,QAAA,EAAA,KAAA,CAAM,QAAA,EAAS,CAAA,EACtB,CAAA;AAEJ;AAEO,SAAS,kBAAkB,KAAA,EAA0C;AAE1E,EAAA,uBACEA,GAAAA,CAAC,sBAAA,EAAA,EAAsB,GAAG,KAAA,EACxB,0BAAAA,GAAAA,CAAC,IAAA,EAAA,EAAI,QAAA,EAAA,KAAA,CAAM,QAAA,EAAS,CAAA,EACtB,CAAA;AAEJ;AAEO,SAAS,eAAe,KAAA,EAA0C;AACvE,EAAA,uBAAOA,GAAAA,CAAC,kBAAA,EAAA,EAAkB,GAAG,KAAA,EAAO,CAAA;AACtC;AAEO,SAAS,aAAa,KAAA,EAA0C;AACrE,EAAA,uBAAOA,GAAAA,CAAC,gBAAA,EAAA,EAAgB,GAAG,KAAA,EAAO,CAAA;AACpC;AAEO,SAAS,eAAe,KAAA,EAA0C;AACvE,EAAA,uBAAOA,GAAAA,CAAC,kBAAA,EAAA,EAAkB,GAAG,KAAA,EAAO,CAAA;AACtC;AAOO,SAAS,kBAAkB,KAAA,EAA+B;AAE/D,EAAA,uBAAOA,GAAAA,CAAAsB,QAAAA,EAAA,EAAG,gBAAM,QAAA,EAAS,CAAA;AAC3B;AACA,iBAAA,CAAkB,WAAA,GAAc,mBAAA;AAGzB,SAAS,mBAAmB,KAAA,EAAgC;AAEjE,EAAA,uBAAOtB,GAAAA,CAAAsB,QAAAA,EAAA,EAAG,gBAAM,QAAA,EAAS,CAAA;AAC3B;AACA,kBAAA,CAAmB,WAAA,GAAc,oBAAA;AAe1B,SAAS,YAAY,MAAA,EAA0B;AAEpD,EAAA,OAAO,IAAA;AACT;AACA,WAAA,CAAY,WAAA,GAAc,aAAA;AAY1B,SAAS,eAAA,CACP,IACA,IAAA,EAC6B;AAC7B,EAAA,OAAOlB,MAAAA,CAAM,cAAA,CAAe,EAAE,CAAA,IAAK,GAAG,IAAA,KAAS,IAAA;AACjD;AAEA,SAAS,UAAA,CACP,OACA,KAAA,EACa;AACb,EAAA,MAAM,QAAQ,KAAA,CAAM,KAAA;AACpB,EAAA,MAAM,KAAA,GAAQ,MAAM,KAAA,IAAS,EAAA;AAC7B,EAAA,MAAM,MAAA,GAAS,CAAC,CAAC,KAAA,CAAM,MAAA;AAEvB,EAAA,MAAM,WAAA,GAAc,UAAA,CAAW,KAAA,CAAM,KAAK,CAAA;AAC1C,EAAA,MAAM,eAAe,WAAA,CAAY,OAAA;AACjC,EAAA,MAAM,aAAa,WAAA,CAAY,KAAA;AAG/B,EAAA,MAAM,aAAA,mBACJH,IAAAA,CAAAqB,QAAAA,EAAA,EACE,QAAA,EAAA;AAAA,oBAAAtB,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,qBAAA,EAAuB,QAAA,EAAA,KAAA,EAAM,CAAA;AAAA,IAC5C,+BACCA,GAAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW;AAAA,UACT,qBAAA;AAAA,UACA,UAAA,KAAe,OAAO,YAAA,GAAe;AAAA,SACvC,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,QACV,QAAA,EAAA,UAAA,KAAe,uBACdA,GAAAA,CAAC,UAAK,SAAA,EAAU,4BAAA,EAA8B,sBAAW,CAAA,GACvD;AAAA;AAAA,KACN,GACE;AAAA,GAAA,EACN,CAAA;AAIF,EAAA,MAAM,iCAAiBA,GAAAA,CAAAsB,QAAAA,EAAA,EAAG,gBAAM,QAAA,EAAS,CAAA;AAGzC,EAAA,IAAI,UAAA,GAA8B,MAAM,MAAA,IAAU,aAAA;AAClD,EAAA,IAAI,WAAA,GAA+B,MAAM,OAAA,IAAW,cAAA;AAGpD,EAAA,IAAI,MAAM,QAAA,EAAU;AAClB,IAAA,MAAM,WAAA,GAAclB,MAAAA,CAAM,QAAA,CAAS,OAAA,CAAQ,MAAM,QAAQ,CAAA;AAEzD,IAAA,MAAM,eAAe,WAAA,CAAY,IAAA;AAAA,MAAK,CAAC,CAAA,KACrC,eAAA,CAAwC,CAAA,EAAG,iBAAiB;AAAA,KAC9D;AAEA,IAAA,MAAM,gBAAgB,WAAA,CAAY,IAAA;AAAA,MAAK,CAAC,CAAA,KACtC,eAAA,CAAyC,CAAA,EAAG,kBAAkB;AAAA,KAChE;AAEA,IAAA,IAAI,YAAA,EAAc;AAChB,MAAA,UAAA,GAAa,YAAA,CAAa,MAAM,QAAA,IAAY,IAAA;AAAA,IAC9C;AAEA,IAAA,IAAI,aAAA,EAAe;AACjB,MAAA,WAAA,GAAc,aAAA,CAAc,MAAM,QAAA,IAAY,IAAA;AAAA,IAChD;AAAA,EACF;AAEA,EAAA,OAAO;AAAA,IACL,GAAA,EAAK,KAAA,CAAM,GAAA,IAAO,CAAA,IAAA,EAAO,KAAK,CAAA,CAAA;AAAA,IAC9B,KAAA;AAAA,IACA,MAAA;AAAA,IACA,YAAA;AAAA,IACA,UAAA;AAAA,IACA,UAAA;AAAA,IACA;AAAA,GACF;AACF;AAoBO,SAAS,aAAa,KAAA,EAA0B;AACrD,EAAA,MAAM;AAAA,IACJ,aAAA,GAAgB,IAAA;AAAA,IAChB,qBAAA;AAAA,IACA,MAAA;AAAA,IACA,QAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,IAAA,GAAOK,QAAQ,MAAM;AACzB,IAAA,MAAM,GAAA,GAAML,MAAAA,CAAM,QAAA,CAAS,OAAA,CAAQ,QAAQ,CAAA,CAAE,MAAA;AAAA,MAAO,CAAC,CAAA,KACnD,eAAA,CAAgB,CAAA,EAAG,WAAW;AAAA,KAChC;AAEA,IAAA,OAAO,GAAA,CAAI,IAAI,CAAC,CAAA,EAAG,MAAM,UAAA,CAAW,CAAA,EAAG,CAAC,CAAC,CAAA;AAAA,EAC3C,CAAA,EAAG,CAAC,QAAQ,CAAC,CAAA;AAEb,EAAA,MAAM,YAAA,GAAe,aAAA,KAAkB,IAAA,IAAQ,aAAA,KAAkB,MAAA;AAEjE,EAAA,MAAM,YAAA,GAAeK,QAAQ,MAAM;AACjC,IAAA,IACE,YAAA,IACA,OAAO,SAAA,CAAU,aAAa,KAC7B,aAAA,IAA4B,CAAA,IAC5B,aAAA,GAA2B,IAAA,CAAK,MAAA,EACjC;AACA,MAAA,OAAO,aAAA;AAAA,IACT;AAEA,IAAA,MAAM,cAAc,IAAA,CAAK,SAAA,CAAU,CAAC,CAAA,KAAM,EAAE,MAAM,CAAA;AAClD,IAAA,OAAO,WAAA,IAAe,IAAI,WAAA,GAAc,CAAA;AAAA,EAC1C,CAAA,EAAG,CAAC,YAAA,EAAc,aAAA,EAAe,IAAI,CAAC,CAAA;AAEtC,EAAA,MAAM,CAAC,iBAAA,EAAmB,oBAAoB,CAAA,GAC5CD,SAAiB,YAAY,CAAA;AAG/B,EAAAL,UAAU,MAAM;AACd,IAAA,IAAI,YAAA,EAAc;AAElB,IAAA,oBAAA,CAAqB,CAAC,IAAA,KAAS;AAC7B,MAAA,IAAI,IAAA,IAAQ,CAAA,IAAK,IAAA,GAAO,IAAA,CAAK,QAAQ,OAAO,IAAA;AAC5C,MAAA,OAAO,YAAA;AAAA,IACT,CAAC,CAAA;AAAA,EACH,GAAG,CAAC,IAAA,CAAK,MAAA,EAAQ,YAAA,EAAc,YAAY,CAAC,CAAA;AAE5C,EAAA,MAAM,cAAA,GAAiB,eAClB,aAAA,GACD,iBAAA;AAGJ,EAAA,MAAM,WAAA,GACJ,MAAA,CAAO,SAAA,CAAU,cAAc,CAAA,IAC/B,cAAA,IAAkB,CAAA,IAClB,cAAA,GAAiB,IAAA,CAAK,MAAA,GAClB,cAAA,GACA,IAAA,CAAK,SACH,CAAA,GACA,EAAA;AAER,EAAA,MAAM,YAAY,WAAA,IAAe,CAAA,GAAK,IAAA,CAAK,WAAW,KAAK,IAAA,GAAQ,IAAA;AAEnE,EAAA,MAAM,eAAA,GAAkB,gBAAgB,MAAM,CAAA;AAC9C,EAAA,MAAM,gBAAgB,eAAA,KAAoB,IAAA;AAE1C,EAAA,MAAM,QAAA,GAAWU,WAAAA;AAAA,IACf,CAAC,GAAA,KAAgB;AACf,MAAA,IAAI,CAAC,OAAO,SAAA,CAAU,GAAG,KAAK,GAAA,GAAM,CAAA,IAAK,GAAA,IAAO,IAAA,CAAK,MAAA,EAAQ;AAE7D,MAAA,IAAI,CAAC,YAAA,EAAc,oBAAA,CAAqB,GAAG,CAAA;AAC3C,MAAA,qBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,qBAAA,CAAwB,GAAA,CAAA;AAAA,IAC1B,CAAA;AAAA,IACA,CAAC,IAAA,CAAK,MAAA,EAAQ,YAAA,EAAc,qBAAqB;AAAA,GACnD;AAEA,EAAA,uBACEZ,IAAAA,CAAC,gBAAA,EAAA,EAAgB,GAAG,IAAA,EAClB,QAAA,EAAA;AAAA,oBAAAD,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wBAAA,EAAyB,IAAA,EAAK,WAC1C,QAAA,EAAA,IAAA,CAAK,GAAA,CAAI,CAAC,GAAA,EAAK,GAAA,KAAQ;AACtB,MAAA,MAAM,WAAW,GAAA,KAAQ,WAAA;AAEzB,MAAA,uBACEA,GAAAA;AAAA,QAAC,QAAA;AAAA,QAAA;AAAA,UAEC,SAAA,EAAW,CAAC,uBAAA,EAAyB,QAAA,GAAW,QAAA,GAAW,IAAI,CAAA,CAC5D,MAAA,CAAO,OAAO,CAAA,CACd,IAAA,CAAK,GAAG,CAAA;AAAA,UACX,IAAA,EAAK,KAAA;AAAA,UACL,IAAA,EAAK,QAAA;AAAA,UACL,eAAA,EAAe,QAAA;AAAA,UACf,QAAA,EAAU,WAAW,CAAA,GAAI,EAAA;AAAA,UACzB,OAAA,EAAS,MAAM,QAAA,CAAS,GAAG,CAAA;AAAA,UAC1B,QAAA,EAAA,GAAA,CAAI;AAAA,SAAA;AAAA,QATA,GAAA,CAAI;AAAA,OAUX;AAAA,IAEJ,CAAC,CAAA,EACH,CAAA;AAAA,oBAEAA,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW;AAAA,UACT,wBAAA;AAAA,UACA,gBAAgB,QAAA,GAAW,IAAA;AAAA,UAC3B,gBAAgB,UAAA,GAAa;AAAA,SAC/B,CACG,MAAA,CAAO,OAAO,CAAA,CACd,KAAK,GAAG,CAAA;AAAA,QACX,OAAO,aAAA,GAAgB,EAAE,QAAQ,CAAA,EAAG,eAAe,MAAK,GAAI,MAAA;AAAA,QAC3D,QAAA,EAAA,SAAA,GAAY,UAAU,WAAA,GAAc;AAAA;AAAA;AACvC,GAAA,EACF,CAAA;AAEJ","file":"index.js","sourcesContent":["// icon.constants.ts\nexport const I_ICON_NAMES = {\n  add: 'fa-solid fa-plus',\n  'angle-down': 'fa-solid fa-angle-down',\n  'angle-up': 'fa-solid fa-angle-up',\n  'arrow-down': 'fa-solid fa-arrow-down',\n  'arrow-up': 'fa-solid fa-arrow-up',\n  back: 'fa-solid fa-chevron-left',\n  bars: 'fa-solid fa-bars',\n  cancel: 'fa-solid fa-xmark',\n  calendar: 'fa-solid fa-calendar-days',\n\n  check: 'fa-solid fa-check',\n  'check-circle': 'fa-solid fa-circle-check',\n  code: 'fa-solid fa-code',\n  delete: 'fa-solid fa-trash',\n  edit: 'fa-solid fa-pen',\n  ellipsis: 'fa-solid fa-ellipsis',\n\n  exclamation: 'fa-solid fa-circle-exclamation',\n  'file-excel': 'fa-solid fa-file-excel',\n  'file-pdf': 'fa-solid fa-file-pdf',\n  'folder-open': 'fa-solid fa-folder-open',\n  hashtag: 'fa-solid fa-hashtag',\n  info: 'fa-solid fa-circle-info',\n\n  'layer-group': 'fa-solid fa-layer-group',\n  link: 'fa-solid fa-arrow-up-right-from-square',\n  maximize: 'fa-solid fa-window-maximize',\n  'map-marker': 'fa-solid fa-location-dot',\n  next: 'fa-solid fa-chevron-right',\n  prev: 'fa-solid fa-chevron-left',\n  up: 'fa-solid fa-angle-up',\n  down: 'fa-solid fa-angle-down',\n  save: 'fa-solid fa-floppy-disk',\n  signature: 'fa-solid fa-file-signature',\n  'sort-asc': 'fa-solid fa-arrow-down-a-z',\n  'sort-dsc': 'fa-solid fa-arrow-down-z-a',\n  sync: 'fa-solid fa-arrows-rotate',\n\n  tags: 'fa-solid fa-tags',\n  user: 'fa-solid fa-user',\n  users: 'fa-solid fa-users',\n  unlock: 'fa-solid fa-unlock',\n  upload: 'fa-solid fa-cloud-arrow-up',\n\n  view: 'fa-solid fa-eye',\n  x: 'fa-solid fa-xmark',\n  'x-circle': 'fa-solid fa-circle-xmark',\n} as const;\n\nexport const I_ICON_SIZES = {\n  '2xs': 'i-icon-2xs',\n  xs: 'i-icon-xs',\n  sm: 'i-icon-sm',\n  md: 'i-icon-md',\n  lg: 'i-icon-lg',\n  xl: 'i-icon-xl',\n  '2xl': 'i-icon-2xl',\n  '3xl': 'i-icon-3xl',\n  '4xl': 'i-icon-4xl',\n} as const;\n","// icon.tsx\nimport type React from 'react';\nimport { I_ICON_NAMES, I_ICON_SIZES } from './icon.constants';\n\nexport type IIconName = keyof typeof I_ICON_NAMES;\nexport type IIconSize = keyof typeof I_ICON_SIZES;\n\n/**\n *  Autocomplete for aliases (IIconName),\n *  Still allow ANY string (raw FA classes, custom classes, etc.)\n */\nexport type IIconInput = IIconName | (string & {});\n\nexport type IIconProps = Omit<React.HTMLAttributes<HTMLElement>, 'children'> & {\n  icon: IIconInput;\n  size?: IIconSize;\n};\n\nexport function IIcon(props: IIconProps) {\n  const { icon, size = 'md', className, ...rest } = props;\n\n  const iconSizeClass = I_ICON_SIZES[size] ?? I_ICON_SIZES.md;\n\n  // If icon is a known alias, map it. Otherwise treat it as raw class string.\n  const baseClass =\n    (I_ICON_NAMES as Record<string, string>)[icon] ?? String(icon);\n\n  const innerClass = `${baseClass} ${iconSizeClass}`.trim();\n\n  return (\n    <i-icon className={className} size={size} {...rest}>\n      <i className={innerClass} />\n    </i-icon>\n  );\n}\n","// loading.tsx\nimport type { HTMLAttributes } from 'react';\n\nexport type ILoadingProps = Omit<HTMLAttributes<HTMLElement>, 'children'> & {\n  label?: string;\n  light?: boolean;\n};\n\nexport function ILoading(props: ILoadingProps) {\n  const { label = 'Loading..', light = false, className, ...rest } = props;\n\n  return (\n    <i-loading className={className} light={light ? '' : undefined} {...rest}>\n      <div\n        className={[\n          'spinner-border',\n          'spinner-border-sm',\n          light ? 'light' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        role=\"status\"\n      />\n      {label ? ` ${label}` : null}\n    </i-loading>\n  );\n}\n","// button.tsx\nimport type React from 'react';\nimport { IIcon, type IIconInput } from '../icon/icon';\nimport { ILoading } from '../loading/loading';\nimport type { IUISize, IUIVariant } from '../shared/form.types';\n\nexport type IButtonType = 'button' | 'submit' | 'reset';\nexport type IButtonSize = Extract<IUISize, '2xs' | 'xs' | 'sm' | 'md' | 'lg'>;\nexport type IButtonVariant = Extract<\n  IUIVariant,\n  'primary' | 'warning' | 'danger' | 'success' | 'outline'\n>;\n\nexport type IButtonProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'children' | 'onClick'\n> & {\n  disabled?: boolean;\n  loading?: boolean;\n  type?: IButtonType;\n\n  loadingText?: string;\n  variant?: IButtonVariant;\n  size?: IButtonSize;\n\n  /**  autocomplete for aliases + allow raw FA class strings */\n  icon?: IIconInput;\n\n  /** Angular-ish naming: expose native event */\n  onClick?: (event: MouseEvent) => void;\n\n  children?: React.ReactNode;\n};\n\nfunction findClosestForm(startEl: HTMLElement | null): HTMLFormElement | null {\n  let el: HTMLElement | null = startEl;\n  while (el) {\n    if (el instanceof HTMLFormElement) return el;\n    el = el.parentElement;\n  }\n  return null;\n}\n\nexport function IButton(props: IButtonProps) {\n  const {\n    disabled = false,\n    loading = false,\n    type = 'button',\n    loadingText = '',\n    variant = 'primary',\n    size = 'md',\n    icon,\n    onClick,\n    children,\n    className,\n    ...rest\n  } = props;\n\n  const isBlocked = disabled || loading;\n\n  const handleClick: React.MouseEventHandler<HTMLElement> = (event) => {\n    if (isBlocked) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    // expose native event, like Angular\n    onClick?.(event.nativeEvent);\n\n    // manual submit/reset (because host is not <button>)\n    if (type === 'submit' || type === 'reset') {\n      const form = findClosestForm(event.target as HTMLElement | null);\n      if (!form) return;\n\n      if (type === 'submit') {\n        const requestSubmit = (\n          form as HTMLFormElement & { requestSubmit?: () => void }\n        ).requestSubmit;\n        if (typeof requestSubmit === 'function') requestSubmit.call(form);\n        else form.submit();\n      } else {\n        form.reset();\n      }\n    }\n  };\n\n  const handleKeyDown: React.KeyboardEventHandler<HTMLElement> = (event) => {\n    if (isBlocked) {\n      event.preventDefault();\n      return;\n    }\n\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n\n      // Simulate click (keeps submit/reset behavior consistent)\n      const mouseEvent = new MouseEvent('click', {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n      });\n\n      (event.target as HTMLElement | null)?.dispatchEvent(mouseEvent);\n    }\n  };\n\n  return (\n    <i-button\n      {...rest}\n      role=\"button\"\n      className={className}\n      variant={variant}\n      size={size}\n      type={type}\n      tabIndex={disabled ? -1 : 0}\n      aria-disabled={disabled ? 'true' : undefined}\n      aria-busy={loading ? 'true' : undefined}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}>\n      {loading ? (\n        <ILoading label={loadingText} light={variant !== 'outline'} />\n      ) : (\n        <>\n          {icon ? <IIcon icon={icon} size={size} /> : null}\n          {children}\n        </>\n      )}\n    </i-button>\n  );\n}\n","import React, { useEffect } from 'react';\n\nexport type ICardProps = React.HTMLAttributes<HTMLElement> & {\n  // External / normal anchor\n  href?: string | null;\n\n  // Anchor-related\n  target?: '_self' | '_blank' | '_parent' | '_top' | string;\n  rel?: string | null;\n\n  disabled?: boolean;\n\n  // Click-only usage\n  onCardClick?: (ev: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void;\n};\n\nfunction isDev(): boolean {\n  try {\n    return (import.meta as any).env?.DEV === true;\n  } catch {\n    return process.env.NODE_ENV !== 'production';\n  }\n}\n\nfunction normalizeHref(href: string | null | undefined): string | undefined {\n  const s = (href ?? '').trim();\n  return s ? s : undefined;\n}\n\nfunction mergeRel(\n  base: string | undefined,\n  extra: string | undefined\n): string | undefined {\n  const tokens = new Set<string>();\n  for (const src of [base, extra]) {\n    for (const t of (src ?? '').split(/\\s+/g).filter(Boolean)) {\n      tokens.add(t);\n    }\n  }\n  const out = Array.from(tokens).join(' ');\n  return out ? out : undefined;\n}\n\nexport function ICard(props: ICardProps) {\n  const {\n    href,\n    target,\n    rel,\n    disabled = false,\n    onCardClick,\n    children,\n    onClick, // allow normal onClick too\n    ...hostProps\n  } = props;\n\n  const normalizedHref = normalizeHref(href);\n  const hasHref = !!normalizedHref;\n  const hasClick = typeof onCardClick === 'function';\n\n  useEffect(() => {\n    if (!isDev()) return;\n\n    if (hasClick && hasHref) {\n      console.warn(\n        '[i-card] `onCardClick` should not be combined with `href`.',\n        {\n          href: normalizedHref,\n        }\n      );\n    }\n\n    if (!hasHref && !hasClick) {\n      console.warn('[i-card] No action provided. Add `href` or `onCardClick`.');\n    }\n  }, [hasHref, hasClick, normalizedHref]);\n\n  // if target=\"_blank\", ensure safe rel tokens exist (merge, dont overwrite)\n  const targetIsBlank = (target ?? '').toLowerCase() === '_blank';\n  const relAttr = targetIsBlank\n    ? mergeRel(rel ?? undefined, 'noopener noreferrer')\n    : (rel ?? undefined);\n\n  const hrefAttr = disabled ? undefined : normalizedHref;\n\n  const handleClick = (ev: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n    // Disabled: behave like disabled link\n    if (disabled) {\n      ev.preventDefault();\n      ev.stopPropagation();\n      return;\n    }\n\n    // Click handler mode: prevent navigation, run callback\n    if (hasClick) {\n      ev.preventDefault();\n      onCardClick?.(ev);\n      return;\n    }\n\n    // Prevent empty anchor navigation\n    if (!hrefAttr) {\n      ev.preventDefault();\n    }\n\n    // also run any native onClick passed to the component\n    onClick?.(ev as any);\n  };\n\n  return (\n    <i-card {...hostProps}>\n      <a\n        className=\"i-card\"\n        role=\"link\"\n        aria-disabled={disabled ? 'true' : undefined}\n        href={hrefAttr}\n        rel={relAttr}\n        tabIndex={disabled ? -1 : undefined}\n        target={target ?? undefined}\n        onClick={handleClick}>\n        {children}\n      </a>\n    </i-card>\n  );\n}\n\n// -----------------------------\n// Sub components (same tags)\n// -----------------------------\n\nexport type ICardImageProps = React.ImgHTMLAttributes<HTMLImageElement> & {\n  src: string;\n};\n\nexport function ICardImage(props: ICardImageProps) {\n  const { src, alt, ...rest } = props;\n  return (\n    <i-card-image>\n      <img alt={alt ?? 'card-image'} src={src} {...rest} />\n    </i-card-image>\n  );\n}\n\nexport function ICardBody(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-card-body {...props} />;\n}\n\nexport function ICardFooter(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-card-footer {...props} />;\n}\n","// code-viewer.tsx\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { IButton } from '../button/button';\n\nexport type ICodeHighlighter = 'auto' | 'hljs' | 'none';\n\nexport type ICodeViewerFileLoaded = {\n  file: string;\n  language: string;\n};\n\nexport type ICodeViewerProps = React.HTMLAttributes<HTMLElement> & {\n  language?: string | null;\n  file?: string | null;\n  code?: string | null;\n\n  wrap?: boolean;\n  compact?: boolean;\n\n  /** default false */\n  lineNumbers?: boolean;\n\n  /** overlay controls */\n  overlay?: boolean;\n  showFileType?: boolean;\n  copy?: boolean;\n\n  /** if true => scroll, and if height specified => scroll forced */\n  scroll?: boolean;\n\n  /** \"wrap\" | \"auto\" | 300 | \"300\" | \"300px\" */\n  height?: any;\n\n  highlighter?: ICodeHighlighter;\n\n  onFileLoaded?: (e: ICodeViewerFileLoaded) => void;\n};\n\n// -----------------------------\n// Helpers\n// -----------------------------\n\nfunction coerceBool(v: any): boolean {\n  return v !== null && v !== undefined && `${v}` !== 'false';\n}\n\nfunction escapeHtml(s: string): string {\n  return (s ?? '')\n    .replaceAll('&', '&amp;')\n    .replaceAll('<', '&lt;')\n    .replaceAll('>', '&gt;')\n    .replaceAll('\"', '&quot;')\n    .replaceAll(\"'\", '&#39;');\n}\n\nfunction getExtFromPath(path: string): string {\n  const clean = (path || '').split('?')[0].split('#')[0];\n  const file = clean.split('/').pop() ?? '';\n  const idx = file.lastIndexOf('.');\n  return idx >= 0 ? file.slice(idx + 1).toLowerCase() : '';\n}\n\nfunction languageFromExt(ext: string): string {\n  switch ((ext || '').toLowerCase()) {\n    case 'ts':\n      return 'typescript';\n    case 'tsx':\n      return 'tsx';\n    case 'js':\n    case 'mjs':\n    case 'cjs':\n      return 'javascript';\n    case 'jsx':\n      return 'jsx';\n    case 'json':\n      return 'json';\n    case 'html':\n    case 'htm':\n      return 'html';\n    case 'css':\n      return 'css';\n    case 'scss':\n      return 'scss';\n    case 'yml':\n    case 'yaml':\n      return 'yaml';\n    case 'md':\n      return 'markdown';\n    case 'sql':\n      return 'sql';\n    case 'sh':\n    case 'bash':\n      return 'bash';\n    case 'txt':\n      return 'text';\n    default:\n      return 'text';\n  }\n}\n\nfunction parseHeight(v: any): number | null {\n  if (v === null || v === undefined) return null;\n\n  const s = String(v).trim().toLowerCase();\n  if (s === '' || s === 'wrap' || s === 'auto') return null;\n\n  if (s.endsWith('px')) {\n    const n = Number(s.slice(0, -2).trim());\n    return Number.isFinite(n) && n > 0 ? n : null;\n  }\n\n  const n = Number(s);\n  return Number.isFinite(n) && n > 0 ? n : null;\n}\n\nfunction isAbsoluteUrl(path: string): boolean {\n  return /^https?:\\/\\//i.test(path) || /^\\/\\//.test(path);\n}\n\n/** MF remote-safe: resolve relative file path against the remote bundle URL */\nfunction resolveFileUrl(file: string): string {\n  const f = (file ?? '').trim();\n  if (!f) return f;\n\n  if (isAbsoluteUrl(f) || f.startsWith('/')) return f;\n\n  const base = (import.meta as any).url as string;\n  return new URL(f.replace(/^\\.\\//, ''), base).toString();\n}\n\nfunction normalizeHljsLanguage(lang: string): string {\n  if (lang === 'html') return 'xml';\n  return lang;\n}\n\n/**\n * Safer line counting:\n * - \"\" => 1 line\n * - trailing newline should not add a phantom extra visible line in many UIs,\n *   but line numbers typically still count it as an empty last line.\n * We'll keep it consistent with editors: split preserves last empty.\n */\nfunction countLines(text: string): number {\n  if (text === null || text === undefined) return 1;\n  const s = String(text);\n  // preserve trailing empty line\n  const parts = s.split('\\n');\n  return Math.max(1, parts.length);\n}\n\n// -----------------------------\n// Component\n// -----------------------------\n\nexport function ICodeViewer(props: ICodeViewerProps) {\n  const {\n    language,\n    file,\n    code,\n\n    wrap,\n    compact,\n    lineNumbers,\n\n    overlay,\n    showFileType,\n    copy,\n\n    scroll,\n    height,\n\n    highlighter = 'auto',\n\n    onFileLoaded,\n\n    children,\n    ...rest\n  } = props;\n\n  // inputs (coerced like Angular)\n  const wrapC = coerceBool(wrap);\n  const compactC = coerceBool(compact);\n  const lineNumbersC = coerceBool(lineNumbers);\n  const overlayC = overlay === undefined ? true : coerceBool(overlay);\n  const showFileTypeC =\n    showFileType === undefined ? true : coerceBool(showFileType);\n  const copyC = copy === undefined ? true : coerceBool(copy);\n  const scrollC = coerceBool(scroll);\n  const heightPx = parseHeight(height);\n\n  const scrollEffective = scrollC || heightPx !== null;\n  const showOverlay = overlayC && (showFileTypeC || copyC);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [copied, setCopied] = useState(false);\n\n  const requestSeqRef = useRef(0);\n  const highlightSeqRef = useRef(0);\n\n  const [fileLanguage, setFileLanguage] = useState<string>('text');\n  const languageOverride = (language ?? '').trim() || null;\n\n  const effectiveLanguage = useMemo(() => {\n    if (languageOverride) return languageOverride;\n    if (file && file.trim()) return fileLanguage;\n    return 'text';\n  }, [languageOverride, fileLanguage, file]);\n\n  const fileTypeLabel = useMemo(() => {\n    const l = (effectiveLanguage || 'text').toUpperCase();\n    return l === 'TEXT' ? 'CODE' : l;\n  }, [effectiveLanguage]);\n\n  // raw code state\n  const [rawCode, setRawCode] = useState<string>(() => (code ?? '').toString());\n\n  // sync raw code from prop changes\n  useEffect(() => {\n    setRawCode((code ?? '').toString());\n  }, [code]);\n\n  // projected content (if no code + no file)\n  const projectedText = useMemo(() => {\n    if ((code ?? '').toString()) return '';\n    if (file && file.trim()) return '';\n\n    const arr = React.Children.toArray(children);\n\n    const joined = arr\n      .map((n) => {\n        if (typeof n === 'string' || typeof n === 'number') return String(n);\n        return '';\n      })\n      .join('');\n\n    return joined.trim();\n  }, [children, code, file]);\n\n  // apply projected text only when we are truly empty\n  useEffect(() => {\n    const codeProp = (code ?? '').toString();\n    const fileProp = (file ?? '').trim();\n    if (!codeProp && !fileProp && projectedText) {\n      setRawCode(projectedText);\n    }\n  }, [projectedText, code, file]);\n\n  // highlight.js cache (shared per component instance)\n  const hljsRef = useRef<any | null>(null);\n  const hljsPromiseRef = useRef<Promise<any> | null>(null);\n\n  const shouldUseHljs = highlighter === 'hljs' || highlighter === 'auto';\n\n  const loadHljsIfNeeded = useCallback(async (): Promise<any | null> => {\n    if (hljsRef.current) return hljsRef.current;\n\n    const w = globalThis as any;\n    if (w?.hljs?.highlight && w?.hljs?.highlightAuto) {\n      hljsRef.current = w.hljs;\n      return hljsRef.current;\n    }\n\n    if (!hljsPromiseRef.current) {\n      hljsPromiseRef.current = import('highlight.js')\n        .then((m: any) => m.default ?? m)\n        .catch(() => null);\n    }\n\n    const loaded = await hljsPromiseRef.current;\n    if (loaded?.highlight && loaded?.highlightAuto) {\n      hljsRef.current = loaded;\n      return loaded;\n    }\n\n    return null;\n  }, []);\n\n  const highlightWithHljs = useCallback(\n    (text: string, lang: string): string => {\n      try {\n        const hljs = hljsRef.current;\n        if (!hljs) return escapeHtml(text);\n\n        const normalized = normalizeHljsLanguage(lang);\n\n        if (normalized && hljs.getLanguage?.(normalized)) {\n          return hljs.highlight(text, { language: normalized }).value;\n        }\n        return hljs.highlightAuto(text).value;\n      } catch {\n        return escapeHtml(text);\n      }\n    },\n    []\n  );\n\n  const renderToHtmlSync = useCallback(\n    (text: string, lang: string): string => {\n      const raw = text ?? '';\n      if (!raw) return '';\n      if (highlighter === 'none') return escapeHtml(raw);\n\n      if (shouldUseHljs && hljsRef.current) {\n        return highlightWithHljs(raw, lang);\n      }\n      return escapeHtml(raw);\n    },\n    [highlighter, shouldUseHljs, highlightWithHljs]\n  );\n\n  // load file when file changes\n  useEffect(() => {\n    const f = (file ?? '').trim();\n    if (!f) return;\n\n    const seq = ++requestSeqRef.current;\n\n    setLoading(true);\n    setError('');\n\n    const langFromFile = languageFromExt(getExtFromPath(f));\n    setFileLanguage(langFromFile);\n\n    (async () => {\n      try {\n        const url = resolveFileUrl(f);\n        const res = await fetch(url, { method: 'GET' });\n        if (!res.ok) throw new Error('http_error');\n        const text = await res.text();\n\n        if (seq !== requestSeqRef.current) return;\n\n        setRawCode(text ?? '');\n        setLoading(false);\n        setError('');\n\n        onFileLoaded?.({\n          file: url,\n          language: languageOverride ?? langFromFile,\n        });\n      } catch {\n        if (seq !== requestSeqRef.current) return;\n\n        setLoading(false);\n        setError(`Failed to load: ${f}`);\n      }\n    })();\n  }, [file, onFileLoaded, languageOverride]);\n\n  // line numbers\n  const lineNumberList = useMemo(() => {\n    if (!lineNumbersC) return [];\n    const lines = countLines(rawCode);\n    return Array.from({ length: lines }, (_, i) => i + 1);\n  }, [lineNumbersC, rawCode]);\n\n  // rendered html\n  const [renderedHtml, setRenderedHtml] = useState<string>(() =>\n    renderToHtmlSync(rawCode, effectiveLanguage)\n  );\n\n  // recompute sync whenever raw/lang/highlighter changes\n  useEffect(() => {\n    setRenderedHtml(renderToHtmlSync(rawCode, effectiveLanguage));\n  }, [rawCode, effectiveLanguage, renderToHtmlSync]);\n\n  // maybe highlight async (lazy-load hljs) + prevent race\n  useEffect(() => {\n    if (!shouldUseHljs) return;\n    if (!rawCode) return;\n\n    const seq = ++highlightSeqRef.current;\n    const textSnap = rawCode;\n    const langSnap = effectiveLanguage;\n\n    (async () => {\n      const loaded = await loadHljsIfNeeded();\n      if (!loaded) return;\n      if (seq !== highlightSeqRef.current) return;\n\n      setRenderedHtml(highlightWithHljs(textSnap, langSnap));\n    })();\n  }, [\n    rawCode,\n    effectiveLanguage,\n    shouldUseHljs,\n    loadHljsIfNeeded,\n    highlightWithHljs,\n  ]);\n\n  const copyTimerRef = useRef<number | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (copyTimerRef.current) window.clearTimeout(copyTimerRef.current);\n    };\n  }, []);\n\n  const onCopy = useCallback(async () => {\n    const text = rawCode ?? '';\n    if (!text || loading) return;\n\n    const done = () => {\n      setCopied(true);\n      if (copyTimerRef.current) window.clearTimeout(copyTimerRef.current);\n      copyTimerRef.current = window.setTimeout(() => setCopied(false), 1200);\n    };\n\n    try {\n      if (navigator?.clipboard?.writeText) {\n        await navigator.clipboard.writeText(text);\n        done();\n        return;\n      }\n    } catch {\n      // fallback below\n    }\n\n    try {\n      const ta = document.createElement('textarea');\n      ta.value = text;\n      ta.style.position = 'fixed';\n      ta.style.left = '-9999px';\n      ta.style.top = '0';\n      document.body.appendChild(ta);\n      ta.focus();\n      ta.select();\n      document.execCommand('copy');\n      document.body.removeChild(ta);\n      done();\n    } catch {\n      // ignore\n    }\n  }, [rawCode, loading]);\n\n  return (\n    <i-code-viewer {...rest}>\n      <div\n        className={[\n          'i-code-viewer',\n          compactC ? 'compact' : null,\n          wrapC ? 'wrap' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}>\n        {loading ? <div className=\"i-code-viewer-loading\">Loading</div> : null}\n        {error ? <div className=\"i-code-viewer-error\">{error}</div> : null}\n\n        <div\n          className={[\n            'i-code-viewer-scroll',\n            showOverlay ? 'has-overlay' : null,\n            scrollEffective ? 'scroll' : null,\n            scrollEffective ? 'scroll-y' : null,\n          ]\n            .filter(Boolean)\n            .join(' ')}\n          style={heightPx !== null ? { height: `${heightPx}px` } : undefined}>\n          {showOverlay ? (\n            <div className=\"i-code-viewer-overlay hljs\">\n              {showFileTypeC ? (\n                <span className=\"i-code-viewer-filetype\">{fileTypeLabel}</span>\n              ) : null}\n\n              {copyC ? (\n                <IButton\n                  className=\"i-code-viewer-copy\"\n                  size=\"xs\"\n                  variant=\"outline\"\n                  disabled={loading}\n                  onClick={onCopy}>\n                  {copied ? 'Copied' : 'Copy'}\n                </IButton>\n              ) : null}\n            </div>\n          ) : null}\n\n          {/* content row */}\n          <div\n            className={[\n              'i-code-viewer-content',\n              'hljs',\n              scrollEffective ? 'scroll' : null,\n              scrollEffective ? 'scroll-y' : null,\n            ]\n              .filter(Boolean)\n              .join(' ')}>\n            {lineNumbersC ? (\n              <div aria-hidden=\"true\" className=\"i-code-viewer-gutter\">\n                {lineNumberList.map((n) => (\n                  <div key={n} className=\"i-code-viewer-line\">\n                    {n}\n                  </div>\n                ))}\n              </div>\n            ) : null}\n\n            <pre className=\"i-code-viewer-pre\">\n              <code\n                className=\"i-code-viewer-code hljs\"\n                data-language={effectiveLanguage}\n                dangerouslySetInnerHTML={{ __html: renderedHtml }}\n              />\n            </pre>\n          </div>\n        </div>\n      </div>\n    </i-code-viewer>\n  );\n}\n","// input.tsx\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { IButton, type IButtonVariant } from '../button';\nimport { IIcon, type IIconInput } from '../icon';\nimport { ILoading } from '../loading';\n\n/* =========================================\n * Types: addons\n * ========================================= */\n\nexport type IInputAddonKind = 'icon' | 'text' | 'button' | 'link' | 'loading';\n\nexport type IInputAddonType = {\n  type: IInputAddonKind;\n};\n\nexport type IInputAddonLoading = {\n  type: 'loading';\n  visible?: boolean;\n} & IInputAddonType;\n\nexport type IInputAddonIcon = {\n  type: 'icon';\n  icon: IIconInput;\n  visible?: boolean;\n} & IInputAddonType;\n\nexport type IInputAddonText = {\n  type: 'text';\n  text: string;\n  visible?: boolean;\n} & IInputAddonType;\n\nexport type IInputAddonButton = {\n  type: 'button';\n  icon: IIconInput;\n  onClick?: () => void;\n  visible?: boolean;\n  variant?: IButtonVariant;\n} & IInputAddonType;\n\nexport type IInputAddonLink = {\n  type: 'link';\n  icon: IIconInput;\n  href?: string;\n  visible?: boolean;\n  variant?: IButtonVariant;\n} & IInputAddonType;\n\nexport type IInputAddons =\n  | IInputAddonLoading\n  | IInputAddonIcon\n  | IInputAddonText\n  | IInputAddonButton\n  | IInputAddonLink;\n\n/* =========================================\n * IInputAddon\n * ========================================= */\n\nexport interface IInputAddonProps extends React.HTMLAttributes<HTMLElement> {\n  addon: IInputAddons | undefined;\n}\n\nexport function IInputAddon(props: IInputAddonProps) {\n  const { addon, className, ...rest } = props;\n\n  // Match Angular: render nothing when no addon or visible === false\n  if (!addon || addon.visible === false) {\n    return null;\n  }\n\n  return (\n    <i-input-addon className={className} kind={addon.type} {...rest}>\n      {addon.type === 'button' ? (\n        <IButton\n          size=\"xs\"\n          type=\"button\"\n          icon={addon.icon}\n          variant={addon.variant ?? 'primary'}\n          onClick={() => addon.onClick?.()}\n        />\n      ) : addon.type === 'link' ? (\n        <a\n          className=\"i-btn i-btn-xs\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          // keep Angular-ish attr, but TS-safe\n          {...({ variant: addon.variant ?? 'primary' } as any)}\n          href={addon.href}>\n          <IIcon size=\"xs\" icon={addon.icon} />\n        </a>\n      ) : addon.type === 'icon' ? (\n        <IIcon size=\"sm\" icon={addon.icon} />\n      ) : addon.type === 'loading' ? (\n        <ILoading label=\"\" />\n      ) : (\n        <span>{addon.text}</span>\n      )}\n    </i-input-addon>\n  );\n}\n\n/* =========================================\n * Types: mask\n * ========================================= */\n\nexport type IInputMaskType =\n  | 'date'\n  | 'integer'\n  | 'number'\n  | 'currency'\n  | 'time';\n\nexport type IInputMask = {\n  type: IInputMaskType;\n  format?: string;\n};\n\ntype UseInputMaskOptions = {\n  enableDefault?: boolean;\n};\n\n/* =========================================\n * useInputMask\n * ========================================= */\n\nexport function useInputMask(\n  inputRef: React.RefObject<HTMLInputElement | null>,\n  mask: IInputMask | undefined,\n  opts: UseInputMaskOptions = {}\n) {\n  const defaultAppliedRef = useRef(false);\n  const enableDefault = opts.enableDefault ?? true;\n\n  useEffect(() => {\n    const el = inputRef.current;\n    if (!el) return;\n\n    // -----------------------------\n    // Utils\n    // -----------------------------\n    const hasMask = () => !!mask && !el.readOnly && !el.disabled;\n\n    const dispatchInputEvent = () => {\n      const ev = new Event('input', { bubbles: true });\n      el.dispatchEvent(ev);\n    };\n\n    const pad = (n: number, len: number) => String(n).padStart(len, '0');\n\n    // Minimal token formatting: dd/MM/yyyy, yyyy-MM-dd, HH:mm, HH:mm:ss\n    const formatDateSimple = (d: Date, format: string): string => {\n      const day = d.getDate();\n      const month = d.getMonth() + 1;\n      const year = d.getFullYear();\n\n      return format\n        .replace(/yyyy/g, pad(year, 4))\n        .replace(/MM/g, pad(month, 2))\n        .replace(/dd/g, pad(day, 2));\n    };\n\n    const formatTimeSimple = (d: Date, format: string): string => {\n      const hour = d.getHours();\n      const minute = d.getMinutes();\n      const second = d.getSeconds();\n\n      return format\n        .replace(/HH/g, pad(hour, 2))\n        .replace(/mm/g, pad(minute, 2))\n        .replace(/ss/g, pad(second, 2));\n    };\n\n    const computeDefaultForMask = (): string | null => {\n      if (!mask) return null;\n      const now = new Date();\n\n      if (mask.type === 'date') {\n        const fmt = mask.format || 'dd/MM/yyyy';\n        return formatDateSimple(now, fmt);\n      }\n      if (mask.type === 'time') {\n        const fmt = mask.format || 'HH:mm';\n        return formatTimeSimple(now, fmt);\n      }\n      return null;\n    };\n\n    const applyInitialDefaultIfNeeded = () => {\n      if (!enableDefault) return;\n      if (!mask) return;\n      if (defaultAppliedRef.current) return;\n\n      if (el.value && el.value.trim().length > 0) return;\n\n      const def = computeDefaultForMask();\n      if (def === null) return;\n\n      defaultAppliedRef.current = true;\n      el.value = def;\n      dispatchInputEvent();\n    };\n\n    const isControlKey = (event: KeyboardEvent): boolean => {\n      const key = event.key;\n      const controlKeys = [\n        'Backspace',\n        'Delete',\n        'ArrowLeft',\n        'ArrowRight',\n        'ArrowUp',\n        'ArrowDown',\n        'Tab',\n        'Home',\n        'End',\n        'Enter',\n        'Escape',\n      ];\n\n      if (controlKeys.includes(key)) return true;\n      if (event.ctrlKey || event.metaKey || event.altKey) return true;\n      return false;\n    };\n\n    // ----------------------------------------------------\n    // DATE HELPERS\n    // ----------------------------------------------------\n    const daysInMonth = (year: number, month1Based: number) =>\n      new Date(year, month1Based, 0).getDate();\n\n    const splitDateFormat = (\n      format: string\n    ): { tokens: string[]; seps: string[] } => {\n      const tokens: string[] = [];\n      const seps: string[] = [];\n\n      let currentSep = '';\n      let i = 0;\n\n      const isTokenChar = (c: string): boolean =>\n        c === 'd' || c === 'M' || c === 'y';\n\n      while (i < format.length) {\n        const c = format[i];\n\n        if (!isTokenChar(c)) {\n          currentSep += c;\n          i++;\n          continue;\n        }\n\n        seps.push(currentSep);\n        currentSep = '';\n\n        const ch = c;\n        let token = ch;\n        let j = i + 1;\n        while (j < format.length && format[j] === ch) {\n          token += format[j];\n          j++;\n        }\n\n        tokens.push(token);\n        i = j;\n      }\n\n      seps.push(currentSep);\n      return { tokens, seps };\n    };\n\n    const getDateSegments = (\n      value: string,\n      format: string\n    ): {\n      kind: 'day' | 'month' | 'year';\n      start: number;\n      end: number;\n      raw: string;\n    }[] => {\n      const { tokens, seps } = splitDateFormat(format);\n      const segments: {\n        kind: 'day' | 'month' | 'year';\n        start: number;\n        end: number;\n        raw: string;\n      }[] = [];\n\n      let pos = 0;\n\n      if (seps[0]) {\n        const s0 = seps[0];\n        if (value.startsWith(s0)) pos += s0.length;\n      }\n\n      for (let i = 0; i < tokens.length; i++) {\n        const tok = tokens[i];\n        const ch = tok[0];\n        const kind: 'day' | 'month' | 'year' =\n          ch === 'd' ? 'day' : ch === 'M' ? 'month' : 'year';\n\n        const start = pos;\n        let end = pos;\n\n        while (end < value.length && /\\d/.test(value[end])) end++;\n\n        const raw = value.slice(start, end);\n        segments.push({ kind, start, end, raw });\n\n        pos = end;\n\n        const sep = seps[i + 1] ?? '';\n        if (sep && value.substr(pos, sep.length) === sep) pos += sep.length;\n      }\n\n      return segments;\n    };\n\n    const formatDateFromParts = (\n      day: number,\n      month: number,\n      year: number,\n      format: string\n    ): string => {\n      const { tokens, seps } = splitDateFormat(format);\n      let result = seps[0] ?? '';\n\n      for (let i = 0; i < tokens.length; i++) {\n        const tok = tokens[i];\n        const ch = tok[0];\n        const len = tok.length;\n\n        if (ch === 'd') result += pad(day, len);\n        else if (ch === 'M') result += pad(month, len);\n        else {\n          let s = String(year);\n          if (s.length < len) s = s.padStart(len, '0');\n          else if (s.length > len) s = s.slice(-len);\n          result += s;\n        }\n\n        if (i < tokens.length - 1) result += seps[i + 1] ?? '';\n      }\n\n      return result;\n    };\n\n    const normalizeDateValue = (value: string, format: string): string => {\n      if (!value) return value;\n\n      const segments = getDateSegments(value, format);\n      if (!segments.length) return value;\n\n      let day = 1;\n      let month = 1;\n      let year = 2000;\n\n      for (const seg of segments) {\n        const n = seg.raw ? Number(seg.raw) : NaN;\n        if (Number.isNaN(n)) continue;\n\n        if (seg.kind === 'day') day = n;\n        else if (seg.kind === 'month') month = n;\n        else year = n;\n      }\n\n      if (month < 1) month = 1;\n      if (month > 12) month = 12;\n\n      const maxDay = daysInMonth(year > 0 ? year : 2000, month);\n      if (day < 1) day = 1;\n      if (day > maxDay) day = maxDay;\n\n      return formatDateFromParts(day, month, year, format);\n    };\n\n    const applyNumericMask = (raw: string, allowDecimal: boolean): string => {\n      if (!raw) return '';\n\n      let result = '';\n      let hasDecimal = false;\n\n      for (const ch of raw) {\n        if (/\\d/.test(ch)) {\n          result += ch;\n          continue;\n        }\n\n        if (allowDecimal && (ch === '.' || ch === ',')) {\n          if (!hasDecimal) {\n            hasDecimal = true;\n            result += ch;\n          }\n        }\n      }\n\n      return result;\n    };\n\n    const applyDateMaskDigitsOnly = (\n      digits: string,\n      format: string\n    ): string => {\n      const { tokens, seps } = splitDateFormat(format);\n      if (!tokens.length) return digits;\n\n      const firstSep = seps[1] ?? '';\n      const secondSep = seps[2] ?? '';\n\n      if (digits.length <= 2) {\n        if (digits.length === 2 && firstSep) return digits + firstSep;\n        return digits;\n      }\n\n      if (digits.length <= 4) {\n        const dRaw = digits.slice(0, 2);\n        const mRaw = digits.slice(2);\n\n        let res = dRaw;\n        if (firstSep) res += firstSep;\n\n        if (mRaw.length) {\n          res += mRaw;\n          if (mRaw.length === 2 && secondSep) res += secondSep;\n        }\n        return res;\n      }\n\n      const dStr = digits.slice(0, 2);\n      const mStr = digits.slice(2, 4);\n      const yStr = digits.slice(4, 8);\n\n      let day = Number(dStr || '1');\n      let month = Number(mStr || '1');\n      const year = Number(yStr || '2000');\n\n      if (month < 1) month = 1;\n      if (month > 12) month = 12;\n\n      const maxDay = daysInMonth(year > 0 ? year : 2000, month);\n      if (day < 1) day = 1;\n      if (day > maxDay) day = maxDay;\n\n      return formatDateFromParts(day, month, year, format);\n    };\n\n    const applyDateMask = (raw: string, format: string): string => {\n      if (!raw) return '';\n\n      const hasSeparator = /[^0-9]/.test(raw);\n      const { tokens, seps } = splitDateFormat(format);\n\n      if (!tokens.length) return raw.replace(/\\D/g, '');\n\n      if (!hasSeparator) {\n        const digits = raw.replace(/\\D/g, '');\n        if (!digits) return '';\n        return applyDateMaskDigitsOnly(digits, format);\n      }\n\n      const rawSegs = raw.split(/[^0-9]/);\n      const rawSeps = raw.match(/[^0-9]+/g) ?? [];\n\n      type PartKind = 'day' | 'month' | 'year';\n      type Part = {\n        kind: PartKind;\n        raw: string;\n        len: number;\n        closed: boolean;\n        out: string;\n      };\n\n      const parts: Part[] = [];\n\n      for (let i = 0; i < tokens.length; i++) {\n        const tok = tokens[i];\n        const ch = tok[0];\n        const len = tok.length;\n        const rawSeg = (rawSegs[i] ?? '').replace(/\\D/g, '');\n\n        const kind: PartKind =\n          ch === 'd' ? 'day' : ch === 'M' ? 'month' : 'year';\n        const closed = rawSeg.length >= len;\n\n        parts.push({ kind, raw: rawSeg.slice(0, len), len, closed, out: '' });\n      }\n\n      const dayPart = parts.find((p) => p.kind === 'day');\n      const monthPart = parts.find((p) => p.kind === 'month');\n      const yearPart = parts.find((p) => p.kind === 'year');\n\n      let monthNumForClamp: number | null = null;\n      if (monthPart && monthPart.closed && monthPart.raw) {\n        let m = Number(monthPart.raw);\n        if (m < 1) m = 1;\n        if (m > 12) m = 12;\n        monthNumForClamp = m;\n      }\n\n      let yearForCalc = 2000;\n      if (yearPart && yearPart.closed && yearPart.raw) {\n        const y = Number(yearPart.raw);\n        yearForCalc = y > 0 ? y : 2000;\n      }\n\n      if (monthPart) {\n        if (monthPart.closed && monthPart.raw) {\n          let m = monthNumForClamp ?? Number(monthPart.raw);\n          if (m < 1) m = 1;\n          if (m > 12) m = 12;\n          monthPart.out = pad(m, monthPart.len);\n          monthNumForClamp = m;\n        } else monthPart.out = monthPart.raw;\n      }\n\n      if (dayPart) {\n        if (dayPart.closed && dayPart.raw) {\n          let d = Number(dayPart.raw);\n          const monthForDay = monthNumForClamp !== null ? monthNumForClamp : 1;\n          const maxDay = daysInMonth(yearForCalc, monthForDay);\n\n          if (d < 1) d = 1;\n          if (d > maxDay) d = maxDay;\n\n          dayPart.out = pad(d, dayPart.len);\n        } else dayPart.out = dayPart.raw;\n      }\n\n      if (yearPart) yearPart.out = yearPart.raw;\n\n      const outSegs = parts.map((p) => p.out);\n      const hasDigits = parts.map((p) => p.raw.length > 0);\n\n      let result = seps[0] ?? '';\n      for (let i = 0; i < parts.length; i++) {\n        result += outSegs[i] ?? '';\n\n        if (i < parts.length - 1) {\n          const sepFmt = seps[i + 1] ?? '';\n          const hadRawSep = i < rawSeps.length;\n          const segClosed = parts[i].closed;\n          const nextHasDigits = hasDigits[i + 1];\n\n          if (sepFmt && (hadRawSep || segClosed || nextHasDigits))\n            result += sepFmt;\n        }\n      }\n\n      return result.replace(/[^0-9]+$/, (sep) => {\n        const prefix = result.slice(0, -sep.length);\n        return /\\d/.test(prefix) ? sep : '';\n      });\n    };\n\n    const adjustDateSegmentByArrow = (key: 'ArrowUp' | 'ArrowDown'): void => {\n      if (!mask || mask.type !== 'date' || !mask.format) return;\n\n      const format = mask.format;\n      const value = el.value;\n\n      const segments = getDateSegments(value, format);\n      if (!segments.length) return;\n\n      const caret = el.selectionStart ?? value.length;\n\n      let idx = segments.findIndex((s) => caret >= s.start && caret <= s.end);\n      if (idx === -1) {\n        idx = segments.findIndex((s) => caret < s.start);\n        if (idx === -1) idx = segments.length - 1;\n        if (idx > 0 && caret > segments[idx - 1].end) idx = idx - 1;\n      }\n      if (idx < 0) idx = 0;\n\n      let day = 1,\n        month = 1,\n        year = 2000;\n\n      for (const seg of segments) {\n        const n = seg.raw ? Number(seg.raw) : NaN;\n        if (Number.isNaN(n)) continue;\n        if (seg.kind === 'day') day = n;\n        else if (seg.kind === 'month') month = n;\n        else year = n;\n      }\n\n      if (month < 1) month = 1;\n      if (month > 12) month = 12;\n\n      let maxDay = daysInMonth(year > 0 ? year : 2000, month);\n      if (day < 1) day = 1;\n      if (day > maxDay) day = maxDay;\n\n      const seg = segments[idx];\n\n      if (seg.kind === 'day') {\n        day = key === 'ArrowUp' ? day + 1 : day - 1;\n        if (day > maxDay) day = 1;\n        if (day < 1) day = maxDay;\n      } else if (seg.kind === 'month') {\n        month = key === 'ArrowUp' ? month + 1 : month - 1;\n        if (month > 12) month = 1;\n        if (month < 1) month = 12;\n      } else {\n        year = key === 'ArrowUp' ? year + 1 : Math.max(0, year - 1);\n      }\n\n      maxDay = daysInMonth(year > 0 ? year : 2000, month);\n      if (day > maxDay) day = maxDay;\n\n      const newValue = formatDateFromParts(day, month, year, format);\n      el.value = newValue;\n      dispatchInputEvent();\n\n      const newSegments = getDateSegments(newValue, format);\n      const newSeg = newSegments[idx] ?? newSegments[newSegments.length - 1];\n      if (newSeg) el.setSelectionRange(newSeg.start, newSeg.end);\n    };\n\n    // ----------------------------------------------------\n    // TIME HELPERS\n    // ----------------------------------------------------\n    const splitTimeFormat = (\n      format: string\n    ): { tokens: string[]; seps: string[] } => {\n      const tokens: string[] = [];\n      const seps: string[] = [];\n\n      let currentSep = '';\n      let i = 0;\n\n      const isTokenChar = (c: string): boolean =>\n        c === 'H' || c === 'm' || c === 's';\n\n      while (i < format.length) {\n        const c = format[i];\n\n        if (!isTokenChar(c)) {\n          currentSep += c;\n          i++;\n          continue;\n        }\n\n        seps.push(currentSep);\n        currentSep = '';\n\n        const ch = c;\n        let token = ch;\n        let j = i + 1;\n        while (j < format.length && format[j] === ch) {\n          token += format[j];\n          j++;\n        }\n\n        tokens.push(token);\n        i = j;\n      }\n\n      seps.push(currentSep);\n      return { tokens, seps };\n    };\n\n    const getTimeSegments = (\n      value: string,\n      format: string\n    ): {\n      kind: 'hour' | 'minute' | 'second';\n      start: number;\n      end: number;\n      raw: string;\n    }[] => {\n      const { tokens, seps } = splitTimeFormat(format);\n      const segments: {\n        kind: 'hour' | 'minute' | 'second';\n        start: number;\n        end: number;\n        raw: string;\n      }[] = [];\n\n      let pos = 0;\n\n      if (seps[0]) {\n        const s0 = seps[0];\n        if (value.startsWith(s0)) pos += s0.length;\n      }\n\n      for (let i = 0; i < tokens.length; i++) {\n        const tok = tokens[i];\n        const ch = tok[0];\n        const kind: 'hour' | 'minute' | 'second' =\n          ch === 'H' ? 'hour' : ch === 'm' ? 'minute' : 'second';\n\n        const start = pos;\n        let end = pos;\n        while (end < value.length && /\\d/.test(value[end])) end++;\n\n        const raw = value.slice(start, end);\n        segments.push({ kind, start, end, raw });\n\n        pos = end;\n\n        const sep = seps[i + 1] ?? '';\n        if (sep && value.substr(pos, sep.length) === sep) pos += sep.length;\n      }\n\n      return segments;\n    };\n\n    const formatTimeFromParts = (\n      hour: number,\n      minute: number,\n      second: number,\n      format: string\n    ): string => {\n      const { tokens, seps } = splitTimeFormat(format);\n      let result = seps[0] ?? '';\n\n      for (let i = 0; i < tokens.length; i++) {\n        const tok = tokens[i];\n        const ch = tok[0];\n        const len = tok.length;\n\n        if (ch === 'H') result += pad(hour, len);\n        else if (ch === 'm') result += pad(minute, len);\n        else result += pad(second, len);\n\n        if (i < tokens.length - 1) result += seps[i + 1] ?? '';\n      }\n\n      return result;\n    };\n\n    const normalizeTimeValue = (value: string, format: string): string => {\n      if (!value) return value;\n\n      const segments = getTimeSegments(value, format);\n      if (!segments.length) return value;\n\n      let hour = 0,\n        minute = 0,\n        second = 0;\n\n      for (const seg of segments) {\n        const n = seg.raw ? Number(seg.raw) : NaN;\n        if (Number.isNaN(n)) continue;\n        if (seg.kind === 'hour') hour = n;\n        else if (seg.kind === 'minute') minute = n;\n        else second = n;\n      }\n\n      hour = Math.max(0, Math.min(23, hour));\n      minute = Math.max(0, Math.min(59, minute));\n      second = Math.max(0, Math.min(59, second));\n\n      return formatTimeFromParts(hour, minute, second, format);\n    };\n\n    const applyTimeMaskDigitsOnly = (\n      digits: string,\n      format: string\n    ): string => {\n      const { tokens, seps } = splitTimeFormat(format);\n      if (!tokens.length) return digits;\n\n      const firstSep = seps[1] ?? '';\n      const secondSep = seps[2] ?? '';\n\n      const hasMinutes = tokens.length >= 2 && tokens[1][0] === 'm';\n      const hasSeconds = tokens.length >= 3 && tokens[2][0] === 's';\n\n      // HH:mm\n      if (hasMinutes && !hasSeconds) {\n        if (digits.length <= 2) {\n          if (digits.length === 2 && firstSep) return digits + firstSep;\n          return digits;\n        }\n        if (digits.length <= 4) {\n          const hRaw = digits.slice(0, 2);\n          const mRaw = digits.slice(2);\n          return `${hRaw}${firstSep}${mRaw}`;\n        }\n\n        let hour = Number(digits.slice(0, 2) || '0');\n        let minute = Number(digits.slice(2, 4) || '0');\n        hour = Math.max(0, Math.min(23, hour));\n        minute = Math.max(0, Math.min(59, minute));\n        return formatTimeFromParts(hour, minute, 0, format);\n      }\n\n      // HH:mm:ss\n      if (hasMinutes && hasSeconds) {\n        if (digits.length <= 2) {\n          if (digits.length === 2 && firstSep) return digits + firstSep;\n          return digits;\n        }\n\n        if (digits.length <= 4) {\n          const hRaw = digits.slice(0, 2);\n          const mRaw = digits.slice(2);\n          let res = `${hRaw}${firstSep}${mRaw}`;\n          if (mRaw.length === 2) res += secondSep;\n          return res;\n        }\n\n        if (digits.length <= 6) {\n          const hRaw = digits.slice(0, 2);\n          const mRaw = digits.slice(2, 4);\n          const sRaw = digits.slice(4);\n          return `${hRaw}${firstSep}${mRaw}${secondSep}${sRaw}`;\n        }\n\n        let hour = Number(digits.slice(0, 2) || '0');\n        let minute = Number(digits.slice(2, 4) || '0');\n        let second = Number(digits.slice(4, 6) || '0');\n        hour = Math.max(0, Math.min(23, hour));\n        minute = Math.max(0, Math.min(59, minute));\n        second = Math.max(0, Math.min(59, second));\n        return formatTimeFromParts(hour, minute, second, format);\n      }\n\n      return digits;\n    };\n\n    const applyTimeMask = (raw: string, format: string): string => {\n      if (!raw) return '';\n\n      const hasSeparator = /[^0-9]/.test(raw);\n      const { tokens, seps } = splitTimeFormat(format);\n      if (!tokens.length) return raw.replace(/\\D/g, '');\n\n      if (!hasSeparator) {\n        const digits = raw.replace(/\\D/g, '');\n        if (!digits) return '';\n        return applyTimeMaskDigitsOnly(digits, format);\n      }\n\n      const rawSegs = raw.split(/[^0-9]/);\n      const rawSeps = raw.match(/[^0-9]+/g) ?? [];\n\n      type PartKind = 'hour' | 'minute' | 'second';\n      type Part = {\n        kind: PartKind;\n        raw: string;\n        len: number;\n        closed: boolean;\n        out: string;\n      };\n\n      const parts: Part[] = [];\n\n      for (let i = 0; i < tokens.length; i++) {\n        const tok = tokens[i];\n        const ch = tok[0];\n        const len = tok.length;\n        const rawSeg = (rawSegs[i] ?? '').replace(/\\D/g, '');\n\n        const kind: PartKind =\n          ch === 'H' ? 'hour' : ch === 'm' ? 'minute' : 'second';\n        const closed = rawSeg.length >= len;\n\n        parts.push({ kind, raw: rawSeg.slice(0, len), len, closed, out: '' });\n      }\n\n      const hourPart = parts.find((p) => p.kind === 'hour');\n      const minutePart = parts.find((p) => p.kind === 'minute');\n      const secondPart = parts.find((p) => p.kind === 'second');\n\n      let hour = hourPart?.raw ? Number(hourPart.raw) : 0;\n      let minute = minutePart?.raw ? Number(minutePart.raw) : 0;\n      let second = secondPart?.raw ? Number(secondPart.raw) : 0;\n\n      if (hourPart) {\n        if (hourPart.closed && hourPart.raw) {\n          hour = Math.max(0, Math.min(23, hour));\n          hourPart.out = pad(hour, hourPart.len);\n        } else hourPart.out = hourPart.raw;\n      }\n\n      if (minutePart) {\n        if (minutePart.closed && minutePart.raw) {\n          minute = Math.max(0, Math.min(59, minute));\n          minutePart.out = pad(minute, minutePart.len);\n        } else minutePart.out = minutePart.raw;\n      }\n\n      if (secondPart) {\n        if (secondPart.closed && secondPart.raw) {\n          second = Math.max(0, Math.min(59, second));\n          secondPart.out = pad(second, secondPart.len);\n        } else secondPart.out = secondPart.raw;\n      }\n\n      const outSegs = parts.map((p) => p.out);\n      const hasDigits = parts.map((p) => p.raw.length > 0);\n\n      let result = seps[0] ?? '';\n      for (let i = 0; i < parts.length; i++) {\n        result += outSegs[i] ?? '';\n\n        if (i < parts.length - 1) {\n          const sepFmt = seps[i + 1] ?? '';\n          const hadRawSep = i < rawSeps.length;\n          const segClosed = parts[i].closed;\n          const nextHasDigits = hasDigits[i + 1];\n\n          if (sepFmt && (hadRawSep || segClosed || nextHasDigits))\n            result += sepFmt;\n        }\n      }\n\n      return result.replace(/[^0-9]+$/, (sep) => {\n        const prefix = result.slice(0, -sep.length);\n        return /\\d/.test(prefix) ? sep : '';\n      });\n    };\n\n    const adjustTimeSegmentByArrow = (key: 'ArrowUp' | 'ArrowDown'): void => {\n      if (!mask || mask.type !== 'time' || !mask.format) return;\n\n      const format = mask.format;\n      const value = el.value;\n\n      const segments = getTimeSegments(value, format);\n      if (!segments.length) return;\n\n      const caret = el.selectionStart ?? value.length;\n\n      let idx = segments.findIndex((s) => caret >= s.start && caret <= s.end);\n      if (idx === -1) {\n        idx = segments.findIndex((s) => caret < s.start);\n        if (idx === -1) idx = segments.length - 1;\n        if (idx > 0 && caret > segments[idx - 1].end) idx = idx - 1;\n      }\n      if (idx < 0) idx = 0;\n\n      let hour = 0,\n        minute = 0,\n        second = 0;\n\n      for (const seg of segments) {\n        const n = seg.raw ? Number(seg.raw) : NaN;\n        if (Number.isNaN(n)) continue;\n        if (seg.kind === 'hour') hour = n;\n        else if (seg.kind === 'minute') minute = n;\n        else second = n;\n      }\n\n      const seg = segments[idx];\n\n      if (seg.kind === 'hour') {\n        hour = key === 'ArrowUp' ? hour + 1 : hour - 1;\n        if (hour > 23) hour = 0;\n        if (hour < 0) hour = 23;\n      } else if (seg.kind === 'minute') {\n        minute = key === 'ArrowUp' ? minute + 1 : minute - 1;\n        if (minute > 59) minute = 0;\n        if (minute < 0) minute = 59;\n      } else {\n        second = key === 'ArrowUp' ? second + 1 : second - 1;\n        if (second > 59) second = 0;\n        if (second < 0) second = 59;\n      }\n\n      const newValue = formatTimeFromParts(hour, minute, second, format);\n      el.value = newValue;\n      dispatchInputEvent();\n\n      const newSegments = getTimeSegments(newValue, format);\n      const newSeg = newSegments[idx] ?? newSegments[newSegments.length - 1];\n      if (newSeg) el.setSelectionRange(newSeg.start, newSeg.end);\n    };\n\n    // ----------------------------------------------------\n    // HOST LISTENERS (DOM)\n    // ----------------------------------------------------\n    const onInput = () => {\n      if (!hasMask() || !mask) return;\n\n      const oldValue = el.value ?? '';\n      let value = oldValue;\n\n      const type = mask.type;\n      const format = mask.format;\n\n      const prevPos = el.selectionStart ?? oldValue.length;\n\n      if (type === 'date' && format) value = applyDateMask(value, format);\n      else if (type === 'time' && format) value = applyTimeMask(value, format);\n      else if (type === 'integer') value = applyNumericMask(value, false);\n      else if (type === 'number' || type === 'currency')\n        value = applyNumericMask(value, true);\n\n      if (value !== oldValue) {\n        const oldLen = oldValue.length;\n        el.value = value;\n        const newLen = value.length;\n\n        const delta = newLen - oldLen;\n        const newPos = Math.max(0, Math.min(newLen, prevPos + delta));\n        el.setSelectionRange(newPos, newPos);\n      }\n    };\n\n    const onBlur = () => {\n      if (!mask) return;\n\n      if (mask.type === 'date' && mask.format) {\n        if (!el.value) return;\n        const normalized = normalizeDateValue(el.value, mask.format);\n        if (normalized !== el.value) {\n          el.value = normalized;\n          dispatchInputEvent();\n        }\n      }\n\n      if (mask.type === 'time' && mask.format) {\n        if (!el.value) return;\n        const normalized = normalizeTimeValue(el.value, mask.format);\n        if (normalized !== el.value) {\n          el.value = normalized;\n          dispatchInputEvent();\n        }\n      }\n    };\n\n    const onFocus = () => {\n      if (!mask) return;\n      if (!defaultAppliedRef.current && el.value.trim() === '') {\n        applyInitialDefaultIfNeeded();\n      }\n    };\n\n    const onKeydown = (event: KeyboardEvent) => {\n      if (!mask || el.readOnly || el.disabled) return;\n\n      const type = mask.type;\n      const key = event.key;\n\n      if (\n        type === 'date' &&\n        mask.format &&\n        (key === 'ArrowUp' || key === 'ArrowDown')\n      ) {\n        event.preventDefault();\n        adjustDateSegmentByArrow(key as 'ArrowUp' | 'ArrowDown');\n        return;\n      }\n\n      if (\n        type === 'time' &&\n        mask.format &&\n        (key === 'ArrowUp' || key === 'ArrowDown')\n      ) {\n        event.preventDefault();\n        adjustTimeSegmentByArrow(key as 'ArrowUp' | 'ArrowDown');\n        return;\n      }\n\n      // Normalize on Enter (matches your older Angular-ish behavior)\n      if (type === 'date' && mask.format && key === 'Enter') {\n        event.preventDefault();\n        if (el.value) {\n          const normalized = normalizeDateValue(el.value, mask.format);\n          if (normalized !== el.value) {\n            el.value = normalized;\n            dispatchInputEvent();\n          }\n        }\n        return;\n      }\n\n      if (type === 'time' && mask.format && key === 'Enter') {\n        event.preventDefault();\n        if (el.value) {\n          const normalized = normalizeTimeValue(el.value, mask.format);\n          if (normalized !== el.value) {\n            el.value = normalized;\n            dispatchInputEvent();\n          }\n        }\n        return;\n      }\n\n      if (isControlKey(event)) return;\n\n      // For date/time: allow digits + separators found in format\n      if (type === 'date' || type === 'time') {\n        const fmt = mask.format || '';\n        const allowedSeps = new Set<string>();\n        for (const c of fmt) {\n          if (!/[dMyHms]/.test(c)) allowedSeps.add(c);\n        }\n\n        if (/\\d/.test(key)) return;\n        if (allowedSeps.has(key)) return;\n\n        event.preventDefault();\n        return;\n      }\n\n      if (type === 'integer') {\n        if (!/\\d/.test(key)) event.preventDefault();\n        return;\n      }\n\n      if (type === 'number' || type === 'currency') {\n        if (/\\d/.test(key)) return;\n\n        if (key === '.' || key === ',') {\n          const v = el.value;\n          if (v.includes('.') || v.includes(',')) event.preventDefault();\n          return;\n        }\n\n        event.preventDefault();\n      }\n    };\n\n    // mimic ngOnInit + ngOnChanges default\n    applyInitialDefaultIfNeeded();\n\n    el.addEventListener('input', onInput);\n    el.addEventListener('blur', onBlur);\n    el.addEventListener('focus', onFocus);\n    el.addEventListener('keydown', onKeydown);\n\n    return () => {\n      el.removeEventListener('input', onInput);\n      el.removeEventListener('blur', onBlur);\n      el.removeEventListener('focus', onFocus);\n      el.removeEventListener('keydown', onKeydown);\n    };\n  }, [mask, enableDefault]); //  don't depend on ref object identity\n}\n\n/* =========================================\n * IInput\n * ========================================= */\n\nexport interface IInputProps extends Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  'value' | 'onChange'\n> {\n  type?: string;\n  placeholder?: string;\n  autocomplete?: string;\n  readonly?: boolean;\n  invalid?: boolean;\n  mask?: IInputMask;\n\n  value?: string | null;\n  onValueChange?: (value: string) => void;\n\n  prepend?: IInputAddons | IInputAddons[] | undefined;\n  append?: IInputAddons | IInputAddons[] | undefined;\n\n  /**  expose inner input ref (Angular ViewChild vibe) */\n  inputRef?: React.RefObject<HTMLInputElement | null>;\n}\n\nexport const IInput = React.forwardRef<HTMLInputElement, IInputProps>(\n  function IInput(props, forwardedRef) {\n    const {\n      type = 'text',\n      placeholder = '',\n      autocomplete,\n      readonly = false,\n      invalid = false,\n      mask,\n\n      value,\n      defaultValue,\n      onValueChange,\n\n      prepend,\n      append,\n\n      disabled,\n      className,\n\n      onBlur,\n      onInput,\n\n      inputRef,\n\n      ...rest\n    } = props;\n\n    const innerRef = useRef<HTMLInputElement | null>(null);\n\n    // wire forwardedRef + inputRef to the INNER <input>\n    const setRefs = (node: HTMLInputElement | null) => {\n      innerRef.current = node;\n\n      if (inputRef) {\n        inputRef.current = node;\n      }\n\n      if (!forwardedRef) return;\n      if (typeof forwardedRef === 'function') forwardedRef(node);\n      else forwardedRef.current = node;\n    };\n\n    const isControlled = value !== undefined;\n\n    const [uncontrolledValue, setUncontrolledValue] = useState<string>(() => {\n      if (isControlled) return '';\n      if (defaultValue !== undefined && defaultValue !== null)\n        return String(defaultValue);\n      return '';\n    });\n\n    const currentValue = isControlled ? (value ?? '') : uncontrolledValue;\n\n    const prepends = useMemo<IInputAddons[]>(() => {\n      if (!prepend) return [];\n      return Array.isArray(prepend) ? prepend : [prepend];\n    }, [prepend]);\n\n    const appends = useMemo<IInputAddons[]>(() => {\n      if (!append) return [];\n      return Array.isArray(append) ? append : [append];\n    }, [append]);\n\n    useInputMask(innerRef, mask);\n\n    const handleInput: React.FormEventHandler<HTMLInputElement> = (e) => {\n      const v = e.currentTarget.value ?? '';\n\n      if (!isControlled) {\n        setUncontrolledValue(v);\n      }\n\n      onValueChange?.(v);\n      onInput?.(e);\n    };\n\n    const handleHostClick: React.MouseEventHandler<HTMLElement> = (e) => {\n      if (disabled) return;\n\n      const target = e.target as HTMLElement | null;\n      if (target && target.closest('i-input-addon')) return;\n\n      innerRef.current?.focus();\n    };\n\n    return (\n      <i-input className={className} onClick={handleHostClick as any}>\n        {prepends.map((a, idx) => (\n          <IInputAddon key={`pre-${idx}`} addon={a} />\n        ))}\n\n        <input\n          ref={setRefs}\n          aria-invalid={invalid ? 'true' : undefined}\n          autoComplete={autocomplete ?? undefined}\n          disabled={!!disabled}\n          placeholder={placeholder}\n          readOnly={readonly}\n          type={type}\n          value={currentValue}\n          onInput={handleInput}\n          onBlur={onBlur}\n          {...rest}\n        />\n\n        {appends.map((a, idx) => (\n          <IInputAddon key={`app-${idx}`} addon={a} />\n        ))}\n      </i-input>\n    );\n  }\n);\n\n/* =========================================\n * IFCInput (wrapper)\n * ========================================= */\n\nexport type IFCInputProps = React.HTMLAttributes<HTMLElement> & {\n  label?: string;\n  placeholder?: string;\n  autocomplete?: string;\n  readonly?: boolean;\n  type?: string;\n\n  mask?: IInputMask;\n\n  prepend?: IInputAddons | IInputAddons[];\n  append?: IInputAddons | IInputAddons[];\n\n  value?: string | null;\n  invalid?: boolean;\n\n  errorMessage?: string | null;\n\n  onInput?: React.FormEventHandler<HTMLInputElement>;\n  onBlur?: React.FocusEventHandler<HTMLInputElement>;\n};\n\nexport function IFCInput(props: IFCInputProps) {\n  const {\n    label = '',\n    placeholder = '',\n    autocomplete,\n    readonly = false,\n    type = 'text',\n    mask,\n    prepend,\n    append,\n    value,\n    invalid = false,\n    errorMessage = null,\n    onInput,\n    onBlur,\n    children,\n    ...hostProps\n  } = props;\n\n  return (\n    <i-fc-input {...hostProps}>\n      {label ? <label className=\"i-fc-input__label\">{label} :</label> : null}\n\n      <IInput\n        placeholder={placeholder}\n        autocomplete={autocomplete}\n        readonly={readonly}\n        type={type}\n        mask={mask}\n        prepend={prepend}\n        append={append}\n        value={value ?? ''}\n        invalid={invalid}\n        onInput={onInput}\n        onBlur={onBlur}\n      />\n\n      {invalid && errorMessage ? (\n        <div className=\"i-fc-input__error\">{errorMessage}</div>\n      ) : null}\n\n      {children}\n    </i-fc-input>\n  );\n}\n","import React, {\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n  type JSX,\n  type ReactNode,\n} from 'react';\nimport { IIcon } from '../icon';\nimport {\n  IInput,\n  type IInputAddonButton,\n  type IInputAddonLoading,\n} from '../input';\nimport type { IFormControlErrorMessage } from '../shared';\n\nexport type ISelectChange<T> = {\n  value: T | null;\n  label: string;\n};\n\nexport type ISelectPanelPosition =\n  | 'top'\n  | 'bottom'\n  | 'left'\n  | 'right'\n  | 'top left'\n  | 'top right'\n  | 'bottom left'\n  | 'bottom right';\n\nexport type ISelectProps<T> = {\n  // host props (well spread these onto <i-select>)\n  id?: string;\n  className?: string;\n  style?: React.CSSProperties;\n  title?: string;\n  role?: string;\n  tabIndex?: number;\n  'aria-label'?: string;\n  'aria-labelledby'?: string;\n  'aria-describedby'?: string;\n  'aria-invalid'?: boolean | 'true' | 'false';\n  onKeyDown?: React.KeyboardEventHandler<HTMLElement>;\n\n  placeholder?: string;\n  disabled?: boolean;\n  invalid?: boolean;\n\n  filterDelay?: number;\n  panelPosition?: ISelectPanelPosition;\n\n  options?: T[] | null;\n\n  /** React-friendly replacement for options$ */\n  loading?: boolean;\n\n  displayWith?: ((row: T | null) => string) | string | undefined;\n  filterPredicate?: (row: T, term: string) => boolean;\n\n  value?: T | null;\n  onChange?: (value: T | null) => void;\n\n  onChanged?: (change: ISelectChange<T>) => void;\n  onOptionSelected?: (change: ISelectChange<T>) => void;\n\n  /** React replacement for <ng-template iSelectOption> */\n  renderOption?: (row: T) => ReactNode;\n\n  /** if true, highlight matches in default label rendering */\n  highlightSearch?: boolean;\n};\n\nexport type ISelectRef = {\n  focus: () => void;\n  open: () => void;\n  close: () => void;\n  toggle: () => void;\n  clear: () => void;\n};\n\nfunction escapeHtml(s: string): string {\n  return (s ?? '')\n    .replaceAll('&', '&amp;')\n    .replaceAll('<', '&lt;')\n    .replaceAll('>', '&gt;')\n    .replaceAll('\"', '&quot;')\n    .replaceAll(\"'\", '&#39;');\n}\n\nfunction highlightHtml(label: string, term: string): string {\n  const t = (term ?? '').trim();\n  if (!t) return escapeHtml(label);\n\n  const safeLabel = escapeHtml(label);\n  const safeTerm = escapeHtml(t);\n\n  const idx = safeLabel.toLowerCase().indexOf(safeTerm.toLowerCase());\n  if (idx < 0) return safeLabel;\n\n  const before = safeLabel.slice(0, idx);\n  const mid = safeLabel.slice(idx, idx + safeTerm.length);\n  const after = safeLabel.slice(idx + safeTerm.length);\n\n  return `${before}<mark>${mid}</mark>${after}`;\n}\n\nfunction panelPositionClass(\n  panelPosition: ISelectPanelPosition | undefined\n): string {\n  const value = (panelPosition || 'bottom left').trim();\n  const normalized = value.replace(/\\s+/g, '-');\n  return `i-options--${normalized}`;\n}\n\nfunction getByPath(obj: unknown, path: string): unknown {\n  const segs = (path ?? '').split('.').filter(Boolean);\n  let v: unknown = obj;\n\n  for (const s of segs) {\n    if (v === null || v === undefined) return null;\n    if (typeof v !== 'object') return null;\n    v = (v as Record<string, unknown>)[s];\n  }\n  return v;\n}\n\n/**\n * Resolve display label  mirrors Angular behavior:\n * 1) displayWith function (explicit)\n * 2) displayWith string path\n * 3) auto-mapping for object row: use 2nd property (or 1st)\n * 4) primitive row + options contain objects: match by 1st prop then label by 2nd prop\n * 5) fallback: String(row)\n */\nfunction resolveDisplayText<T>(\n  row: T | null,\n  rawOptions: T[],\n  displayWith: ((row: T | null) => string) | string | undefined,\n  displayWithExplicit: boolean\n): string {\n  if (row === null) return '';\n\n  // CASE 1: explicit function\n  if (typeof displayWith === 'function' && displayWithExplicit) {\n    return displayWith(row);\n  }\n\n  // CASE 2: string path\n  if (typeof displayWith === 'string') {\n    const v = getByPath(row as unknown, displayWith);\n    return v !== null && v !== undefined ? String(v) : '';\n  }\n\n  // CASE 3A: auto object mapping\n  if (!displayWithExplicit && row !== null && typeof row === 'object') {\n    const entries = Object.entries(row as Record<string, unknown>);\n    if (!entries.length) return '';\n    const labelEntry = entries[1] ?? entries[0];\n    const labelValue = labelEntry?.[1];\n    return labelValue !== null && labelValue !== undefined\n      ? String(labelValue)\n      : '';\n  }\n\n  // CASE 3B: auto mapping primitive value against object options\n  if (!displayWithExplicit && (row === null || typeof row !== 'object')) {\n    const primitive = row as unknown;\n\n    const match = rawOptions.find((opt) => {\n      if (opt === null || typeof opt !== 'object') return false;\n      const entries = Object.entries(opt as Record<string, unknown>);\n      if (!entries.length) return false;\n      const valueEntry = entries[0]; // first prop = \"value\"\n      return valueEntry?.[1] === primitive;\n    });\n\n    if (match) {\n      const entries = Object.entries(match as Record<string, unknown>);\n      const labelEntry = entries[1] ?? entries[0];\n      const labelValue = labelEntry?.[1];\n      return labelValue !== null && labelValue !== undefined\n        ? String(labelValue)\n        : String(primitive);\n    }\n  }\n\n  // CASE 4: fallback function (implicit)\n  if (typeof displayWith === 'function') {\n    return displayWith(row);\n  }\n\n  return String(row as unknown);\n}\n\nfunction computeFiltered<T>(\n  isOpen: boolean,\n  filterText: string,\n  rawOptions: T[],\n  filterPredicate: (row: T, term: string) => boolean\n): T[] {\n  if (!isOpen) return [];\n  const term = (filterText || '').toLowerCase();\n  if (!term) return [...rawOptions];\n  return rawOptions.filter((row) => filterPredicate(row, term));\n}\n\nexport const ISelect = forwardRef(function ISelectInner<T = unknown>(\n  props: ISelectProps<T>,\n  ref: React.Ref<ISelectRef>\n) {\n  const {\n    placeholder = '',\n    disabled = false,\n    invalid = false,\n    filterDelay = 200,\n    panelPosition = 'bottom left',\n\n    options = null,\n    loading = false,\n\n    displayWith,\n    filterPredicate = (row: T, term: string) =>\n      JSON.stringify(row).toLowerCase().includes(term),\n\n    value = null,\n    onChange,\n    onChanged,\n    onOptionSelected,\n\n    renderOption,\n    highlightSearch = true,\n\n    ...hostProps\n  } = props;\n\n  const hostRef = useRef<HTMLElement | null>(null);\n  const inputElRef = useRef<HTMLInputElement | null>(null);\n  const optionsListRef = useRef<HTMLDivElement | null>(null);\n\n  const [rawOptions, setRawOptions] = useState<T[]>(() => options ?? []);\n  const [isOpen, setIsOpen] = useState(false);\n  const [highlightIndex, setHighlightIndex] = useState(-1);\n\n  const [modelValue, setModelValue] = useState<T | null>(value ?? null);\n  const [pendingModelValue, setPendingModelValue] = useState<T | null>(null);\n\n  const [displayText, setDisplayText] = useState('');\n  const [filterText, setFilterText] = useState('');\n\n  // local \"typing\" loading (Angular used Subject+debounceTime)\n  const [typingLoading, setTypingLoading] = useState(false);\n  const isLoading = !!loading || typingLoading;\n\n  // track whether displayWith was explicitly set\n  const displayWithExplicit = useMemo(\n    () => displayWith !== undefined && displayWith !== null,\n    [displayWith]\n  );\n\n  // sync external options prop\n  useEffect(() => {\n    setRawOptions(options ?? []);\n  }, [options]);\n\n  // sync external value (FIX: include deps you read)\n  useEffect(() => {\n    const v = value ?? null;\n    setModelValue(v);\n\n    // If options are not ready, mimic pendingModelValue behavior\n    if (!rawOptions.length) {\n      setPendingModelValue(v);\n      setDisplayText(\n        resolveDisplayText(v, rawOptions, displayWith, displayWithExplicit)\n      );\n      return;\n    }\n\n    // otherwise model->view sync effect will handle\n  }, [value, rawOptions.length, displayWith, displayWithExplicit]);\n\n  // sync model -> view when options / displayWith changes\n  useEffect(() => {\n    const optionsArr = rawOptions;\n\n    const valueToUse =\n      modelValue !== null && modelValue !== undefined\n        ? modelValue\n        : pendingModelValue;\n\n    if (!optionsArr.length) {\n      setDisplayText(\n        resolveDisplayText(\n          valueToUse ?? null,\n          optionsArr,\n          displayWith,\n          displayWithExplicit\n        )\n      );\n      return;\n    }\n\n    if (valueToUse === null || valueToUse === undefined) {\n      setDisplayText('');\n      setPendingModelValue(null);\n    } else {\n      const found = optionsArr.find((row) => row === valueToUse) ?? null;\n      const row = found ?? valueToUse;\n\n      if (found) setModelValue(found);\n\n      setDisplayText(\n        resolveDisplayText(row, optionsArr, displayWith, displayWithExplicit)\n      );\n      setPendingModelValue(null);\n    }\n\n    if (!isOpen) {\n      setFilterText('');\n      setHighlightIndex(-1);\n    }\n  }, [\n    rawOptions,\n    displayWith,\n    displayWithExplicit,\n    modelValue,\n    pendingModelValue,\n    isOpen,\n  ]);\n\n  const filteredOptions = useMemo(() => {\n    return computeFiltered(isOpen, filterText, rawOptions, filterPredicate);\n  }, [isOpen, filterText, rawOptions, filterPredicate]);\n\n  const hasOptions = filteredOptions.length > 0;\n  const hasNoResults = isOpen && !!filterText && filteredOptions.length === 0;\n  const hasOptionsList = isOpen && hasOptions;\n\n  const scrollHighlightedIntoView = () => {\n    setTimeout(() => {\n      if (!isOpen) return;\n      const list = optionsListRef.current;\n      if (!list) return;\n      if (highlightIndex < 0) return;\n\n      const items = list.querySelectorAll('.i-option');\n      const el = items[highlightIndex] as HTMLElement | undefined;\n      el?.scrollIntoView({ block: 'nearest' });\n    });\n  };\n\n  const setActiveIndex = (idx: number) => {\n    if (idx < 0 || idx >= filteredOptions.length) setHighlightIndex(-1);\n    else setHighlightIndex(idx);\n  };\n\n  const focus = () => {\n    if (disabled) return;\n    inputElRef.current?.focus();\n  };\n\n  const openDropdown = () => {\n    if (disabled) return;\n    if (isOpen) return;\n\n    setIsOpen(true);\n\n    // compute highlight immediately from *current* state\n    setTimeout(() => {\n      const list = computeFiltered(\n        true,\n        filterText,\n        rawOptions,\n        filterPredicate\n      );\n      const len = list.length;\n\n      if (len === 0) {\n        setHighlightIndex(-1);\n        return;\n      }\n\n      if (modelValue !== null) {\n        const idx = list.indexOf(modelValue as T);\n        if (idx >= 0) {\n          setHighlightIndex(idx);\n          scrollHighlightedIntoView();\n          return;\n        }\n      }\n\n      setHighlightIndex(0);\n      scrollHighlightedIntoView();\n    }, 0);\n  };\n\n  const closeDropdown = () => {\n    setIsOpen(false);\n    setHighlightIndex(-1);\n  };\n\n  /** Angular behavior:\n   *  - if closed  open\n   *  - if open and hasNoResults  clear filter & show all (keep open)\n   *  - if open and NOT hasNoResults  close & restore model text\n   */\n  const toggleDropdown = (ev?: React.MouseEvent) => {\n    if (ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    if (disabled) return;\n\n    const filteredNow = computeFiltered(\n      isOpen,\n      filterText,\n      rawOptions,\n      filterPredicate\n    );\n    const noResultsNow = isOpen && !!filterText && filteredNow.length === 0;\n\n    if (!isOpen) {\n      openDropdown();\n    } else if (noResultsNow) {\n      setDisplayText('');\n      setFilterText('');\n      // keep open\n    } else {\n      const restored = resolveDisplayText(\n        modelValue,\n        rawOptions,\n        displayWith,\n        displayWithExplicit\n      );\n      setDisplayText(restored);\n      setFilterText('');\n      closeDropdown();\n    }\n\n    focus();\n  };\n\n  const clearSelection = (ev?: React.MouseEvent) => {\n    if (ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n\n    setModelValue(null);\n    setDisplayText('');\n    setFilterText('');\n\n    onChange?.(null);\n\n    const payload: ISelectChange<T> = { value: null, label: '' };\n    onChanged?.(payload);\n    onOptionSelected?.(payload);\n  };\n\n  const selectRow = (row: T) => {\n    const label = resolveDisplayText(\n      row,\n      rawOptions,\n      displayWith,\n      displayWithExplicit\n    );\n\n    setModelValue(row);\n    setDisplayText(label);\n    setFilterText('');\n\n    onChange?.(row);\n\n    const payload: ISelectChange<T> = { value: row, label };\n    onChanged?.(payload);\n    onOptionSelected?.(payload);\n\n    closeDropdown();\n  };\n\n  // debounce typing like Angular Subject+debounceTime\n  const debounceTimerRef = useRef<number | null>(null);\n\n  const onInputText = (val: string) => {\n    setTypingLoading(true);\n\n    if (debounceTimerRef.current) {\n      window.clearTimeout(debounceTimerRef.current);\n    }\n\n    debounceTimerRef.current = window.setTimeout(\n      () => {\n        setDisplayText(val);\n        setFilterText(val);\n        setTypingLoading(false);\n\n        if (!isOpen) openDropdown();\n      },\n      Math.max(0, filterDelay)\n    );\n  };\n\n  // cleanup debounce timer\n  useEffect(() => {\n    return () => {\n      if (debounceTimerRef.current) {\n        window.clearTimeout(debounceTimerRef.current);\n      }\n    };\n  }, []);\n\n  // keyboard behavior\n  const moveHighlight = (delta: number) => {\n    const len = filteredOptions.length;\n    if (!len) {\n      setHighlightIndex(-1);\n      return;\n    }\n\n    setHighlightIndex((prev) => {\n      let index = prev;\n      if (index === -1) index = 0;\n      else index = (index + delta + len) % len;\n\n      setTimeout(scrollHighlightedIntoView);\n      return index;\n    });\n  };\n\n  const onKeyDown = (event: React.KeyboardEvent) => {\n    const optionsArr = filteredOptions;\n\n    switch (event.key) {\n      case 'ArrowDown':\n        event.preventDefault();\n        if (!isOpen) openDropdown();\n        else if (optionsArr.length) moveHighlight(1);\n        break;\n\n      case 'ArrowUp':\n        event.preventDefault();\n        if (!isOpen) openDropdown();\n        else if (optionsArr.length) moveHighlight(-1);\n        break;\n\n      case 'Enter':\n        event.preventDefault();\n        if (!isOpen) {\n          openDropdown();\n        } else if (highlightIndex >= 0 && highlightIndex < optionsArr.length) {\n          selectRow(optionsArr[highlightIndex]);\n        }\n        break;\n\n      case 'Escape':\n        if (isOpen) {\n          event.preventDefault();\n          closeDropdown();\n        }\n        break;\n    }\n  };\n\n  // close on outside click\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const onDocClick = (ev: MouseEvent) => {\n      const target = ev.target as Node | null;\n      const host = hostRef.current;\n      if (!host) return;\n\n      if (target && !host.contains(target)) {\n        closeDropdown();\n      }\n    };\n\n    document.addEventListener('click', onDocClick, true);\n    return () => document.removeEventListener('click', onDocClick, true);\n  }, [isOpen]);\n\n  useImperativeHandle(ref, () => ({\n    focus,\n    open: openDropdown,\n    close: closeDropdown,\n    toggle: () => toggleDropdown(),\n    clear: () => clearSelection(),\n  }));\n\n  const appendAddon: IInputAddonButton | IInputAddonLoading = useMemo(() => {\n    if (isLoading) {\n      return { type: 'loading', visible: true };\n    }\n\n    return {\n      type: 'button',\n      icon: isOpen ? 'angle-up' : 'angle-down',\n      onClick: () => toggleDropdown(),\n      variant: 'primary',\n      visible: true,\n    };\n  }, [isLoading, isOpen]);\n\n  return (\n    <i-select\n      {...hostProps}\n      ref={(el) => {\n        hostRef.current = el as unknown as HTMLElement;\n      }}\n      onKeyDown={onKeyDown}>\n      <IInput\n        append={appendAddon}\n        invalid={invalid || hasNoResults}\n        placeholder={placeholder}\n        readonly={disabled}\n        value={displayText}\n        inputRef={inputElRef}\n        onInput={(e) => onInputText((e.target as HTMLInputElement).value)}\n      />\n\n      {hasOptionsList ? (\n        <div\n          className={[\n            'i-options',\n            'scroll',\n            'scroll-y',\n            panelPositionClass(panelPosition),\n          ].join(' ')}\n          ref={optionsListRef}>\n          {filteredOptions.map((row, idx) => {\n            const isSelected = modelValue === row;\n            const label = resolveDisplayText(\n              row,\n              rawOptions,\n              displayWith,\n              displayWithExplicit\n            );\n\n            return (\n              <div\n                key={(row as any)?.id ?? `${idx}-${label}`}\n                className={[\n                  'i-option',\n                  highlightIndex === idx ? 'active' : null,\n                  isSelected ? 'selected' : null,\n                ]\n                  .filter(Boolean)\n                  .join(' ')}\n                onMouseEnter={() => setActiveIndex(idx)}\n                onMouseDown={(e) => {\n                  // mousedown so it selects before blur closes things\n                  e.preventDefault();\n                  e.stopPropagation();\n                  selectRow(row);\n                }}>\n                {renderOption ? (\n                  <div className=\"i-option-label\">{renderOption(row)}</div>\n                ) : (\n                  <div\n                    className=\"i-option-label\"\n                    dangerouslySetInnerHTML={{\n                      __html: highlightSearch\n                        ? highlightHtml(label, filterText)\n                        : escapeHtml(label),\n                    }}\n                  />\n                )}\n\n                {isSelected ? (\n                  <span className=\"i-option-check\">\n                    <IIcon icon=\"check\" />\n                  </span>\n                ) : null}\n              </div>\n            );\n          })}\n        </div>\n      ) : null}\n    </i-select>\n  );\n}) as <T = unknown>(\n  props: ISelectProps<T> & { ref?: React.Ref<ISelectRef> }\n) => JSX.Element;\n\nfunction resolveErrorMessage(\n  label: string,\n  errorKey: string,\n  errorMessage?: IFormControlErrorMessage\n): string | null {\n  const tpl = errorMessage?.[errorKey];\n  if (!tpl) return null;\n  return tpl.replaceAll('{label}', label || 'This field');\n}\n\nexport type IFCSelectProps<T = any> = React.HTMLAttributes<HTMLElement> & {\n  label?: string;\n  placeholder?: string;\n\n  options?: T[] | null;\n\n  displayWith?: ((row: T | null) => string) | string | undefined;\n  filterDelay?: number;\n  filterPredicate?: (row: T, term: string) => boolean;\n\n  panelPosition?: ISelectPanelPosition;\n\n  value?: T | null;\n  onChange?: (v: T | null) => void;\n\n  onChanged?: (change: ISelectChange<T>) => void;\n  onOptionSelected?: (change: ISelectChange<T>) => void;\n\n  renderOption?: (row: T) => React.ReactNode;\n\n  disabled?: boolean;\n\n  /** React validation */\n  required?: boolean;\n  invalid?: boolean;\n\n  /** Angular-like template map */\n  errorMessage?: IFormControlErrorMessage;\n\n  /** which key to render when invalid (default: 'required') */\n  errorKey?: string;\n};\n\nexport function IFCSelect<T = any>(props: IFCSelectProps<T>) {\n  const {\n    label = '',\n    placeholder = '',\n\n    options = null,\n\n    displayWith,\n    filterDelay = 200,\n    filterPredicate,\n\n    panelPosition = 'bottom left',\n\n    value = null,\n    onChange,\n    onChanged,\n    onOptionSelected,\n\n    renderOption,\n\n    disabled = false,\n\n    required = false,\n    invalid = false,\n    errorMessage,\n    errorKey = 'required',\n\n    children, // (kept for API compatibility; not used)\n    ...hostProps\n  } = props;\n\n  const resolvedErrorText = useMemo(() => {\n    if (!invalid) return null;\n    return (\n      resolveErrorMessage(label || 'This field', errorKey, errorMessage) ??\n      `${label || 'This field'} is invalid`\n    );\n  }, [invalid, label, errorKey, errorMessage]);\n\n  return (\n    <i-fc-select {...hostProps}>\n      {label ? (\n        <label className=\"i-fc-select__label\">\n          {label} :{' '}\n          {required ? <span className=\"i-fc-select__required\">*</span> : null}\n        </label>\n      ) : null}\n\n      <ISelect<T>\n        disabled={disabled}\n        displayWith={displayWith}\n        filterDelay={filterDelay}\n        filterPredicate={filterPredicate}\n        invalid={invalid}\n        options={options}\n        panelPosition={panelPosition}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n        onChanged={onChanged}\n        onOptionSelected={onOptionSelected}\n        renderOption={renderOption}\n      />\n\n      {invalid && resolvedErrorText ? (\n        <div className=\"i-fc-select__error\">{resolvedErrorText}</div>\n      ) : null}\n    </i-fc-select>\n  );\n}\n","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { IButton } from '../button';\nimport {\n  IInput,\n  type IInputAddonButton,\n  type IInputAddons,\n  type IInputMask,\n} from '../input';\nimport { ISelect, type ISelectChange } from '../select';\nimport type { IFormControlErrorMessage } from '../shared/form.types';\n\n// -----------------------------\n// Types\n// -----------------------------\n\ntype IDatepickerDay = {\n  date: Date;\n  inCurrentMonth: boolean;\n  isToday: boolean;\n  isSelected: boolean;\n};\n\ntype IMonthOption = { value: number; label: string };\n\nexport type IDatepickerPanelPosition =\n  | 'top'\n  | 'bottom'\n  | 'left'\n  | 'right'\n  | 'top left'\n  | 'top right'\n  | 'bottom left'\n  | 'bottom right';\n\nexport type IDatepickerProps = React.HTMLAttributes<HTMLElement> & {\n  placeholder?: string;\n  disabled?: boolean;\n\n  /** purely visual invalid state */\n  invalid?: boolean;\n\n  /** display / parse format: supports yyyy, MM, dd */\n  format?: string;\n\n  panelPosition?: IDatepickerPanelPosition;\n\n  /** Date model */\n  value?: Date | null;\n\n  /** React callback */\n  onChange?: (value: Date | null) => void;\n\n  /** optional open state changes */\n  onOpenChange?: (open: boolean) => void;\n};\n\n// -----------------------------\n// Utils\n// -----------------------------\n\nfunction startOfDay(d: Date): Date {\n  return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n}\n\nfunction isSameDate(a: Date, b: Date): boolean {\n  return (\n    a.getFullYear() === b.getFullYear() &&\n    a.getMonth() === b.getMonth() &&\n    a.getDate() === b.getDate()\n  );\n}\n\nfunction formatDateByFormat(date: Date, fmt: string): string {\n  const yyyy = String(date.getFullYear()).padStart(4, '0');\n  const MM = String(date.getMonth() + 1).padStart(2, '0');\n  const dd = String(date.getDate()).padStart(2, '0');\n\n  return (fmt || 'dd/MM/yyyy')\n    .replace(/yyyy/g, yyyy)\n    .replace(/MM/g, MM)\n    .replace(/dd/g, dd);\n}\n\n/**\n * Lightweight parser that maps numeric parts into yyyy/MM/dd tokens order.\n * (Works well with dd/MM/yyyy, yyyy-MM-dd, etc.)\n */\nfunction parseInputDate(value: string, fmt: string): Date | null {\n  if (!value) return null;\n\n  const format = fmt || 'yyyy-MM-dd';\n\n  const parts = value.match(/\\d+/g);\n  if (!parts || parts.length < 3) return null;\n\n  const tokens = format.match(/(yyyy|MM|dd)/g) || ['yyyy', 'MM', 'dd'];\n\n  let year: number | undefined;\n  let month: number | undefined;\n  let day: number | undefined;\n\n  tokens.forEach((t, idx) => {\n    const p = parts[idx];\n    if (!p) return;\n    const n = Number(p);\n\n    if (t === 'yyyy') year = n;\n    else if (t === 'MM') month = n;\n    else if (t === 'dd') day = n;\n  });\n\n  // keep your semantics: 0 or undefined => invalid\n  if (!year || !month || !day) return null;\n\n  const date = new Date(year, month - 1, day);\n  if (\n    date.getFullYear() !== year ||\n    date.getMonth() !== month - 1 ||\n    date.getDate() !== day\n  ) {\n    return null;\n  }\n\n  return startOfDay(date);\n}\n\nfunction panelPositionClass(\n  panelPosition: IDatepickerPanelPosition | undefined\n): string {\n  const value = (panelPosition || 'bottom left').trim();\n  const normalized = value.replace(/\\s+/g, '-');\n  return `i-datepicker-panel--${normalized}`;\n}\n\n// -----------------------------\n// Constants\n// -----------------------------\n\nconst MONTHS: IMonthOption[] = [\n  { value: 0, label: 'January' },\n  { value: 1, label: 'February' },\n  { value: 2, label: 'March' },\n  { value: 3, label: 'April' },\n  { value: 4, label: 'May' },\n  { value: 5, label: 'June' },\n  { value: 6, label: 'July' },\n  { value: 7, label: 'August' },\n  { value: 8, label: 'September' },\n  { value: 9, label: 'October' },\n  { value: 10, label: 'November' },\n  { value: 11, label: 'December' },\n];\n\nconst WEEKDAYS = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n\n// -----------------------------\n// Component\n// -----------------------------\n\nexport function IDatepicker(props: IDatepickerProps) {\n  const {\n    placeholder = '',\n    disabled = false,\n    invalid = false,\n    format = 'dd/MM/yyyy',\n    panelPosition = 'bottom left',\n    value = null,\n    onChange,\n    onOpenChange,\n    ...hostProps\n  } = props;\n\n  const hostRef = useRef<HTMLElement | null>(null);\n  const inputElRef = useRef<HTMLInputElement | null>(null);\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  // input text shown to user (controlled by typing OR external value)\n  const [displayText, setDisplayText] = useState<string>(() =>\n    value ? formatDateByFormat(startOfDay(value), format) : ''\n  );\n\n  // calendar view (month/year)\n  const today = useMemo(() => startOfDay(new Date()), []);\n  const [viewYear, setViewYear] = useState<number>(() =>\n    value ? value.getFullYear() : today.getFullYear()\n  );\n  const [viewMonth, setViewMonth] = useState<number>(() =>\n    value ? value.getMonth() : today.getMonth()\n  );\n\n  const [years, setYears] = useState<number[]>(() => {\n    const focusYear = value ? value.getFullYear() : today.getFullYear();\n    const start = focusYear - 50;\n    const end = focusYear + 10;\n    const arr: number[] = [];\n    for (let y = start; y <= end; y++) arr.push(y);\n    return arr;\n  });\n\n  const ensureYearRange = useCallback((focusYear: number) => {\n    setYears((prev) => {\n      if (\n        prev.length &&\n        focusYear >= prev[0] &&\n        focusYear <= prev[prev.length - 1]\n      ) {\n        return prev;\n      }\n      const start = focusYear - 50;\n      const end = focusYear + 10;\n      const arr: number[] = [];\n      for (let y = start; y <= end; y++) arr.push(y);\n      return arr;\n    });\n  }, []);\n\n  const updateViewFromDate = useCallback(\n    (d: Date) => {\n      const sd = startOfDay(d);\n      const y = sd.getFullYear();\n      const m = sd.getMonth();\n      setViewYear(y);\n      setViewMonth(m);\n      ensureYearRange(y);\n    },\n    [ensureYearRange]\n  );\n\n  // sync display + view from external value changes\n  useEffect(() => {\n    if (value) {\n      const d = startOfDay(value);\n      setDisplayText(formatDateByFormat(d, format));\n      updateViewFromDate(d);\n    } else {\n      // keep input empty when controlled value is null\n      setDisplayText('');\n      updateViewFromDate(today);\n    }\n  }, [value, format, updateViewFromDate, today]);\n\n  //  Keep Angular ngOnInit-like behavior:\n  // If empty on mount, show today visually (but DO NOT call onChange)\n  useEffect(() => {\n    if (!value && !displayText) {\n      setDisplayText(formatDateByFormat(today, format));\n      updateViewFromDate(today);\n    }\n    // run once (Angular-ish)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const weeks: IDatepickerDay[][] = useMemo(() => {\n    const year = viewYear;\n    const month = viewMonth;\n\n    const firstOfMonth = new Date(year, month, 1);\n    const startDay = (firstOfMonth.getDay() + 6) % 7; // Monday=0\n    const startDate = new Date(year, month, 1 - startDay);\n\n    const selected = value ? startOfDay(value) : null;\n\n    const out: IDatepickerDay[][] = [];\n    const cur = new Date(startDate);\n\n    for (let w = 0; w < 6; w++) {\n      const row: IDatepickerDay[] = [];\n      for (let i = 0; i < 7; i++) {\n        const date = new Date(cur);\n        row.push({\n          date,\n          inCurrentMonth: date.getMonth() === month,\n          isToday: isSameDate(date, today),\n          isSelected: selected ? isSameDate(date, selected) : false,\n        });\n        cur.setDate(cur.getDate() + 1);\n      }\n      out.push(row);\n    }\n\n    return out;\n  }, [viewYear, viewMonth, value, today]);\n\n  const monthSelected = useMemo(\n    () => MONTHS.find((m) => m.value === viewMonth) ?? null,\n    [viewMonth]\n  );\n\n  const mask: IInputMask = useMemo(() => ({ type: 'date', format }), [format]);\n\n  const focusInput = useCallback(() => {\n    inputElRef.current?.focus();\n  }, []);\n\n  const setOpen = useCallback(\n    (next: boolean) => {\n      setIsOpen(next);\n      onOpenChange?.(next);\n    },\n    [onOpenChange]\n  );\n\n  const toggleOpen = useCallback(() => {\n    if (disabled) return;\n\n    if (!isOpen) {\n      // when opening, sync calendar from current typed text\n      if (displayText) {\n        const parsed = parseInputDate(displayText, format);\n        updateViewFromDate(parsed ?? today);\n      } else if (value) {\n        updateViewFromDate(startOfDay(value));\n      } else {\n        updateViewFromDate(today);\n      }\n    }\n\n    setOpen(!isOpen);\n  }, [\n    disabled,\n    isOpen,\n    displayText,\n    format,\n    value,\n    setOpen,\n    updateViewFromDate,\n    today,\n  ]);\n\n  const handleTypedInput = useCallback(\n    (raw: string) => {\n      setDisplayText(raw);\n\n      const parsed = parseInputDate(raw, format);\n      if (parsed) {\n        updateViewFromDate(parsed);\n        onChange?.(parsed);\n      } else {\n        onChange?.(null);\n      }\n    },\n    [format, onChange, updateViewFromDate]\n  );\n\n  const selectDay = useCallback(\n    (day: IDatepickerDay) => {\n      if (disabled) return;\n\n      const selected = startOfDay(day.date);\n      setDisplayText(formatDateByFormat(selected, format));\n      onChange?.(selected);\n\n      updateViewFromDate(selected);\n      setOpen(false);\n    },\n    [disabled, format, onChange, setOpen, updateViewFromDate]\n  );\n\n  const prevMonth = useCallback(() => {\n    let y = viewYear;\n    let m = viewMonth;\n\n    if (m === 0) {\n      m = 11;\n      y = y - 1;\n    } else {\n      m = m - 1;\n    }\n\n    setViewYear(y);\n    setViewMonth(m);\n    ensureYearRange(y);\n  }, [viewYear, viewMonth, ensureYearRange]);\n\n  const nextMonth = useCallback(() => {\n    let y = viewYear;\n    let m = viewMonth;\n\n    if (m === 11) {\n      m = 0;\n      y = y + 1;\n    } else {\n      m = m + 1;\n    }\n\n    setViewYear(y);\n    setViewMonth(m);\n    ensureYearRange(y);\n  }, [viewYear, viewMonth, ensureYearRange]);\n\n  const onMonthChange = useCallback((change: ISelectChange<IMonthOption>) => {\n    const row = change.value;\n    if (!row) return;\n\n    const month = row.value;\n    if (!Number.isInteger(month) || month < 0 || month > 11) return;\n\n    setViewMonth(month);\n  }, []);\n\n  const onYearChange = useCallback(\n    (change: ISelectChange<number>) => {\n      const year = change.value;\n      if (year === null) return; //  important\n      if (!Number.isInteger(year)) return;\n\n      setViewYear(year);\n      ensureYearRange(year);\n    },\n    [ensureYearRange]\n  );\n\n  // close on outside click\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const onDocClick = (ev: MouseEvent) => {\n      const target = ev.target as Node | null;\n      const host = hostRef.current;\n      if (!host) return;\n\n      if (target && !host.contains(target)) {\n        setOpen(false);\n      }\n    };\n\n    document.addEventListener('click', onDocClick, true);\n    return () => document.removeEventListener('click', onDocClick, true);\n  }, [isOpen, setOpen]);\n\n  const appendAddon: IInputAddonButton = useMemo(\n    () => ({\n      type: 'button',\n      icon: 'calendar',\n      visible: true,\n      variant: 'primary',\n      onClick: () => {\n        toggleOpen();\n        focusInput();\n      },\n    }),\n    [toggleOpen, focusInput]\n  );\n\n  const append: IInputAddons = appendAddon;\n\n  return (\n    <i-datepicker\n      {...hostProps}\n      ref={(el) => {\n        hostRef.current = el as unknown as HTMLElement;\n      }}>\n      <IInput\n        append={append}\n        mask={mask}\n        invalid={invalid}\n        placeholder={placeholder}\n        readonly={disabled}\n        value={displayText}\n        inputRef={inputElRef}\n        onInput={(e) => handleTypedInput((e.target as HTMLInputElement).value)}\n      />\n\n      {isOpen ? (\n        <div\n          className={[\n            'i-datepicker-panel',\n            panelPositionClass(panelPosition),\n          ].join(' ')}>\n          <div className=\"i-datepicker-header\">\n            <IButton icon=\"prev\" size=\"xs\" onClick={prevMonth} />\n\n            <ISelect<IMonthOption>\n              className=\"i-date-picker-month-select\"\n              options={MONTHS}\n              value={monthSelected}\n              onOptionSelected={onMonthChange}\n            />\n\n            <ISelect<number>\n              className=\"i-date-picker-year-select\"\n              options={years}\n              value={viewYear}\n              onOptionSelected={onYearChange}\n            />\n\n            <IButton icon=\"next\" size=\"xs\" onClick={nextMonth} />\n          </div>\n\n          <div className=\"i-datepicker-weekdays\">\n            {WEEKDAYS.map((w) => (\n              <small key={w}>{w}</small>\n            ))}\n          </div>\n\n          <div className=\"i-datepicker-weeks\">\n            {weeks.map((week, wi) => (\n              <div key={wi} className=\"i-datepicker-week\">\n                {week.map((d) => (\n                  <div\n                    key={d.date.getTime()}\n                    className={[\n                      'i-datepicker-day',\n                      d.inCurrentMonth ? 'current-month' : null,\n                      d.isSelected ? 'selected' : null,\n                      d.isToday && !d.isSelected ? 'today' : null,\n                    ]\n                      .filter(Boolean)\n                      .join(' ')}\n                    onClick={() => selectDay(d)}>\n                    {d.date.getDate()}\n                  </div>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : null}\n    </i-datepicker>\n  );\n}\n\n// -----------------------------\n// FC wrapper (same pattern as fc-select)\n// -----------------------------\n\nfunction resolveErrorMessage(\n  label: string,\n  errorKey: string,\n  errorMessage?: IFormControlErrorMessage\n): string | null {\n  const tpl = errorMessage?.[errorKey];\n  if (!tpl) return null;\n  return tpl.replaceAll('{label}', label || 'This field');\n}\n\nexport type IFCDatepickerProps = React.HTMLAttributes<HTMLElement> & {\n  label?: string;\n  placeholder?: string;\n  format?: string;\n  panelPosition?: IDatepickerPanelPosition;\n\n  value?: Date | null;\n  onChange?: (v: Date | null) => void;\n\n  disabled?: boolean;\n\n  /** React-style validation */\n  required?: boolean;\n  invalid?: boolean;\n\n  /** Angular-like template map (same as fc-select) */\n  errorMessage?: IFormControlErrorMessage;\n\n  /** which key to render when invalid (default: 'required') */\n  errorKey?: string;\n};\n\nexport function IFCDatepicker(props: IFCDatepickerProps) {\n  const {\n    label = '',\n    placeholder = '',\n    format = 'dd/MM/yyyy',\n    panelPosition = 'bottom left',\n    value = null,\n    onChange,\n    disabled = false,\n\n    required = false,\n    invalid = false,\n    errorMessage,\n    errorKey = 'required',\n\n    ...hostProps\n  } = props;\n\n  const resolvedErrorText = useMemo(() => {\n    if (!invalid) return null;\n    return (\n      resolveErrorMessage(label || 'This field', errorKey, errorMessage) ??\n      `${label || 'This field'} is invalid`\n    );\n  }, [invalid, label, errorKey, errorMessage]);\n\n  return (\n    <i-fc-datepicker {...hostProps}>\n      {label ? (\n        <label className=\"i-fc-datepicker__label\">\n          {label} :{' '}\n          {required ? (\n            <span className=\"i-fc-datepicker__required\">*</span>\n          ) : null}\n        </label>\n      ) : null}\n\n      <IDatepicker\n        disabled={disabled}\n        format={format}\n        invalid={invalid}\n        panelPosition={panelPosition}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n      />\n\n      {invalid && resolvedErrorText ? (\n        <div className=\"i-fc-datepicker__error\">{resolvedErrorText}</div>\n      ) : null}\n    </i-fc-datepicker>\n  );\n}\n","import React, { useMemo } from 'react';\nimport type { IFormControlErrorMessage } from '../shared';\n\nfunction resolveErrorMessage(\n  label: string,\n  errorKey: string,\n  errorMessage?: IFormControlErrorMessage\n): string | null {\n  const tpl = errorMessage?.[errorKey];\n  if (!tpl) return null;\n  return tpl.replaceAll('{label}', label || 'This field');\n}\n\n/* =========================\n * ITextarea\n * ========================= */\n\nexport type ITextareaProps = Omit<\n  React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n  'value' | 'defaultValue' | 'onChange'\n> & {\n  value?: string; //  no null\n  invalid?: boolean;\n\n  onChange?: (value: string) => void;\n};\n\nexport function ITextarea(props: ITextareaProps) {\n  const {\n    value = '',\n    invalid = false,\n    disabled = false,\n    readOnly = false,\n    rows = 3,\n    placeholder = '',\n    onChange,\n    ...rest\n  } = props;\n\n  return (\n    <i-textarea>\n      <textarea\n        {...rest}\n        aria-invalid={invalid ? 'true' : undefined}\n        disabled={disabled}\n        readOnly={readOnly}\n        rows={rows}\n        placeholder={placeholder}\n        value={value}\n        onChange={(e) => onChange?.(e.currentTarget.value)}\n      />\n    </i-textarea>\n  );\n}\n\n/* =========================\n * IFCTextarea\n * ========================= */\n\nexport type IFCTextareaProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  'onChange'\n> & {\n  label?: string;\n  placeholder?: string;\n\n  value?: string; //  no null\n  onChange?: (value: string) => void;\n\n  disabled?: boolean;\n  readonly?: boolean;\n  rows?: number;\n\n  required?: boolean;\n  invalid?: boolean;\n\n  errorMessage?: IFormControlErrorMessage;\n  errorKey?: string;\n};\n\nexport function IFCTextarea(props: IFCTextareaProps) {\n  const {\n    label = '',\n    placeholder = '',\n    value = '',\n    onChange,\n\n    disabled = false,\n    readonly = false,\n    rows = 3,\n\n    required = false,\n    invalid = false,\n\n    errorMessage,\n    errorKey = 'required',\n\n    ...hostProps\n  } = props;\n\n  const resolvedErrorText = useMemo(() => {\n    if (!invalid) return null;\n    return (\n      resolveErrorMessage(label || 'This field', errorKey, errorMessage) ??\n      `${label || 'This field'} is invalid`\n    );\n  }, [invalid, label, errorKey, errorMessage]);\n\n  return (\n    <i-fc-textarea {...hostProps}>\n      {label ? (\n        <label className=\"i-fc-textarea__label\">\n          {label} :{' '}\n          {required ? <span className=\"i-fc-textarea__required\">*</span> : null}\n        </label>\n      ) : null}\n\n      <ITextarea\n        placeholder={placeholder}\n        value={value}\n        invalid={invalid}\n        disabled={disabled}\n        readOnly={readonly}\n        rows={rows}\n        onChange={(v) => onChange?.(v)}\n      />\n\n      {invalid && resolvedErrorText ? (\n        <div className=\"i-fc-textarea__error\">{resolvedErrorText}</div>\n      ) : null}\n    </i-fc-textarea>\n  );\n}\n","// dialog.tsx\nimport React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n  type ReactNode,\n} from 'react';\nimport { IButton, type IButtonVariant } from '../button/button';\nimport { IIcon, type IIconName } from '../icon/icon';\nimport { IFCTextarea } from '../textarea/textarea';\n\n/* =========================================================\n * Types (matches Angular)\n * ========================================================= */\n\nexport type IDialogConfig<TData = any> = {\n  id?: string;\n  data?: TData;\n  width?: string;\n  height?: string;\n  disableClose?: boolean; // ignore ESC/backdrop\n  backdropClose?: boolean; // allow click backdrop to close\n};\n\nexport type IAlertData = {\n  title: string;\n  description: string;\n  type: 'information' | 'success' | 'warning' | 'danger';\n};\n\nexport type IConfirmData = {\n  title: string;\n  description: string;\n  type: 'information' | 'success' | 'warning' | 'danger';\n  reason?: boolean;\n};\n\ntype Listener<T> = (value: T) => void;\n\nexport class IDialogRef<TResult = any> {\n  private _closed = false;\n  private _result: TResult | undefined = undefined;\n  private _listeners = new Set<Listener<TResult | undefined>>();\n  private _resolve!: (v: TResult | undefined) => void;\n  private _promise: Promise<TResult | undefined>;\n\n  constructor() {\n    this._promise = new Promise<TResult | undefined>((resolve) => {\n      this._resolve = resolve;\n    });\n  }\n\n  close(result?: TResult): void {\n    if (this._closed) return;\n    this._closed = true;\n    this._result = result;\n\n    for (const l of this._listeners) l(this._result);\n    this._listeners.clear();\n\n    this._resolve(this._result);\n  }\n\n  /** Promise style */\n  afterClosed(): Promise<TResult | undefined> {\n    return this._promise;\n  }\n\n  /** Observable-like subscribe (no rxjs dependency) */\n  subscribe(cb: Listener<TResult | undefined>): () => void {\n    if (this._closed) {\n      cb(this._result);\n      return () => {};\n    }\n    this._listeners.add(cb);\n    return () => this._listeners.delete(cb);\n  }\n}\n\nexport type IDialogInstance<TData = any, TResult = any> = {\n  id: string;\n  component: React.ComponentType<any>;\n  config: Required<IDialogConfig<TData>>;\n  ref: IDialogRef<TResult>;\n};\n\n/* =========================================================\n * Provider (service state)\n * ========================================================= */\n\nlet DIALOG_ID_COUNTER = 0;\n\ntype DialogApi = {\n  dialogs: IDialogInstance[];\n  open: <TData = any, TResult = any>(\n    component: React.ComponentType<any>,\n    config?: IDialogConfig<TData>\n  ) => IDialogRef<TResult>;\n  closeById: (id: string, result?: any) => void;\n  closeAll: () => void;\n};\n\nconst DialogContext = createContext<DialogApi | null>(null);\n\ntype DialogInstanceContextValue = {\n  data: any;\n  dialogRef: IDialogRef<any>;\n};\n\nconst DialogInstanceContext = createContext<DialogInstanceContextValue | null>(\n  null\n);\n\nexport function useIDialog(): DialogApi {\n  const ctx = useContext(DialogContext);\n  if (!ctx)\n    throw new Error('useIDialog() must be used inside <IDialogProvider>.');\n  return ctx;\n}\n\n/** React equivalent to inject(I_DIALOG_DATA) */\nexport function useDialogData<T = any>(): T {\n  const ctx = useContext(DialogInstanceContext);\n  return (ctx?.data ?? undefined) as T;\n}\n\n/** React equivalent to inject(IDialogRef) */\nexport function useDialogRef<TResult = any>(): IDialogRef<TResult> {\n  const ctx = useContext(DialogInstanceContext);\n  if (!ctx?.dialogRef) {\n    throw new Error('useDialogRef() must be used inside a dialog component.');\n  }\n  return ctx.dialogRef as IDialogRef<TResult>;\n}\n\n/** Optional version (lets <IDialog> be used outside the service too) */\nfunction useOptionalDialogRef<TResult = any>(): IDialogRef<TResult> | null {\n  const ctx = useContext(DialogInstanceContext);\n  return (ctx?.dialogRef ?? null) as IDialogRef<TResult> | null;\n}\n\nexport type IDialogProviderProps = {\n  children?: ReactNode;\n};\n\nexport function IDialogProvider(props: IDialogProviderProps) {\n  const { children } = props;\n  const [dialogs, setDialogs] = useState<IDialogInstance[]>([]);\n\n  const open: DialogApi['open'] = useCallback((component, config = {}) => {\n    const id = config.id ?? `i-dialog-${++DIALOG_ID_COUNTER}`;\n    const ref = new IDialogRef<any>();\n\n    const instance: IDialogInstance<any, any> = {\n      id,\n      component,\n      config: {\n        width: config.width ?? 'auto',\n        height: config.height ?? 'auto',\n        disableClose: config.disableClose ?? false,\n        backdropClose: config.backdropClose ?? true,\n        data: (config.data as any) ?? (undefined as any),\n        id,\n      },\n      ref,\n    };\n\n    setDialogs((prev) => [...prev, instance]);\n\n    ref.subscribe(() => {\n      setDialogs((prev) => prev.filter((d) => d.id !== id));\n    });\n\n    return ref as IDialogRef<any>;\n  }, []);\n\n  const closeById = useCallback(\n    (id: string, result?: any) => {\n      const inst = dialogs.find((d) => d.id === id);\n      inst?.ref.close(result);\n    },\n    [dialogs]\n  );\n\n  const closeAll = useCallback(() => {\n    dialogs.forEach((d) => d.ref.close(undefined));\n  }, [dialogs]);\n\n  const api = useMemo<DialogApi>(\n    () => ({ dialogs, open, closeById, closeAll }),\n    [dialogs, open, closeById, closeAll]\n  );\n\n  return (\n    <DialogContext.Provider value={api}>{children}</DialogContext.Provider>\n  );\n}\n\n/* =========================================================\n * Outlet + Container (Angular-like)\n * ========================================================= */\n\ntype IDialogContainerProps = {\n  instance: IDialogInstance;\n  isTopMost: boolean;\n};\n\nfunction IDialogContainer(props: IDialogContainerProps) {\n  const { instance, isTopMost } = props;\n  const { width, height, disableClose, backdropClose } = instance.config;\n\n  const onEsc = useCallback(\n    (e: KeyboardEvent) => {\n      if (!isTopMost) return;\n      if (e.key !== 'Escape') return;\n      if (disableClose) return;\n      instance.ref.close(undefined);\n    },\n    [isTopMost, disableClose, instance.ref]\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', onEsc, true);\n    return () => document.removeEventListener('keydown', onEsc, true);\n  }, [onEsc]);\n\n  const onBackdropClick = (e: React.MouseEvent) => {\n    if (!isTopMost) return;\n    if (disableClose) return;\n    if (!backdropClose) return;\n\n    e.preventDefault();\n    instance.ref.close(undefined);\n  };\n\n  const panelStyles: React.CSSProperties = {\n    width: width || undefined,\n    height: height || undefined,\n  };\n\n  const Comp = instance.component;\n\n  return (\n    <i-dialog-container data-dialog-id={instance.id}>\n      <div className=\"i-dialog-backdrop\" onClick={onBackdropClick} />\n      <div className=\"i-dialog-wrapper\">\n        <div className=\"i-dialog-panel\" style={panelStyles}>\n          <DialogInstanceContext.Provider\n            value={{ data: instance.config.data, dialogRef: instance.ref }}>\n            <Comp />\n          </DialogInstanceContext.Provider>\n        </div>\n      </div>\n    </i-dialog-container>\n  );\n}\n\n/** Put this once near app root (Option A) */\nexport function IDialogOutlet() {\n  const { dialogs } = useIDialog();\n\n  return (\n    <i-dialog-outlet>\n      {dialogs.map((dialog, idx) => {\n        const last = idx === dialogs.length - 1;\n        return (\n          <IDialogContainer\n            key={dialog.id}\n            instance={dialog}\n            isTopMost={last}\n          />\n        );\n      })}\n    </i-dialog-outlet>\n  );\n}\n\n/* =========================================================\n * i-dialog-close replacement\n * ========================================================= */\n\nexport type IDialogCloseProps = {\n  result?: any;\n  children?: ReactNode;\n  className?: string;\n};\n\nexport function IDialogClose(props: IDialogCloseProps) {\n  const { result, children, className } = props;\n  const ref = useDialogRef<any>();\n\n  return (\n    <span\n      className={className}\n      onClick={(e) => {\n        e.preventDefault();\n        ref.close(result);\n      }}>\n      {children}\n    </span>\n  );\n}\n\n/* =========================================================\n * Public <IDialog> (title + actions)  mirrors Angular\n * ========================================================= */\n\nexport type IDialogActionTypes = {\n  type: 'cancel' | 'save' | 'ok' | 'confirm' | 'custom';\n};\nexport type IDialogActionType = IDialogActionTypes['type'];\n\nexport type IDialogActionCancel = {\n  type: 'cancel';\n  className?: string;\n  visible?: boolean;\n};\n\nexport type IDialogActionSave = {\n  type: 'save';\n  className?: string;\n  visible?: boolean;\n};\n\nexport type IDialogActionOK = {\n  type: 'ok';\n  className?: string;\n  visible?: boolean;\n};\n\nexport type IDialogActionConfirm = {\n  type: 'confirm';\n  className?: string;\n  visible?: boolean;\n};\n\nexport type IDialogActionCustom = {\n  type: 'custom';\n  visible?: boolean;\n  label: string;\n  variant?: IButtonVariant;\n  icon?: IIconName | string;\n  className?: string;\n  onClick?: () => void;\n};\n\nexport type IDialogActionObject =\n  | IDialogActionCancel\n  | IDialogActionSave\n  | IDialogActionOK\n  | IDialogActionConfirm\n  | IDialogActionCustom;\n\nexport type DialogAction = IDialogActionType | IDialogActionObject;\n\nexport type IDialogProps = React.HTMLAttributes<HTMLElement> & {\n  title?: string;\n  actions?: DialogAction[];\n\n  onOk?: (value?: any) => void;\n  onConfirm?: (value?: any) => void;\n  onSave?: (value?: any) => void;\n  onCustomAction?: (action: IDialogActionObject) => void;\n\n  children?: ReactNode;\n};\n\nfunction normalizeActions(\n  actions: DialogAction[] | undefined\n): IDialogActionObject[] {\n  return (actions ?? ['save', 'cancel']).map((a) =>\n    typeof a === 'string' ? ({ type: a } as IDialogActionObject) : a\n  );\n}\n\nfunction isVisible(a: { visible?: boolean } | undefined): boolean {\n  if (!a) return false;\n  return a.visible === undefined ? true : !!a.visible;\n}\n\nexport function IDialog(props: IDialogProps) {\n  const {\n    title,\n    actions = ['save', 'cancel'],\n\n    onOk,\n    onConfirm,\n    onSave,\n    onCustomAction,\n\n    children,\n    ...rest\n  } = props;\n\n  //  safe: if used outside dialog context, cancel just no-ops\n  const dialogRef = useOptionalDialogRef<any>();\n\n  const normalized = useMemo(() => normalizeActions(actions), [actions]);\n\n  const saveAction = normalized.find((a) => a.type === 'save') as\n    | IDialogActionSave\n    | undefined;\n  const okAction = normalized.find((a) => a.type === 'ok') as\n    | IDialogActionOK\n    | undefined;\n  const confirmAction = normalized.find((a) => a.type === 'confirm') as\n    | IDialogActionConfirm\n    | undefined;\n  const cancelAction = normalized.find((a) => a.type === 'cancel') as\n    | IDialogActionCancel\n    | undefined;\n\n  const customActions = normalized.filter(\n    (a) => a.type === 'custom'\n  ) as IDialogActionCustom[];\n\n  const hasAnyActions =\n    customActions.some(isVisible) ||\n    isVisible(okAction) ||\n    isVisible(confirmAction) ||\n    isVisible(saveAction) ||\n    isVisible(cancelAction);\n\n  return (\n    <i-dialog {...rest}>\n      {title ? <h4 className=\"i-dialog-title\">{title}</h4> : null}\n\n      <div className=\"i-dialog-content\">{children}</div>\n\n      {hasAnyActions ? (\n        <div className=\"i-dialog-actions\">\n          {customActions.filter(isVisible).map((a, idx) => (\n            <IButton\n              key={idx}\n              icon={a.icon as any}\n              className={a.className}\n              variant={a.variant || 'primary'}\n              onClick={() => {\n                a.onClick?.();\n                onCustomAction?.(a);\n              }}>\n              {a.label}\n            </IButton>\n          ))}\n\n          {(isVisible(okAction) ||\n            isVisible(confirmAction) ||\n            isVisible(saveAction) ||\n            isVisible(cancelAction)) &&\n          customActions.filter(isVisible).length > 0 ? (\n            <span className=\"flex-fill\" />\n          ) : null}\n\n          {isVisible(okAction) ? (\n            <IButton\n              icon=\"check\"\n              variant=\"primary\"\n              className={okAction?.className}\n              onClick={() => onOk?.()}>\n              OK\n            </IButton>\n          ) : null}\n\n          {isVisible(confirmAction) ? (\n            <IButton\n              icon=\"save\"\n              variant=\"primary\"\n              className={confirmAction?.className}\n              onClick={() => onConfirm?.()}>\n              Confirm\n            </IButton>\n          ) : null}\n\n          {isVisible(saveAction) ? (\n            <IButton\n              icon=\"save\"\n              variant=\"primary\"\n              className={saveAction?.className}\n              onClick={() => onSave?.()}>\n              Save\n            </IButton>\n          ) : null}\n\n          {isVisible(cancelAction) ? (\n            <IButton\n              icon=\"cancel\"\n              variant=\"danger\"\n              className={cancelAction?.className}\n              onClick={(e) => {\n                e.preventDefault();\n                dialogRef?.close(undefined); // Angular closes with undefined\n              }}>\n              Cancel\n            </IButton>\n          ) : null}\n        </div>\n      ) : null}\n    </i-dialog>\n  );\n}\n\n/* =========================================================\n * ALERT (React port)\n * ========================================================= */\n\nexport function IAlert() {\n  const data = useDialogData<IAlertData>();\n  const dialog = useDialogRef<boolean>();\n\n  const alertClass = `i-alert i-alert-${data.type}`;\n\n  return (\n    <IDialog\n      className={alertClass}\n      actions={[{ type: 'ok', className: 'w-full' }]}\n      onOk={() => dialog.close(true)}>\n      {data.type === 'information' ? <IIcon icon=\"info\" size=\"3xl\" /> : null}\n      {data.type === 'success' ? (\n        <IIcon icon=\"check-circle\" size=\"3xl\" />\n      ) : null}\n      {data.type === 'warning' ? <IIcon icon=\"exclamation\" size=\"3xl\" /> : null}\n      {data.type === 'danger' ? <IIcon icon=\"x-circle\" size=\"3xl\" /> : null}\n\n      <h4>{data.title}</h4>\n      <p dangerouslySetInnerHTML={{ __html: data.description }} />\n    </IDialog>\n  );\n}\n\nexport function useIAlertService() {\n  const dialog = useIDialog();\n\n  const show = useCallback(\n    async (data: IAlertData) => {\n      const ref = dialog.open<IAlertData, boolean>(IAlert, {\n        width: '',\n        data,\n        disableClose: true,\n      });\n      const result = await ref.afterClosed();\n      return !!result;\n    },\n    [dialog]\n  );\n\n  return useMemo(\n    () => ({\n      show,\n      information: (title: string, description: string) =>\n        show({ title, description, type: 'information' }),\n      success: (title: string, description: string) =>\n        show({ title, description, type: 'success' }),\n      warning: (title: string, description: string) =>\n        show({ title, description, type: 'warning' }),\n      danger: (title: string, description: string) =>\n        show({ title, description, type: 'danger' }),\n    }),\n    [show]\n  );\n}\n\n/* =========================================================\n * CONFIRM (React port)\n * ========================================================= */\n\nexport function IConfirm() {\n  const data = useDialogData<IConfirmData>();\n  const dialog = useDialogRef<any>();\n\n  const [reason, setReason] = useState<string>('');\n  const [invalid, setInvalid] = useState(false);\n\n  const confirmClass = `i-confirm i-confirm-${data.type}`;\n\n  const submit = () => {\n    if (data.reason) {\n      const ok = !!reason.trim();\n      setInvalid(!ok);\n      if (!ok) return;\n      dialog.close(reason);\n      return;\n    }\n    dialog.close(true);\n  };\n\n  return (\n    <IDialog\n      className={confirmClass}\n      actions={[\n        { type: 'confirm', className: 'w-104' },\n        { type: 'cancel', className: 'w-104' },\n      ]}\n      onConfirm={submit}>\n      {data.type === 'information' ? <IIcon icon=\"info\" size=\"3xl\" /> : null}\n      {data.type === 'success' ? (\n        <IIcon icon=\"check-circle\" size=\"3xl\" />\n      ) : null}\n      {data.type === 'warning' ? <IIcon icon=\"exclamation\" size=\"3xl\" /> : null}\n      {data.type === 'danger' ? <IIcon icon=\"x-circle\" size=\"3xl\" /> : null}\n\n      <h4>{data.title}</h4>\n      <p dangerouslySetInnerHTML={{ __html: data.description }} />\n\n      {data.reason ? (\n        <form\n          className=\"mt-xs\"\n          onSubmit={(e) => {\n            e.preventDefault();\n            submit();\n          }}>\n          <IFCTextarea\n            label=\"Reason\"\n            placeholder=\"Fill your reason here..\"\n            value={reason}\n            onChange={(v) => {\n              setReason(v);\n              if (invalid) setInvalid(false);\n            }}\n            invalid={invalid}\n            errorMessage={{ required: 'Please fill in the reason..' }}\n            errorKey=\"required\"\n          />\n          <button className=\"hidden\" type=\"submit\">\n            Submit\n          </button>\n        </form>\n      ) : null}\n    </IDialog>\n  );\n}\n\nexport function useIConfirmService() {\n  const dialog = useIDialog();\n\n  const show = useCallback(\n    async (data: IConfirmData) => {\n      const ref = dialog.open<IConfirmData, any>(IConfirm, {\n        width: '',\n        data,\n      });\n      return ref.afterClosed();\n    },\n    [dialog]\n  );\n\n  return useMemo(\n    () => ({\n      show,\n      information: async (title: string, description: string) => {\n        const r = await show({ title, description, type: 'information' });\n        return !!r;\n      },\n      success: async (title: string, description: string) => {\n        const r = await show({ title, description, type: 'success' });\n        return !!r;\n      },\n      warning: (title: string, description: string, reason?: boolean) =>\n        show({ title, description, type: 'warning', reason }),\n      danger: (title: string, description: string, reason?: boolean) =>\n        show({ title, description, type: 'danger', reason }),\n    }),\n    [show]\n  );\n}\n\n/** DONT REMOVE THIS, ITS FOR REMINDER \n  <IDialogProvider>\n    <App />\n    <IDialogOutlet />\n  </IDialogProvider> \n*/\n","import type {\n  IErrorContext,\n  IErrors,\n  IFormControlErrorMessage,\n} from './form.types';\n\ntype MinMaxLengthError = { requiredLength: number; actualLength: number };\n\n// ---------- type guards ----------\nexport function isRecord(v: unknown): v is Record<string, unknown> {\n  return typeof v === 'object' && v !== null;\n}\n\nexport function hasNumber(\n  obj: Record<string, unknown>,\n  key: string\n): obj is Record<string, unknown> & Record<string, number> {\n  return typeof obj[key] === 'number';\n}\n\nexport function asMinMaxLengthError(err: unknown): MinMaxLengthError | null {\n  if (!isRecord(err)) return null;\n  if (!hasNumber(err, 'requiredLength')) return null;\n  if (!hasNumber(err, 'actualLength')) return null;\n  return { requiredLength: err.requiredLength, actualLength: err.actualLength };\n}\n\nexport function readNumber(err: unknown, key: 'min' | 'max'): number | null {\n  if (!isRecord(err)) return null;\n  const v = err[key];\n  return typeof v === 'number' ? v : null;\n}\n\n// ---------- defaults ----------\nexport const DEFAULT_ERROR_FACTORIES: Record<\n  string,\n  (ctx: IErrorContext) => string\n> = {\n  required: ({ label }) => `${label || 'This field'} is required.`,\n  requiredTrue: ({ label }) => `Please confirm ${label || 'this field'}.`,\n\n  minlength: ({ label, error }) => {\n    const e = asMinMaxLengthError(error);\n    if (!e) return `${label || 'This field'} is too short.`;\n    return `${label || 'This field'} must be at least ${e.requiredLength} characters (currently ${e.actualLength}).`;\n  },\n\n  maxlength: ({ label, error }) => {\n    const e = asMinMaxLengthError(error);\n    if (!e) return `${label || 'This field'} is too long.`;\n    return `${label || 'This field'} must be at most ${e.requiredLength} characters (currently ${e.actualLength}).`;\n  },\n\n  pattern: ({ label }) => `${label || 'This field'} format is invalid.`,\n  email: ({ label }) => `Please enter a valid ${label || 'email'}.`,\n\n  min: ({ label, error }) => {\n    const min = readNumber(error, 'min');\n    return min === null\n      ? `${label || 'This field'} is too small.`\n      : `${label || 'This field'} must be  ${min}.`;\n  },\n\n  max: ({ label, error }) => {\n    const max = readNumber(error, 'max');\n    return max === null\n      ? `${label || 'This field'} is too large.`\n      : `${label || 'This field'} must be  ${max}.`;\n  },\n};\n\nexport type ResolveControlErrorMessageArgs = {\n  errors: IErrors | null | undefined;\n  label?: string;\n  errorMessage?: IFormControlErrorMessage;\n  extraFactories?: Record<string, (ctx: IErrorContext) => string>;\n  control?: unknown;\n};\n\nexport function resolveControlErrorMessage({\n  errors,\n  label,\n  errorMessage,\n  extraFactories = {},\n  control,\n}: ResolveControlErrorMessageArgs): string | null {\n  if (!errors) return null;\n\n  const keys = Object.keys(errors);\n  if (keys.length === 0) return null;\n\n  const key = keys[0];\n  const err = errors[key];\n  const trimmedLabel = (label || '').trim();\n\n  const ctx: IErrorContext = {\n    label: trimmedLabel,\n    error: err,\n    control,\n  };\n\n  // 1) custom template via errorMessage\n  const customTpl = errorMessage?.[key];\n  if (customTpl) {\n    return interpolate(customTpl, ctx);\n  }\n\n  // 2) factory\n  const factories = { ...DEFAULT_ERROR_FACTORIES, ...extraFactories };\n  const factory = factories[key];\n  if (factory) return factory(ctx);\n\n  // 3) fallback\n  return `${trimmedLabel || 'This field'} is invalid.`;\n}\n\nexport function isControlRequired(args: {\n  errors?: IErrors | null;\n  errorMessage?: IFormControlErrorMessage;\n}): boolean {\n  const { errors, errorMessage } = args;\n  const hasCustomRequired = !!errorMessage?.required;\n  const hasRequiredError = !!errors?.required;\n  return hasCustomRequired || hasRequiredError;\n}\n\nexport function interpolate(tpl: string, ctx: IErrorContext): string {\n  const err = isRecord(ctx.error) ? ctx.error : {};\n\n  const map: Record<string, unknown> = {\n    label: ctx.label || 'This field',\n    requiredLength:\n      typeof err.requiredLength === 'number' ? err.requiredLength : undefined,\n    actualLength:\n      typeof err.actualLength === 'number' ? err.actualLength : undefined,\n    min: typeof err.min === 'number' ? err.min : undefined,\n    max: typeof err.max === 'number' ? err.max : undefined,\n    ...err,\n  };\n\n  return tpl.replace(/\\{(\\w+)\\}/g, (_match, key: string) => {\n    const v = map[key];\n    return v === undefined || v === null ? `{${key}}` : String(v);\n  });\n}\n","/* grid-data-source.ts */\n/**\n * IGridDataSource (React)\n * Mirrors Angular behavior:\n * - filter (string | recursive)\n * - multi-sort\n * - optional paginator\n * - connect(listener) subscription API\n */\n\nimport { isRecord } from '../shared';\n\nexport type ISortDirection = 'asc' | 'desc' | '';\n\nexport type ISortState = {\n  active: string;\n  direction: ISortDirection;\n};\n\nexport type ISortConfig = ISortState | ISortState[] | null;\n\nexport type IGridFilter =\n  | string\n  | {\n      recursive: true;\n      text: string;\n      key?: string; // children key\n    };\n\nexport type IGridPaginatorInput =\n  | false\n  | {\n      pageIndex?: number;\n      pageSize?: number;\n      pageSizeOptions?: number[];\n    };\n\n/**\n * NOTE:\n * No generic here because it's unused (fixes \"T is declared but never read\")\n * If you later want column-specific typed filter/sort accessors,\n * you can add generic usages in this config.\n */\nexport type IGridDataSourceConfig = {\n  sort?: ISortConfig;\n  filter?: IGridFilter;\n\n  /**\n   * paginator:\n   * - false  disabled\n   * - undefined/missing  enabled with defaults\n   * - { pageIndex?, pageSize?, pageSizeOptions? }  enabled + overridden\n   */\n  paginator?: IGridPaginatorInput;\n};\n\ntype Listener<T> = (rows: T[]) => void;\n\n/**  Sorting accessor must be comparable */\nexport type IGridSortAccessor<T> = (\n  data: T,\n  columnId: string\n) => string | number;\n\nexport class IGridDataSource<T = unknown> {\n  private _rawData: T[] = [];\n\n  // filter internal\n  private _filter = '';\n  private _recursive = false;\n  private _childrenKey = 'children';\n\n  // sort internal\n  private _sort: ISortState[] | null = null;\n\n  // paginator internal\n  private _paginatorEnabled = true;\n  private _pageIndex = 0;\n  private _pageSize = 10;\n  private _pageSizeOptions = [10, 50, 100];\n\n  // listeners\n  private _listeners = new Set<Listener<T>>();\n\n  constructor(initialData: T[] = [], config: IGridDataSourceConfig = {}) {\n    this._rawData = initialData || [];\n\n    // filter (uses setter to normalize)\n    if (config.filter !== null) {\n      this.filter = config.filter;\n    }\n\n    // sort\n    this._sort = this._normalizeSort(config.sort ?? null);\n\n    // paginator\n    this._applyPaginatorConfig(config.paginator);\n\n    this._emit();\n  }\n\n  /* ---------------- paginator config ---------------- */\n\n  private _applyPaginatorConfig(config: IGridPaginatorInput | undefined): void {\n    if (config === false) {\n      this._paginatorEnabled = false;\n      return;\n    }\n\n    // default: enabled\n    this._paginatorEnabled = true;\n\n    if (config && typeof config === 'object') {\n      this._pageIndex = config.pageIndex ?? 0;\n      this._pageSizeOptions = config.pageSizeOptions ?? this._pageSizeOptions;\n      this._pageSize = config.pageSize ?? this._pageSizeOptions[0];\n      return;\n    }\n\n    // paginator missing => defaults\n    this._pageIndex = 0;\n    this._pageSizeOptions = [10, 50, 100];\n    this._pageSize = 10;\n  }\n\n  get paginatorEnabled(): boolean {\n    return this._paginatorEnabled;\n  }\n\n  get pageIndex(): number {\n    return this._pageIndex;\n  }\n\n  get pageSize(): number {\n    return this._pageSize;\n  }\n\n  get pageSizeOptions(): number[] {\n    return this._pageSizeOptions;\n  }\n\n  set paginator(state: { pageIndex: number; pageSize: number } | null) {\n    if (!this._paginatorEnabled || !state) return;\n    this._pageIndex = state.pageIndex;\n    this._pageSize = state.pageSize;\n    this._emit();\n  }\n\n  get paginator(): { pageIndex: number; pageSize: number } | null {\n    if (!this._paginatorEnabled) return null;\n    return { pageIndex: this._pageIndex, pageSize: this._pageSize };\n  }\n\n  /* ---------------- data ---------------- */\n\n  get data(): T[] {\n    return this._rawData;\n  }\n\n  set data(value: T[]) {\n    this._rawData = value || [];\n    this._emit();\n  }\n\n  get length(): number {\n    return this._rawData.length;\n  }\n\n  /* ---------------- filter / sort ---------------- */\n\n  /**\n   * Smart filter:\n   * - string: normal flat filtering\n   * - { recursive: true, text, key? }: recursive tree filtering\n   */\n  set filter(value: IGridFilter | null | undefined) {\n    if (!value) {\n      this._filter = '';\n      this._recursive = false;\n      this._childrenKey = 'children';\n      this._emit();\n      return;\n    }\n\n    if (typeof value === 'string') {\n      this._filter = value.toLowerCase().trim();\n      this._recursive = false;\n      this._childrenKey = 'children';\n      this._emit();\n      return;\n    }\n\n    // object: recursive filter (tree mode)\n    this._filter = (value.text ?? '').toLowerCase().trim();\n    this._recursive = value.recursive === true;\n    this._childrenKey = (value.key || 'children').trim() || 'children';\n\n    this._emit();\n  }\n\n  /**\n   * Returns the current normalized filter text.\n   * (Always plain string, lowercased & trimmed.)\n   */\n  get filter(): string {\n    return this._filter;\n  }\n\n  get sort(): ISortState[] | null {\n    return this._sort;\n  }\n\n  set sort(value: ISortConfig) {\n    this._sort = this._normalizeSort(value);\n    this._emit();\n  }\n\n  // can be customized by consumer\n  filterPredicate: (data: T, filter: string) => boolean = (data, filter) => {\n    if (!filter) return true;\n\n    // JSON.stringify on unknown is OK (same behavior as Angular version)\n    const target = JSON.stringify(data).toLowerCase();\n    return target.includes(filter);\n  };\n\n  /**\n   *  must always return comparable primitive (string|number)\n   * Normalize:\n   * - non-record  ''\n   * - null/undefined  ''\n   * - string/number  itself\n   * - everything else  String(value)\n   */\n  sortAccessor: IGridSortAccessor<T> = (data, columnId) => {\n    if (!isRecord(data)) return '';\n\n    const v = data[columnId];\n\n    if (typeof v === 'string' || typeof v === 'number') return v;\n    if (v === null || v === undefined) return '';\n\n    // (optional) handle Date nicely\n    if (v instanceof Date) return v.getTime();\n\n    return String(v);\n  };\n\n  /* ---------------- connect ---------------- */\n\n  connect(listener: Listener<T>): () => void {\n    this._listeners.add(listener);\n\n    // immediate push (like BehaviorSubject)\n    listener(this._computeRendered());\n\n    return () => {\n      this._listeners.delete(listener);\n    };\n  }\n\n  disconnect(): void {\n    this._listeners.clear();\n  }\n\n  /* ---------------- internals ---------------- */\n\n  /** Basic row match using public filterPredicate */\n  private _rowMatchesFilter(data: T, filter: string): boolean {\n    if (!filter) return true;\n    return this.filterPredicate(data, filter);\n  }\n\n  private _filterRecursiveArray(nodes: unknown[], filter: string): unknown[] {\n    const result: unknown[] = [];\n\n    for (const node of nodes) {\n      const pruned = this._filterRecursiveNode(node, filter);\n      if (pruned !== null) result.push(pruned);\n    }\n\n    return result;\n  }\n\n  private _filterRecursiveNode(node: unknown, filter: string): unknown | null {\n    if (!isRecord(node)) {\n      // if node isn't an object, treat it like a leaf\n      const selfMatches = this._rowMatchesFilter(node as T, filter);\n      return selfMatches ? node : null;\n    }\n\n    const rawChildren = node[this._childrenKey];\n    const children = Array.isArray(rawChildren) ? rawChildren : [];\n\n    const filteredChildren = this._filterRecursiveArray(children, filter);\n    const selfMatches = this._rowMatchesFilter(node as T, filter);\n\n    if (!selfMatches && filteredChildren.length === 0) {\n      return null;\n    }\n\n    const clone: Record<string, unknown> = { ...node };\n\n    if (filteredChildren.length) {\n      clone[this._childrenKey] = filteredChildren;\n    } else {\n      if (Object.prototype.hasOwnProperty.call(clone, this._childrenKey)) {\n        delete clone[this._childrenKey];\n      }\n    }\n\n    return clone;\n  }\n\n  private _normalizeSort(sort: ISortConfig): ISortState[] | null {\n    if (!sort) return null;\n\n    const arr: ISortState[] = Array.isArray(sort) ? sort : [sort];\n\n    const cleaned = arr.filter(\n      (s): s is ISortState =>\n        !!s &&\n        typeof s.active === 'string' &&\n        (s.direction === 'asc' || s.direction === 'desc')\n    );\n\n    return cleaned.length ? cleaned : null;\n  }\n\n  private _computeRendered(): T[] {\n    let data: T[] = [...this._rawData];\n\n    // FILTER\n    if (this._filter) {\n      const f = this._filter;\n\n      if (this._recursive) {\n        data = this._filterRecursiveArray(data as unknown[], f) as T[];\n      } else {\n        data = data.filter((row) => this.filterPredicate(row, f));\n      }\n    }\n\n    // SORT (multi-column)\n    if (this._sort && this._sort.length > 0) {\n      const sorts = [...this._sort];\n\n      data.sort((a: T, b: T) => {\n        for (const sort of sorts) {\n          const { active, direction } = sort;\n          if (!active || !direction) continue;\n\n          const dir = direction === 'asc' ? 1 : -1;\n\n          const aValue = this.sortAccessor(a, active);\n          const bValue = this.sortAccessor(b, active);\n\n          if (aValue < bValue) return -1 * dir;\n          if (aValue > bValue) return 1 * dir;\n        }\n\n        return 0;\n      });\n    }\n\n    // PAGINATION\n    if (this._paginatorEnabled) {\n      const start = this._pageIndex * this._pageSize;\n      data = data.slice(start, start + this._pageSize);\n    }\n\n    return data;\n  }\n\n  private _emit(): void {\n    const rendered = this._computeRendered();\n    this._listeners.forEach((l) => l(rendered));\n  }\n}\n","/* paginator.tsx */\n/**\n * IPaginator (React)\n * Matches Angular behavior:\n * - page size buttons\n * - numeric pages with ellipsis\n * - emits pageChange with { pageIndex, pageSize }\n */\n\nimport { useMemo } from 'react';\nimport { IButton } from '../button/button';\n\nexport type IPaginatorState = {\n  pageIndex: number;\n  pageSize: number;\n};\n\ntype IPaginatorItem =\n  | { type: 'page'; pageIndex: number; label: string; active: boolean }\n  | { type: 'ellipsis'; key: string };\n\nexport type IPaginatorProps = {\n  length: number;\n  pageIndex: number; // 0-based\n  pageSize: number;\n  pageSizeOptions: number[];\n  onPageChange: (state: IPaginatorState) => void;\n};\n\nexport function IPaginator(props: IPaginatorProps) {\n  const { length, pageIndex, pageSize, pageSizeOptions, onPageChange } = props;\n\n  const maxVisiblePages = 6;\n\n  const pageCount = Math.max(1, Math.ceil(length / pageSize));\n\n  const pageItems: IPaginatorItem[] = useMemo(() => {\n    const total = pageCount;\n    const current = pageIndex + 1; // 1-based\n    const last = total;\n\n    const range = (from: number, to: number) => {\n      const out: number[] = [];\n      for (let i = from; i <= to; i++) out.push(i);\n      return out;\n    };\n\n    const pageItem = (pageNumber1Based: number): IPaginatorItem => {\n      const idx = pageNumber1Based - 1;\n      return {\n        type: 'page',\n        pageIndex: idx,\n        label: String(pageNumber1Based),\n        active: pageNumber1Based === current,\n      };\n    };\n\n    if (total <= maxVisiblePages) {\n      return range(1, last).map(pageItem);\n    }\n\n    if (current <= 4) {\n      return [\n        ...range(1, 5).map(pageItem),\n        { type: 'ellipsis', key: 'e-end' },\n        pageItem(last),\n      ];\n    }\n\n    if (current >= last - 3) {\n      const start = last - 4;\n      return [\n        pageItem(1),\n        { type: 'ellipsis', key: 'e-start' },\n        ...range(start, last).map(pageItem),\n      ];\n    }\n\n    const midStart = current - 2;\n    const midEnd = current + 1;\n\n    return [\n      pageItem(1),\n      { type: 'ellipsis', key: 'e-start' },\n      ...range(midStart, midEnd).map(pageItem),\n      { type: 'ellipsis', key: 'e-end' },\n      pageItem(last),\n    ];\n  }, [pageCount, pageIndex]);\n\n  const emit = (nextIndex: number, nextSize: number) => {\n    const maxIndex = pageCount - 1;\n    const clampedIndex = Math.max(0, Math.min(maxIndex, nextIndex));\n    onPageChange({ pageIndex: clampedIndex, pageSize: nextSize });\n  };\n\n  const goToPage = (idx: number) => {\n    if (idx === pageIndex) return;\n    emit(idx, pageSize);\n  };\n\n  const changePageSize = (size: number) => {\n    const newSize = Number(size);\n    if (!Number.isFinite(newSize) || newSize <= 0) return;\n\n    const oldSize = pageSize;\n    const firstItemIndex = pageIndex * oldSize;\n\n    const nextIndex = Math.floor(firstItemIndex / newSize);\n    emit(nextIndex, newSize);\n  };\n\n  return (\n    <i-paginator className=\"i-paginator\">\n      <div className=\"i-paginator flex align-center gap-md flex-fill\">\n        {/* Page size */}\n        {pageSizeOptions.map((size) => (\n          <IButton\n            key={size}\n            size=\"sm\"\n            disabled={pageSize === size}\n            onClick={() => changePageSize(size)}>\n            {size}\n          </IButton>\n        ))}\n\n        <span className=\"flex-fill\" />\n\n        <p>\n          Page {pageIndex + 1} of {pageCount} ({length} row\n          {length > 1 ? 's' : ''})\n        </p>\n\n        {pageCount > 1 ? (\n          <div className=\"i-paginator-pages flex align-center gap-xs\">\n            {pageItems.map((item) => {\n              if (item.type === 'ellipsis') {\n                return (\n                  <span\n                    key={item.key}\n                    aria-hidden=\"true\"\n                    className=\"i-paginator-ellipsis\">\n                    ...\n                  </span>\n                );\n              }\n\n              return (\n                <IButton\n                  key={`p-${item.pageIndex}`}\n                  size=\"sm\"\n                  disabled={item.active}\n                  onClick={() => goToPage(item.pageIndex)}>\n                  {item.label}\n                </IButton>\n              );\n            })}\n          </div>\n        ) : null}\n      </div>\n    </i-paginator>\n  );\n}\n","/* grid.tsx */\n/**\n * IGrid (React)\n * - Renders tags similar to Angular version:\n *   i-grid, i-grid-viewport, i-grid-header-row, i-grid-header-cell, i-grid-cell, i-grid-row, etc.\n *\n * IMPORTANT:\n * - Uses your React IButton (not native button)\n * - Custom tags are just semantic/styling hooks (not Web Components)\n * - Column config components behave like Angular: sortable/resizable/freeze are OPTIONAL with defaults\n *\n * Version: 1.24.0-ish parity (group header + tree + selection + expandable rows + paginator)\n *\n *  Updated (Angular-close frozen/z-index/sticky logic):\n * - HeaderCell/Cell behave like Angular IGridHeaderCell/IGridCell:\n *   - If `col` exists, frozen/stickyLeft/zIndex are derived internally via grid helpers.\n *   - Call-sites no longer manually compute frozen props for normal columns.\n * - Special expand/selection/number columns still pass explicit stickyLeft like Angular template does.\n *\n *  FIXED (Angular-close column order with ColumnGroup):\n * - Column parsing now preserves the exact JSX order:\n *   <IGridColumn/> , <IGridColumnGroup/> , <IGridCustomColumn/> ... in-place\n * - No more collect direct columns first, then groups later (which caused your order flip).\n */\n\nimport React, {\n  Children,\n  type ReactElement,\n  type ReactNode,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { IButton } from '../button/button';\nimport { IIcon } from '../icon/icon';\nimport type { ISortDirection, ISortState } from './grid-data-source';\nimport { IGridDataSource } from './grid-data-source';\nimport { IPaginator } from './paginator';\n\n/* ----------------------------------------------------\n * SELECTION TYPES\n * ---------------------------------------------------- */\n\nexport type IGridSelectionMode = false | 'single' | 'multiple';\n\nexport type IGridSelectionChange<T = any> = {\n  selected: T[];\n  lastChanged: T | null;\n};\n\n/* ----------------------------------------------------\n * COLUMN WIDTH TYPES\n * ---------------------------------------------------- */\n\nexport type IGridColumnWidth = number | 'fill';\n\n/* ----------------------------------------------------\n * COLUMN-LIKE (internal strict model)\n * ---------------------------------------------------- */\n\nexport type IGridColumnLike<T = any> = {\n  fieldName?: string;\n  title: string;\n\n  sortable: boolean;\n  resizable: boolean;\n  freeze: boolean;\n\n  width?: IGridColumnWidth;\n\n  headerDef?: (col: IGridColumnLike<T>) => ReactNode;\n\n  // allow both signatures:\n  cellDef?:\n    | ((row: T) => ReactNode)\n    | ((\n        row: T,\n        ctx: { row: T; index: number; column: IGridColumnLike<T> }\n      ) => ReactNode);\n\n  isAuto?: boolean;\n};\n\n/* ----------------------------------------------------\n * GROUP HEADER MODEL\n * ---------------------------------------------------- */\n\nexport type IGridHeaderItem<T = any> =\n  | { kind: 'col'; col: IGridColumnLike<T> }\n  | { kind: 'group'; title: string; columns: IGridColumnLike<T>[] };\n\n/* ----------------------------------------------------\n * CONFIG ELEMENTS (JSX-only, render nothing)\n * - Angular-ish props: sortable/resizable/freeze optional with defaults\n * - Angular naming: headerDef / cellDef\n * ---------------------------------------------------- */\n\nexport type IGridColumnProps<T> = {\n  fieldName: string;\n  title?: string;\n\n  width?: IGridColumnWidth;\n  freeze?: boolean;\n\n  // Angular defaults: sortable/resizable true for data columns\n  sortable?: boolean;\n  resizable?: boolean;\n\n  headerDef?: (col: IGridColumnLike<T>) => ReactNode;\n\n  cellDef?:\n    | ((row: T) => ReactNode)\n    | ((\n        row: T,\n        ctx: { row: T; index: number; column: IGridColumnLike<T> }\n      ) => ReactNode);\n};\n\nexport function IGridColumn<T>(_props: IGridColumnProps<T>) {\n  return null;\n}\n(IGridColumn as any).$$kind = 'IGridColumn';\n\nexport type IGridCustomColumnProps<T> = {\n  title?: string;\n\n  width?: IGridColumnWidth;\n  freeze?: boolean;\n\n  // Angular defaults for custom columns: sortable false, resizable true\n  sortable?: boolean;\n  resizable?: boolean;\n\n  headerDef?: (col: IGridColumnLike<T>) => ReactNode;\n\n  cellDef?:\n    | ((row: T) => ReactNode)\n    | ((\n        row: T,\n        ctx: { row: T; index: number; column: IGridColumnLike<T> }\n      ) => ReactNode);\n};\n\nexport function IGridCustomColumn<T>(_props: IGridCustomColumnProps<T>) {\n  return null;\n}\n(IGridCustomColumn as any).$$kind = 'IGridCustomColumn';\n\nexport type IGridColumnGroupProps = { title: string; children: ReactNode };\nexport function IGridColumnGroup(_props: IGridColumnGroupProps) {\n  return null;\n}\n(IGridColumnGroup as any).$$kind = 'IGridColumnGroup';\n\nexport type IGridExpandableRowRenderCtx<T> = { row: T; index: number };\nexport type IGridExpandableRowProps<T> = {\n  expandSingle?: boolean;\n  render: (row: T, ctx: IGridExpandableRowRenderCtx<T>) => ReactNode;\n};\nexport function IGridExpandableRow<T>(_props: IGridExpandableRowProps<T>) {\n  return null;\n}\n(IGridExpandableRow as any).$$kind = 'IGridExpandableRow';\n\n/* ----------------------------------------------------\n * Helpers\n * ---------------------------------------------------- */\n\nfunction IndeterminateCheckbox(props: {\n  checked: boolean;\n  indeterminate: boolean;\n  onChange: (checked: boolean) => void;\n  className?: string;\n  stopRowClick?: boolean;\n}) {\n  const { checked, indeterminate, onChange, className, stopRowClick } = props;\n  const ref = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (ref.current) ref.current.indeterminate = indeterminate;\n  }, [indeterminate]);\n\n  return (\n    <input\n      ref={ref}\n      className={className}\n      type=\"checkbox\"\n      checked={checked}\n      onChange={(e) => onChange(e.target.checked)}\n      onClick={(e) => {\n        if (stopRowClick) e.stopPropagation();\n      }}\n    />\n  );\n}\n\nfunction renderCellDef<T>(\n  def: IGridColumnLike<T>['cellDef'],\n  row: T,\n  ctx: { row: T; index: number; column: IGridColumnLike<T> }\n): ReactNode {\n  if (!def) return null;\n  // supports (row) and (row, ctx)\n  return def.length >= 2 ? (def as any)(row, ctx) : (def as any)(row);\n}\n\n/* ----------------------------------------------------\n * GRID PROPS\n * ---------------------------------------------------- */\n\nexport type IGridProps<T> = {\n  dataSource: IGridDataSource<T> | T[];\n\n  selectionMode?: IGridSelectionMode;\n\n  tree?: string | boolean | null;\n  treeIndent?: number;\n  treeColumn?: string;\n  treeInitialExpandLevel?: number | null;\n\n  showNumberColumn?: boolean;\n\n  onSelectionChange?: (e: IGridSelectionChange<T>) => void;\n  onRowClick?: (row: T) => void;\n\n  onRowExpandChange?: (e: { row: T; expanded: boolean }) => void;\n  onExpandedRowsChange?: (rows: T[]) => void;\n\n  children?: ReactNode;\n\n  /**\n   * If you want React-side highlighting (instead of Angular pipe),\n   * pass a function; otherwise plain text will render.\n   */\n  highlightSearch?: (text: string, filter: string) => ReactNode;\n  rowKey?: (row: T, index: number) => string | number;\n};\n\n/* ----------------------------------------------------\n * GRID\n * ---------------------------------------------------- */\n\nexport function IGrid<T>(props: IGridProps<T>) {\n  const {\n    dataSource,\n    selectionMode = false,\n\n    tree = null,\n    treeIndent = 16,\n    treeColumn,\n    treeInitialExpandLevel = null,\n\n    showNumberColumn = true,\n\n    onSelectionChange,\n    onRowClick,\n\n    onRowExpandChange,\n    onExpandedRowsChange,\n\n    children,\n    highlightSearch,\n  } = props;\n\n  const idRef = useRef<string>(Math.random().toString(36).slice(2));\n\n  const selectionColumnWidth = 32;\n  const numberColumnWidth = 60;\n  const expandColumnWidth = 32;\n  const defaultColumnWidth = 200;\n\n  const [renderedData, setRenderedData] = useState<T[]>([]);\n  const [currentFilterText, setCurrentFilterText] = useState<string>('');\n  const [sortStates, setSortStates] = useState<ISortState[]>([]);\n\n  const columnWidthsRef = useRef<Map<IGridColumnLike<T>, number>>(new Map());\n  const [, setTick] = useState(0);\n\n  const [selectionSet, setSelectionSet] = useState<Set<T>>(new Set());\n  const [expandedSet, setExpandedSet] = useState<Set<T>>(new Set());\n\n  // tree meta\n  const treeMetaRef = useRef<\n    Map<\n      T,\n      {\n        level: number;\n        parent: T | null;\n        hasChildren: boolean;\n        expanded: boolean;\n      }\n    >\n  >(new Map());\n  const treeRootsRef = useRef<T[]>([]);\n\n  /* ---------------- parse JSX config ---------------- */\n  /**\n   *  IMPORTANT FIX:\n   * Preserve the exact JSX order (Angular-like content projection order):\n   * - If user writes: Column, Group, Custom => headerItems should be [col, group, col]\n   * - And effectiveColumns should be flattened in that same visual order.\n   */\n  const { headerItems, columns, expandableRowDef } = useMemo(() => {\n    const all = Children.toArray(children).filter(Boolean) as ReactElement[];\n\n    let expandable: IGridExpandableRowProps<T> | null = null;\n\n    const parseColumnEl = (\n      el: ReactElement<any>\n    ): IGridColumnLike<T> | null => {\n      const kind = (el.type as any)?.$$kind;\n      if (kind !== 'IGridColumn' && kind !== 'IGridCustomColumn') return null;\n\n      const p = el.props as any;\n      const isDataCol = kind === 'IGridColumn';\n\n      const col: IGridColumnLike<T> = {\n        fieldName: isDataCol ? p.fieldName : undefined,\n        title: p.title ?? '',\n\n        //  Angular-ish defaults:\n        sortable: p.sortable ?? (isDataCol ? true : false),\n        resizable: p.resizable ?? true,\n        freeze: !!p.freeze,\n\n        width: p.width,\n\n        headerDef: p.headerDef,\n        cellDef: p.cellDef,\n\n        isAuto: false,\n      };\n\n      return col;\n    };\n\n    //  Build header items IN PLACE (preserve order)\n    const header: IGridHeaderItem<T>[] = [];\n\n    for (const node of all) {\n      const kind = (node.type as any)?.$$kind;\n\n      if (kind === 'IGridExpandableRow') {\n        expandable = node.props as IGridExpandableRowProps<T>;\n        continue;\n      }\n\n      if (kind === 'IGridColumnGroup') {\n        const gp = node.props as any;\n        const kids = Children.toArray(gp.children).filter(\n          Boolean\n        ) as ReactElement[];\n\n        const gCols: IGridColumnLike<T>[] = [];\n        for (const kid of kids) {\n          const c = parseColumnEl(kid as any);\n          if (c) gCols.push(c);\n        }\n\n        header.push({\n          kind: 'group',\n          title: gp.title ?? '',\n          columns: gCols,\n        });\n        continue;\n      }\n\n      const c = parseColumnEl(node as any);\n      if (c) header.push({ kind: 'col', col: c });\n    }\n\n    const explicit = header.some(\n      (h) =>\n        h.kind === 'col' ||\n        (h.kind === 'group' && h.columns && h.columns.length > 0)\n    );\n\n    if (!explicit) {\n      return {\n        headerItems: [] as IGridHeaderItem<T>[],\n        columns: [] as IGridColumnLike<T>[],\n        expandableRowDef: expandable,\n      };\n    }\n\n    //  Flatten columns in the same order as header items (group columns inline)\n    const flat: IGridColumnLike<T>[] = [];\n    for (const item of header) {\n      if (item.kind === 'col') flat.push(item.col);\n      else flat.push(...item.columns);\n    }\n\n    return { headerItems: header, columns: flat, expandableRowDef: expandable };\n  }, [children]);\n\n  const hasExpandableRow = !!expandableRowDef?.render;\n\n  /* ---------------- tree config ---------------- */\n\n  const treeEnabled = tree !== null && tree !== false;\n\n  const treeChildrenKey = useMemo(() => {\n    if (!treeEnabled) return 'children';\n    if (tree === true) return 'children';\n    if (typeof tree === 'string') {\n      const t = tree.trim();\n      if (!t || t === 'true') return 'children';\n      return t;\n    }\n    return 'children';\n  }, [tree, treeEnabled]);\n\n  const showNumberColumnEffective = !treeEnabled ? showNumberColumn : false;\n\n  /* ---------------- auto columns fallback ---------------- */\n\n  const rawRows = useMemo(() => {\n    if (dataSource instanceof IGridDataSource) return dataSource.data ?? [];\n    if (Array.isArray(dataSource)) return dataSource;\n    return [];\n  }, [dataSource]);\n\n  const autoColumns: IGridColumnLike<T>[] = useMemo(() => {\n    if (!rawRows.length) return [];\n    const first = rawRows[0] as unknown;\n    if (first === null || typeof first !== 'object') return [];\n    const keys = Object.keys(first as Record<string, unknown>);\n\n    return keys.map((key) => ({\n      fieldName: key,\n      title: key,\n      sortable: true,\n      resizable: true,\n      width: 'fill' as const,\n      freeze: false,\n      headerDef: undefined,\n      cellDef: undefined,\n      isAuto: true,\n    }));\n  }, [rawRows]);\n\n  const effectiveHeaderItems: IGridHeaderItem<T>[] = useMemo(() => {\n    if (headerItems.length) return headerItems;\n    return autoColumns.map((c) => ({ kind: 'col', col: c }));\n  }, [headerItems, autoColumns]);\n\n  const effectiveColumns: IGridColumnLike<T>[] = useMemo(() => {\n    if (columns.length) return columns;\n    return autoColumns;\n  }, [columns, autoColumns]);\n\n  /* ---------------- widths ---------------- */\n\n  const getColumnWidth = (col: IGridColumnLike<T>): number | null => {\n    const override = columnWidthsRef.current.get(col);\n    if (typeof override === 'number') return override;\n\n    if (typeof col.width === 'number') return col.width;\n    if (col.width === 'fill') return null;\n\n    return defaultColumnWidth;\n  };\n\n  const getColumnFlex = (col: IGridColumnLike<T>): string => {\n    const px = getColumnWidth(col);\n    if (px !== null) return `0 0 ${px}px`;\n    return '1 1 0';\n  };\n\n  const setColumnWidth = (col: IGridColumnLike<T>, width: number) => {\n    columnWidthsRef.current.set(col, width);\n    setTick((n) => n + 1);\n  };\n\n  useEffect(() => {\n    const map = columnWidthsRef.current;\n    for (const col of effectiveColumns) {\n      if (!map.has(col)) {\n        const px = getColumnWidth(col);\n        if (px !== null) map.set(col, px);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [effectiveColumns]);\n\n  /* ---------------- frozen columns ---------------- */\n\n  const getFrozenEndIndex = (): number => {\n    for (let i = effectiveColumns.length - 1; i >= 0; i--) {\n      if (effectiveColumns[i].freeze) return i;\n    }\n    return -1;\n  };\n\n  const hasFrozenColumns = getFrozenEndIndex() >= 0;\n\n  const isColumnFrozen = (col: IGridColumnLike<T>): boolean => {\n    const end = getFrozenEndIndex();\n    if (end < 0) return false;\n    const idx = effectiveColumns.indexOf(col);\n    if (idx === -1) return false;\n    return idx <= end;\n  };\n\n  const getSpecialColumnsLeftOffset = (opts?: {\n    includeNumber?: boolean;\n    includeExpand?: boolean;\n    includeSelection?: boolean;\n  }): number => {\n    const includeNumber = opts?.includeNumber ?? true;\n    const includeExpand = opts?.includeExpand ?? true;\n    const includeSelection = opts?.includeSelection ?? true;\n\n    let left = 0;\n\n    // tree mode has NO special expand/selection columns (matches Angular)\n    if (!treeEnabled) {\n      if (includeSelection && !!selectionMode) left += selectionColumnWidth;\n      if (includeExpand && hasExpandableRow) left += expandColumnWidth;\n    }\n\n    if (includeNumber && showNumberColumnEffective) left += numberColumnWidth;\n\n    return left;\n  };\n\n  const getStickyLeftForExpandColumn = () =>\n    getSpecialColumnsLeftOffset({\n      includeSelection: false,\n      includeExpand: false,\n      includeNumber: false,\n    });\n\n  const getStickyLeftForSelectionColumn = () =>\n    getSpecialColumnsLeftOffset({\n      includeSelection: false,\n      includeExpand: true,\n      includeNumber: false,\n    });\n\n  const getStickyLeftForNumberColumn = () =>\n    getSpecialColumnsLeftOffset({\n      includeSelection: true,\n      includeExpand: true,\n      includeNumber: false,\n    });\n\n  const getColumnStickyLeft = (col: IGridColumnLike<T>): number | null => {\n    if (!isColumnFrozen(col)) return null;\n\n    const end = getFrozenEndIndex();\n    if (end < 0) return null;\n\n    const idx = effectiveColumns.indexOf(col);\n    if (idx === -1 || idx > end) return null;\n\n    let left = 0;\n    left += getSpecialColumnsLeftOffset();\n\n    for (let i = 0; i < idx; i++) {\n      const c = effectiveColumns[i];\n      if (!isColumnFrozen(c)) continue;\n\n      const w = getColumnWidth(c);\n      if (w === null) return null;\n      left += w;\n    }\n\n    return left;\n  };\n\n  const getFrozenColumnZ = (col: IGridColumnLike<T>): number => {\n    //  identical to Angular:\n    // base + (endIndex - idx)\n    const end = getFrozenEndIndex();\n    if (end < 0) return 2;\n\n    const idx = effectiveColumns.indexOf(col);\n    if (idx === -1) return 2;\n\n    const base = 20;\n    return base + (end - idx);\n  };\n\n  /* ---------------- connect data ---------------- */\n\n  useEffect(() => {\n    const updateFilterText = () => {\n      setCurrentFilterText(\n        dataSource instanceof IGridDataSource ? dataSource.filter : ''\n      );\n    };\n\n    const buildTreeMeta = (roots: T[]) => {\n      treeMetaRef.current.clear();\n      treeRootsRef.current = [];\n\n      const getChildren = (row: T): T[] => {\n        const r = row as unknown as Record<string, unknown>;\n        const value = r?.[treeChildrenKey] as unknown;\n        return Array.isArray(value) ? (value as T[]) : [];\n      };\n\n      const getInitialExpandLevelInternal = (): number | null => {\n        if (!treeEnabled) return null;\n        if (treeInitialExpandLevel === null) return null;\n        const n = Number(treeInitialExpandLevel);\n        if (!Number.isFinite(n) || n <= 0) return null;\n        return n - 1;\n      };\n\n      const shouldRowStartExpanded = (\n        level: number,\n        hasChildrenFlag: boolean\n      ) => {\n        if (!hasChildrenFlag) return false;\n        const max = getInitialExpandLevelInternal();\n        if (max === null) return false;\n        return level <= max;\n      };\n\n      const visit = (row: T, level: number, parent: T | null) => {\n        const children = getChildren(row);\n        const hasChildrenFlag = children.length > 0;\n        const expanded = shouldRowStartExpanded(level, hasChildrenFlag);\n\n        if (parent === null) treeRootsRef.current.push(row);\n        treeMetaRef.current.set(row, {\n          level,\n          parent,\n          hasChildren: hasChildrenFlag,\n          expanded,\n        });\n\n        children.forEach((c) => visit(c, level + 1, row));\n      };\n\n      (roots || []).forEach((r) => visit(r, 0, null));\n    };\n\n    const rebuildTreeRenderedWith = (getChildren: (r: T) => T[]) => {\n      const out: T[] = [];\n\n      const appendVisible = (row: T) => {\n        out.push(row);\n        const meta = treeMetaRef.current.get(row);\n        if (!meta?.expanded) return;\n\n        const children = getChildren(row);\n        for (const child of children) appendVisible(child);\n      };\n\n      for (const root of treeRootsRef.current) appendVisible(root);\n      setRenderedData(out);\n      updateFilterText();\n    };\n\n    const connectTree = (roots: T[]) => {\n      const getChildren = (row: T): T[] => {\n        const r = row as unknown as Record<string, unknown>;\n        const value = r?.[treeChildrenKey] as unknown;\n        return Array.isArray(value) ? (value as T[]) : [];\n      };\n\n      buildTreeMeta(roots);\n      rebuildTreeRenderedWith(getChildren);\n    };\n\n    // TREE\n    if (treeEnabled) {\n      if (dataSource instanceof IGridDataSource) {\n        setSortStates(\n          dataSource.sort?.length ? dataSource.sort.map((s) => ({ ...s })) : []\n        );\n        const unsub = dataSource.connect((rows) => connectTree(rows || []));\n        return () => unsub();\n      }\n\n      if (Array.isArray(dataSource)) {\n        setSortStates([]);\n        connectTree(dataSource);\n        return;\n      }\n\n      setSortStates([]);\n      setRenderedData([]);\n      updateFilterText();\n      return;\n    }\n\n    // FLAT\n    if (dataSource instanceof IGridDataSource) {\n      setSortStates(\n        dataSource.sort?.length ? dataSource.sort.map((s) => ({ ...s })) : []\n      );\n\n      const unsub = dataSource.connect((rows) => {\n        setRenderedData(rows || []);\n        updateFilterText();\n      });\n\n      return () => unsub();\n    }\n\n    if (Array.isArray(dataSource)) {\n      setSortStates([]);\n      setRenderedData(dataSource);\n      updateFilterText();\n      return;\n    }\n\n    setSortStates([]);\n    setRenderedData([]);\n    updateFilterText();\n  }, [dataSource, treeEnabled, treeChildrenKey, treeInitialExpandLevel]);\n\n  /* ---------------- selection helpers ---------------- */\n\n  const getTreeChildren = (row: T): T[] => {\n    if (!treeEnabled || !row) return [];\n    const r = row as unknown as Record<string, unknown>;\n    const value = r?.[treeChildrenKey] as unknown;\n    return Array.isArray(value) ? (value as T[]) : [];\n  };\n\n  const getTreeDescendants = (row: T): T[] => {\n    const out: T[] = [];\n    const visit = (r: T) => {\n      const children = getTreeChildren(r);\n      for (const child of children) {\n        out.push(child);\n        visit(child);\n      }\n    };\n    visit(row);\n    return out;\n  };\n\n  const hasChildren = (row: T): boolean => {\n    if (!treeEnabled) return false;\n    return treeMetaRef.current.get(row)?.hasChildren ?? false;\n  };\n\n  const getRowChecked = (row: T): boolean => {\n    if (!treeEnabled) return selectionSet.has(row);\n\n    const descendants = getTreeDescendants(row);\n    if (!descendants.length) return selectionSet.has(row);\n\n    const total = descendants.length;\n    const selectedChildren = descendants.filter((c) =>\n      selectionSet.has(c)\n    ).length;\n\n    const allChildrenSelected = total > 0 && selectedChildren === total;\n    const anyChildrenSelected = selectedChildren > 0;\n\n    if (allChildrenSelected && selectionSet.has(row)) return true;\n    if (anyChildrenSelected && !allChildrenSelected) return false;\n\n    return selectionSet.has(row);\n  };\n\n  const getRowIndeterminate = (row: T): boolean => {\n    if (!treeEnabled) return false;\n\n    const descendants = getTreeDescendants(row);\n    if (!descendants.length) return false;\n\n    const total = descendants.length;\n    const selectedChildren = descendants.filter((c) =>\n      selectionSet.has(c)\n    ).length;\n\n    const allChildrenSelected = total > 0 && selectedChildren === total;\n    const anyChildrenSelected = selectedChildren > 0;\n\n    return anyChildrenSelected && !allChildrenSelected;\n  };\n\n  const allVisibleSelected = (): boolean => {\n    if (!selectionMode || !renderedData.length) return false;\n    return renderedData.every((r) => getRowChecked(r));\n  };\n\n  const someVisibleSelected = (): boolean => {\n    if (!selectionMode || !renderedData.length) return false;\n    const anySelected = renderedData.some(\n      (r) => getRowChecked(r) || getRowIndeterminate(r)\n    );\n    return anySelected && !allVisibleSelected();\n  };\n\n  const emitSelectionChange = (lastChanged: T | null, next: Set<T>) => {\n    if (!selectionMode) return;\n    onSelectionChange?.({ selected: Array.from(next), lastChanged });\n  };\n\n  const syncSelectionUpwardsFrom = (row: T, next: Set<T>) => {\n    if (!treeEnabled) return;\n\n    let current = treeMetaRef.current.get(row)?.parent ?? null;\n\n    while (current) {\n      const descendants = getTreeDescendants(current);\n      if (!descendants.length) {\n        current = treeMetaRef.current.get(current)?.parent ?? null;\n        continue;\n      }\n\n      const total = descendants.length;\n      const selectedChildren = descendants.filter((c) => next.has(c)).length;\n\n      if (selectedChildren === 0) next.delete(current);\n      else if (selectedChildren === total) next.add(current);\n      else next.delete(current);\n\n      current = treeMetaRef.current.get(current)?.parent ?? null;\n    }\n  };\n\n  const setBranchSelection = (row: T, selected: boolean, next: Set<T>) => {\n    if (!treeEnabled) {\n      if (selected) next.add(row);\n      else next.delete(row);\n      return;\n    }\n\n    const all = [row, ...getTreeDescendants(row)];\n    if (selected) all.forEach((r) => next.add(r));\n    else all.forEach((r) => next.delete(r));\n  };\n\n  const onRowSelectionToggle = (row: T) => {\n    if (!selectionMode) return;\n\n    if (selectionMode === 'single') {\n      const next = new Set<T>();\n      next.add(row);\n      setSelectionSet(next);\n      emitSelectionChange(row, next);\n      return;\n    }\n\n    // multiple\n    if (treeEnabled) {\n      const next = new Set(selectionSet);\n\n      if (hasChildren(row)) {\n        const currentlyChecked = getRowChecked(row);\n        setBranchSelection(row, !currentlyChecked, next);\n      } else {\n        if (next.has(row)) next.delete(row);\n        else next.add(row);\n      }\n\n      syncSelectionUpwardsFrom(row, next);\n      setSelectionSet(next);\n      emitSelectionChange(row, next);\n      return;\n    }\n\n    const next = new Set(selectionSet);\n    if (next.has(row)) next.delete(row);\n    else next.add(row);\n    setSelectionSet(next);\n    emitSelectionChange(row, next);\n  };\n\n  const onToggleAllVisible = () => {\n    if (selectionMode !== 'multiple') return;\n\n    const shouldSelect = !allVisibleSelected();\n\n    if (treeEnabled) {\n      const next = new Set(selectionSet);\n      const roots = [...treeRootsRef.current];\n\n      roots.forEach((r) => {\n        setBranchSelection(r, shouldSelect, next);\n        syncSelectionUpwardsFrom(r, next);\n      });\n\n      setSelectionSet(next);\n      emitSelectionChange(null, next);\n      return;\n    }\n\n    const next = new Set(selectionSet);\n    if (shouldSelect) renderedData.forEach((r) => next.add(r));\n    else renderedData.forEach((r) => next.delete(r));\n\n    setSelectionSet(next);\n    emitSelectionChange(null, next);\n  };\n\n  /* ---------------- tree helpers ---------------- */\n\n  const isTreeHostColumn = (col: IGridColumnLike<T>): boolean => {\n    if (!treeEnabled) return false;\n\n    const wanted = (treeColumn ?? '').trim();\n    const host = wanted\n      ? effectiveColumns.find((c) => !!c.fieldName && c.fieldName === wanted)\n          ?.fieldName\n      : effectiveColumns.find((c) => !!c.fieldName)?.fieldName;\n\n    if (!host) return false;\n    return !!col.fieldName && col.fieldName === host;\n  };\n\n  const isExpandedTree = (row: T): boolean => {\n    if (!treeEnabled) return false;\n    return treeMetaRef.current.get(row)?.expanded ?? false;\n  };\n\n  const anyTreeExpanded = (): boolean => {\n    if (!treeEnabled || !treeRootsRef.current.length) return false;\n    return treeRootsRef.current.some((r) => {\n      const meta = treeMetaRef.current.get(r);\n      return !!meta?.hasChildren && !!meta?.expanded;\n    });\n  };\n\n  const allTreeExpanded = (): boolean => {\n    if (!treeEnabled || !treeRootsRef.current.length) return false;\n    for (const meta of treeMetaRef.current.values()) {\n      if (meta.hasChildren && !meta.expanded) return false;\n    }\n    return true;\n  };\n\n  const rebuildTreeRendered = () => {\n    const out: T[] = [];\n    const appendVisible = (row: T) => {\n      out.push(row);\n      const meta = treeMetaRef.current.get(row);\n      if (!meta?.expanded) return;\n\n      const children = getTreeChildren(row);\n      for (const child of children) appendVisible(child);\n    };\n\n    for (const root of treeRootsRef.current) appendVisible(root);\n    setRenderedData(out);\n  };\n\n  const onToggleAllTree = () => {\n    if (!treeEnabled) return;\n    const shouldExpand = !allTreeExpanded();\n    treeMetaRef.current.forEach((meta) => {\n      if (meta.hasChildren) meta.expanded = shouldExpand;\n    });\n    rebuildTreeRendered();\n  };\n\n  //  accept native MouseEvent (because IButton gives native event)\n  const onTreeToggle = (row: T, event?: MouseEvent) => {\n    event?.stopPropagation();\n    if (!treeEnabled) return;\n    const meta = treeMetaRef.current.get(row);\n    if (!meta || !meta.hasChildren) return;\n    meta.expanded = !meta.expanded;\n    rebuildTreeRendered();\n  };\n\n  const getRowLevel = (row: T): number => {\n    if (!treeEnabled) return 0;\n    return treeMetaRef.current.get(row)?.level ?? 0;\n  };\n\n  const getTreeIndentPx = (row: T): number => getRowLevel(row) * treeIndent;\n\n  /* ---------------- expandable row (flat mode) ---------------- */\n\n  const isRowExpanded = (row: T) => expandedSet.has(row);\n\n  const setExpanded = (row: T, expanded: boolean) => {\n    if (!hasExpandableRow) return;\n\n    setExpandedSet((prev) => {\n      const expandSingle = !!expandableRowDef?.expandSingle;\n      const was = prev.has(row);\n      if (expanded === was) return prev;\n\n      const next = new Set(prev);\n\n      if (expanded) {\n        if (expandSingle) {\n          const toCollapse = Array.from(next).filter((r) => r !== row);\n          toCollapse.forEach((r) =>\n            onRowExpandChange?.({ row: r, expanded: false })\n          );\n          next.clear();\n        }\n        next.add(row);\n        onRowExpandChange?.({ row, expanded: true });\n      } else {\n        next.delete(row);\n        onRowExpandChange?.({ row, expanded: false });\n      }\n\n      onExpandedRowsChange?.(Array.from(next));\n      return next;\n    });\n  };\n\n  const allVisibleExpanded = (): boolean => {\n    if (!hasExpandableRow || !renderedData.length) return false;\n    return renderedData.every((r) => expandedSet.has(r));\n  };\n\n  const onToggleAllExpanded = () => {\n    if (!hasExpandableRow) return;\n    const shouldExpand = !allVisibleExpanded();\n\n    if (shouldExpand) {\n      const expandSingle = !!expandableRowDef?.expandSingle;\n      if (expandSingle) {\n        const first = renderedData[0];\n        setExpandedSet((prev) => {\n          const next = new Set<T>();\n          Array.from(prev).forEach((r) =>\n            onRowExpandChange?.({ row: r, expanded: false })\n          );\n          if (first) {\n            next.add(first);\n            onRowExpandChange?.({ row: first, expanded: true });\n          }\n          onExpandedRowsChange?.(Array.from(next));\n          return next;\n        });\n        return;\n      }\n\n      setExpandedSet((prev) => {\n        const before = new Set(prev);\n        const next = new Set(prev);\n\n        for (const row of renderedData) next.add(row);\n        for (const row of renderedData)\n          if (!before.has(row)) onRowExpandChange?.({ row, expanded: true });\n\n        onExpandedRowsChange?.(Array.from(next));\n        return next;\n      });\n      return;\n    }\n\n    setExpandedSet((prev) => {\n      const prevArr = Array.from(prev);\n      prevArr.forEach((r) => onRowExpandChange?.({ row: r, expanded: false }));\n      onExpandedRowsChange?.([]);\n      return new Set();\n    });\n  };\n\n  /* ---------------- sorting ---------------- */\n\n  const sortStatesRef = useRef<ISortState[]>([]);\n  useEffect(() => {\n    sortStatesRef.current = sortStates;\n  }, [sortStates]);\n\n  const computeNextSort = (\n    prev: ISortState[],\n    columnId: string\n  ): ISortState[] => {\n    const next = prev.map((s) => ({ ...s })); // clone\n    const idx = next.findIndex((s) => s.active === columnId);\n\n    if (idx === -1) {\n      // first click -> asc\n      next.push({ active: columnId, direction: 'asc' });\n      return next;\n    }\n\n    const cur = next[idx];\n    if (cur.direction === 'asc') {\n      cur.direction = 'desc';\n      return next;\n    }\n\n    if (cur.direction === 'desc') {\n      // third click -> remove sort\n      next.splice(idx, 1);\n      return next;\n    }\n\n    // fallback\n    cur.direction = 'asc';\n    return next;\n  };\n\n  const sortByColumn = (col: IGridColumnLike<T>) => {\n    if (!(dataSource instanceof IGridDataSource)) return;\n    const columnId = col.fieldName;\n    if (!columnId) return;\n    if (col.sortable === false) return;\n\n    const next = computeNextSort(sortStatesRef.current, columnId);\n\n    //  1) update UI state\n    setSortStates(next);\n\n    //  2) side effect OUTSIDE setState updater\n    dataSource.sort = next.length ? next : null;\n\n    // (optional but matches Angular-ish UX)\n    // reset to first page when sorting changes\n    if (dataSource.paginatorEnabled) {\n      dataSource.paginator = { pageIndex: 0, pageSize: dataSource.pageSize };\n    }\n  };\n\n  const getColumnDirection = (columnId: string): ISortDirection => {\n    const found = sortStates.find((s) => s.active === columnId);\n    return found ? found.direction : '';\n  };\n\n  /* ---------------- pagination proxies ---------------- */\n\n  const hasPagination =\n    !treeEnabled &&\n    dataSource instanceof IGridDataSource &&\n    dataSource.paginatorEnabled;\n\n  const totalLength =\n    dataSource instanceof IGridDataSource\n      ? dataSource.length\n      : renderedData.length;\n  const pageIndex =\n    dataSource instanceof IGridDataSource ? dataSource.pageIndex : 0;\n  const pageSize =\n    dataSource instanceof IGridDataSource ? dataSource.pageSize : 0;\n  const pageSizeOptions =\n    dataSource instanceof IGridDataSource ? dataSource.pageSizeOptions : [];\n\n  const onPageChange = (e: { pageIndex: number; pageSize: number }) => {\n    if (!(dataSource instanceof IGridDataSource)) return;\n    dataSource.paginator = { pageIndex: e.pageIndex, pageSize: e.pageSize };\n  };\n\n  const getRowNumber = (visibleRowIndex: number): number => {\n    if (dataSource instanceof IGridDataSource && hasPagination) {\n      return pageIndex * pageSize + visibleRowIndex + 1;\n    }\n    return visibleRowIndex + 1;\n  };\n\n  /* ----------------------------------------------------\n   * ANGULAR-CLOSE HeaderCell / Cell\n   * - If `col` exists => frozen/sticky/z computed internally (like HostBinding in Angular)\n   * - Special columns can still force sticky with overrides (like Angular template does)\n   * ---------------------------------------------------- */\n\n  type StickyOverride = {\n    /** force sticky/frozen even without `col` (for special columns) */\n    frozen?: boolean;\n    /** explicit sticky left (for special columns) */\n    stickyLeft?: number | null;\n    /** explicit zIndex (for special columns) */\n    zIndex?: number | null;\n  };\n\n  const HeaderCell = (p: {\n    col?: IGridColumnLike<T>;\n    fixedWidth?: number;\n    children: ReactNode;\n    className?: string;\n\n    /** Angular parity: header cell may render without column (group title, special columns) */\n    resizable?: boolean;\n    disableSortClick?: boolean;\n    auto?: boolean;\n\n    /** override sticky for special columns (expand/selection/number) */\n    sticky?: StickyOverride;\n  }) => {\n    const {\n      col,\n      fixedWidth,\n      children,\n      className,\n      resizable,\n      disableSortClick,\n      auto,\n      sticky,\n    } = p;\n\n    const minWidth = 50;\n    const isResizingRef = useRef(false);\n\n    //  Angular-like: if col exists, compute frozen behavior via grid helpers\n    const computedFrozen = !!col && isColumnFrozen(col);\n    const computedLeft =\n      computedFrozen && col ? getColumnStickyLeft(col) : null;\n    const computedZ = computedFrozen && col ? getFrozenColumnZ(col) : null;\n\n    //  allow special columns to override (expand/selection/number)\n    const frozen = sticky?.frozen ?? computedFrozen;\n    const stickyLeft = sticky?.stickyLeft ?? computedLeft;\n    const zIndex = sticky?.zIndex ?? computedZ;\n\n    const isSortable =\n      !disableSortClick &&\n      !!col?.fieldName &&\n      col.sortable !== false &&\n      dataSource instanceof IGridDataSource;\n\n    const direction = col?.fieldName ? getColumnDirection(col.fieldName) : '';\n    const showIcon = isSortable && direction !== '';\n\n    const flex =\n      typeof fixedWidth === 'number'\n        ? `0 0 ${fixedWidth}px`\n        : col\n          ? getColumnFlex(col)\n          : '1 1 0';\n\n    const onResizeMouseDown = (event: React.MouseEvent) => {\n      if (!col || !resizable) return;\n      event.stopPropagation();\n      event.preventDefault();\n\n      const startX = event.clientX;\n\n      // measure the header cell, not the handle\n      const headerEl = (event.currentTarget as HTMLElement).closest(\n        'i-grid-header-cell'\n      ) as HTMLElement | null;\n\n      const currentWidth =\n        getColumnWidth(col) ?? headerEl?.clientWidth ?? defaultColumnWidth;\n      const startWidth = currentWidth;\n\n      const onMove = (e: MouseEvent) => {\n        const delta = e.clientX - startX;\n        let next = startWidth + delta;\n        if (next < minWidth) next = minWidth;\n        setColumnWidth(col, next);\n      };\n\n      isResizingRef.current = true;\n\n      const onUp = () => {\n        window.removeEventListener('mousemove', onMove);\n        window.removeEventListener('mouseup', onUp);\n\n        // let click pass, then re-enable sorting\n        setTimeout(() => {\n          isResizingRef.current = false;\n        }, 0);\n      };\n\n      window.addEventListener('mousemove', onMove);\n      window.addEventListener('mouseup', onUp);\n    };\n\n    return (\n      <i-grid-header-cell\n        className={[\n          'i-grid-header-cell',\n          className,\n          isSortable ? 'i-grid-header-cell--sortable' : null,\n          direction !== '' ? 'i-grid-header-cell--sorted' : null,\n          direction === 'asc' ? 'i-grid-header-cell--sorted-asc' : null,\n          direction === 'desc' ? 'i-grid-header-cell--sorted-desc' : null,\n          resizable ? 'i-grid-header-cell--resizable' : null,\n          frozen ? 'i-grid-header-cell--frozen' : null,\n          auto ? 'i-grid-header-cell--auto' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        role=\"columnheader\"\n        style={{\n          flex,\n          position: frozen ? 'sticky' : undefined,\n          left: frozen ? (stickyLeft ?? undefined) : undefined,\n          zIndex: frozen && typeof zIndex === 'number' ? zIndex : undefined, //  only if explicitly passed\n        }}\n        onClick={() => {\n          if (isResizingRef.current) return;\n          if (!col) return;\n          if (!isSortable) return;\n          sortByColumn(col);\n        }}>\n        <span className=\"i-grid-header-cell__content\">{children}</span>\n\n        {showIcon ? (\n          <span className=\"i-grid-header-cell__icon\">\n            <IIcon\n              size=\"sm\"\n              icon={direction === 'asc' ? 'sort-asc' : 'sort-dsc'}\n            />\n          </span>\n        ) : null}\n\n        <span\n          className=\"i-grid-header-cell__resize-handle\"\n          onMouseDown={(e) => {\n            e.stopPropagation();\n            e.preventDefault();\n            onResizeMouseDown(e);\n          }}\n          onClick={(e) => {\n            e.stopPropagation();\n            e.preventDefault();\n          }}\n        />\n      </i-grid-header-cell>\n    );\n  };\n\n  const Cell = (p: {\n    col?: IGridColumnLike<T>;\n    fixedWidth?: number;\n    children: ReactNode;\n    className?: string;\n\n    /** stop propagation on cell click (used by special columns / tree host) */\n    onClickStop?: boolean;\n\n    auto?: boolean;\n\n    /** override sticky for special columns */\n    sticky?: StickyOverride;\n  }) => {\n    const { col, fixedWidth, children, className, onClickStop, auto, sticky } =\n      p;\n\n    const computedFrozen = !!col && isColumnFrozen(col);\n    const computedLeft =\n      computedFrozen && col ? getColumnStickyLeft(col) : null;\n    const computedZ = computedFrozen && col ? getFrozenColumnZ(col) : null;\n\n    const frozen = sticky?.frozen ?? computedFrozen;\n    const stickyLeft = sticky?.stickyLeft ?? computedLeft;\n    const zIndex = sticky?.zIndex ?? computedZ;\n\n    const flex =\n      typeof fixedWidth === 'number'\n        ? `0 0 ${fixedWidth}px`\n        : col\n          ? getColumnFlex(col)\n          : '1 1 0';\n\n    return (\n      <i-grid-cell\n        className={[\n          'i-grid-cell',\n          className,\n          frozen ? 'i-grid-cell--frozen' : null,\n          auto ? 'i-grid-cell--auto' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        role=\"cell\"\n        style={{\n          flex,\n          position: frozen ? 'sticky' : undefined,\n          left: frozen ? (stickyLeft ?? undefined) : undefined,\n          zIndex: frozen && typeof zIndex === 'number' ? zIndex : undefined, //  only if explicitly passed\n        }}\n        onClick={(e) => {\n          if (onClickStop) e.stopPropagation();\n        }}>\n        {children}\n      </i-grid-cell>\n    );\n  };\n\n  /* ---------------- render ---------------- */\n\n  return (\n    <i-grid className=\"i-grid\" role=\"table\">\n      <i-grid-viewport className=\"i-grid-viewport\">\n        {/* HEADER */}\n        {effectiveHeaderItems.length ? (\n          <i-grid-header-row className=\"i-grid-header-row\" role=\"row\">\n            {/* FLAT: expand-all (only when expandable row exists AND not single) */}\n            {!treeEnabled &&\n            hasExpandableRow &&\n            !expandableRowDef?.expandSingle ? (\n              <HeaderCell\n                className=\"i-grid-expand-cell i-grid-expand-cell--header i-grid-header-cell--frozen\"\n                fixedWidth={expandColumnWidth}\n                disableSortClick\n                sticky={{\n                  frozen: true,\n                  stickyLeft: getStickyLeftForExpandColumn(),\n                }}>\n                <span className=\"i-grid-header-cell__content\">\n                  <IButton\n                    className=\"i-grid-expand-toggle\"\n                    size=\"2xs\"\n                    variant=\"outline\"\n                    icon={allVisibleExpanded() ? 'down' : 'next'}\n                    onClick={(e: MouseEvent) => {\n                      e.stopPropagation();\n                      onToggleAllExpanded();\n                    }}\n                  />\n                </span>\n              </HeaderCell>\n            ) : null}\n\n            {/* FLAT: selection header */}\n            {!treeEnabled && selectionMode ? (\n              <HeaderCell\n                className=\"i-grid-selection-cell i-grid-selection-cell--header i-grid-header-cell--frozen\"\n                fixedWidth={selectionColumnWidth}\n                disableSortClick\n                sticky={{\n                  frozen: true,\n                  stickyLeft: getStickyLeftForSelectionColumn(),\n                }}>\n                <span className=\"i-grid-header-cell__content\">\n                  {selectionMode === 'multiple' ? (\n                    <IndeterminateCheckbox\n                      checked={allVisibleSelected()}\n                      indeterminate={someVisibleSelected()}\n                      onChange={() => onToggleAllVisible()}\n                      stopRowClick\n                    />\n                  ) : null}\n                </span>\n              </HeaderCell>\n            ) : null}\n\n            {/* Number header */}\n            {showNumberColumnEffective ? (\n              <HeaderCell\n                className=\"i-grid-number-cell i-grid-number-cell--header\"\n                fixedWidth={numberColumnWidth}\n                disableSortClick\n                sticky={\n                  hasFrozenColumns\n                    ? {\n                        frozen: true,\n                        stickyLeft: getStickyLeftForNumberColumn(),\n                        // Angular template: number header z=3 when frozen\n                        zIndex: 3,\n                      }\n                    : undefined\n                }>\n                No.\n              </HeaderCell>\n            ) : null}\n\n            {/* Header items */}\n            {effectiveHeaderItems.map((item, idx) => {\n              if (item.kind === 'col') {\n                const col = item.col;\n\n                // TREE host column header content\n                if (treeEnabled && isTreeHostColumn(col)) {\n                  return (\n                    <HeaderCell\n                      key={`h-${idx}`}\n                      col={col}\n                      resizable={col.resizable}\n                      auto={!!col.isAuto}>\n                      <span className=\"i-grid-tree-head\">\n                        <IButton\n                          className=\"i-grid-tree-expand-all\"\n                          size=\"2xs\"\n                          variant=\"outline\"\n                          icon={anyTreeExpanded() ? 'down' : 'next'}\n                          onClick={(e: MouseEvent) => {\n                            e.stopPropagation();\n                            onToggleAllTree();\n                          }}\n                        />\n\n                        {selectionMode === 'multiple' ? (\n                          <IndeterminateCheckbox\n                            className=\"i-grid-tree-header-checkbox\"\n                            checked={allVisibleSelected()}\n                            indeterminate={someVisibleSelected()}\n                            onChange={() => onToggleAllVisible()}\n                            stopRowClick\n                          />\n                        ) : null}\n\n                        <span className=\"i-grid-tree-head__title\">\n                          {col.title || col.fieldName}\n                        </span>\n                      </span>\n                    </HeaderCell>\n                  );\n                }\n\n                // custom headerDef\n                if (col.headerDef) {\n                  return (\n                    <React.Fragment key={`h-${idx}`}>\n                      {col.headerDef(col)}\n                    </React.Fragment>\n                  );\n                }\n\n                return (\n                  <HeaderCell\n                    key={`h-${idx}`}\n                    col={col}\n                    resizable={col.resizable}\n                    auto={!!col.isAuto}>\n                    {col.title || col.fieldName}\n                  </HeaderCell>\n                );\n              }\n\n              // GROUP HEADER\n              return (\n                <i-grid-header-cell-group\n                  key={`g-${idx}`}\n                  className=\"i-grid-header-cell-group\"\n                  role=\"presentation\">\n                  {/* Group title cell (NOT frozen in Angular) */}\n                  <HeaderCell disableSortClick>{item.title}</HeaderCell>\n\n                  <i-grid-header-cell-group-columns\n                    className=\"i-grid-header-cell-group-columns\"\n                    role=\"presentation\">\n                    {item.columns.map((col, cIdx) => {\n                      if (col.headerDef) {\n                        return (\n                          <React.Fragment key={`gc-${cIdx}`}>\n                            {col.headerDef(col)}\n                          </React.Fragment>\n                        );\n                      }\n\n                      return (\n                        <HeaderCell\n                          key={`gc-${cIdx}`}\n                          col={col}\n                          resizable={col.resizable}\n                          auto={!!col.isAuto}>\n                          {col.title || col.fieldName}\n                        </HeaderCell>\n                      );\n                    })}\n                  </i-grid-header-cell-group-columns>\n                </i-grid-header-cell-group>\n              );\n            })}\n          </i-grid-header-row>\n        ) : null}\n\n        {/* ROWS */}\n        {renderedData.map((row, rowIndex) => {\n          const key = props.rowKey ? props.rowKey(row, rowIndex) : rowIndex;\n\n          return (\n            <React.Fragment key={`r-${key}`}>\n              <i-grid-row\n                className={[\n                  'i-grid-row',\n                  selectionMode ? 'i-grid-selection-row' : null,\n                ]\n                  .filter(Boolean)\n                  .join(' ')}\n                role=\"row\"\n                onClick={() => onRowClick?.(row)}>\n                {/* Expand control (flat mode) */}\n                {!treeEnabled && hasExpandableRow ? (\n                  <Cell\n                    className=\"i-grid-expand-cell i-grid-expand-cell--body\"\n                    fixedWidth={expandColumnWidth}\n                    onClickStop\n                    sticky={{\n                      frozen: true,\n                      stickyLeft: getStickyLeftForExpandColumn(),\n                    }}>\n                    <span className=\"i-grid-expand-cell__content\">\n                      <IButton\n                        className=\"i-grid-expand-toggle\"\n                        size=\"2xs\"\n                        variant=\"outline\"\n                        icon={isRowExpanded(row) ? 'down' : 'next'}\n                        onClick={(e: MouseEvent) => {\n                          e.stopPropagation();\n                          setExpanded(row, !isRowExpanded(row));\n                        }}\n                      />\n                    </span>\n                  </Cell>\n                ) : null}\n\n                {/* Selection (flat mode) */}\n                {!treeEnabled && selectionMode ? (\n                  <Cell\n                    className=\"i-grid-selection-cell i-grid-selection-cell--body\"\n                    fixedWidth={selectionColumnWidth}\n                    onClickStop\n                    sticky={{\n                      frozen: true,\n                      stickyLeft: getStickyLeftForSelectionColumn(),\n                    }}>\n                    {selectionMode === 'multiple' ? (\n                      <IndeterminateCheckbox\n                        checked={getRowChecked(row)}\n                        indeterminate={getRowIndeterminate(row)}\n                        onChange={() => onRowSelectionToggle(row)}\n                        stopRowClick\n                      />\n                    ) : (\n                      <input\n                        type=\"radio\"\n                        checked={selectionSet.has(row)}\n                        name={`i-grid-radio-${idRef.current}`}\n                        onChange={() => onRowSelectionToggle(row)}\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                    )}\n                  </Cell>\n                ) : null}\n\n                {/* Number */}\n                {showNumberColumnEffective ? (\n                  <Cell\n                    className=\"i-grid-number-cell i-grid-number-cell--body\"\n                    fixedWidth={numberColumnWidth}\n                    onClickStop\n                    sticky={\n                      hasFrozenColumns\n                        ? {\n                            frozen: true,\n                            stickyLeft: getStickyLeftForNumberColumn(),\n                            zIndex: 2,\n                          }\n                        : undefined\n                    }>\n                    <span className=\"i-grid-cell__content\">\n                      {getRowNumber(rowIndex)}\n                    </span>\n                  </Cell>\n                ) : null}\n\n                {/* Cells */}\n                {effectiveColumns.map((col, colIndex) => {\n                  // TREE HOST\n                  if (treeEnabled && isTreeHostColumn(col)) {\n                    return (\n                      <Cell\n                        key={`c-${rowIndex}-${colIndex}`}\n                        col={col}\n                        onClickStop\n                        auto={!!col.isAuto}>\n                        <span className=\"i-grid-tree-inline\">\n                          <span\n                            className=\"i-grid-tree-indent\"\n                            style={{ width: getTreeIndentPx(row) }}\n                          />\n\n                          {hasChildren(row) ? (\n                            <IButton\n                              className=\"i-grid-tree-toggle\"\n                              size=\"2xs\"\n                              variant=\"outline\"\n                              icon={isExpandedTree(row) ? 'down' : 'next'}\n                              onClick={(e: MouseEvent) => {\n                                e.stopPropagation();\n                                onTreeToggle(row, e);\n                              }}\n                            />\n                          ) : (\n                            <span className=\"i-grid-tree-spacer\" />\n                          )}\n\n                          {selectionMode === 'multiple' ? (\n                            <IndeterminateCheckbox\n                              className=\"i-grid-tree-checkbox\"\n                              checked={getRowChecked(row)}\n                              indeterminate={getRowIndeterminate(row)}\n                              onChange={() => onRowSelectionToggle(row)}\n                              stopRowClick\n                            />\n                          ) : selectionMode === 'single' ? (\n                            <input\n                              className=\"i-grid-tree-radio\"\n                              type=\"radio\"\n                              checked={selectionSet.has(row)}\n                              name={`i-grid-radio-${idRef.current}`}\n                              onChange={() => onRowSelectionToggle(row)}\n                              onClick={(e) => e.stopPropagation()}\n                            />\n                          ) : null}\n\n                          {col.cellDef ? (\n                            renderCellDef(col.cellDef, row, {\n                              row,\n                              index: rowIndex,\n                              column: col,\n                            })\n                          ) : (\n                            <span className=\"i-grid-tree-text\">\n                              {col.fieldName\n                                ? highlightSearch\n                                  ? highlightSearch(\n                                      String(\n                                        (\n                                          row as unknown as Record<\n                                            string,\n                                            unknown\n                                          >\n                                        )?.[col.fieldName] ?? ''\n                                      ),\n                                      currentFilterText\n                                    )\n                                  : String(\n                                      (\n                                        row as unknown as Record<\n                                          string,\n                                          unknown\n                                        >\n                                      )?.[col.fieldName] ?? ''\n                                    )\n                                : ''}\n                            </span>\n                          )}\n                        </span>\n                      </Cell>\n                    );\n                  }\n\n                  // NORMAL CELL\n                  return (\n                    <Cell\n                      key={`c-${rowIndex}-${colIndex}`}\n                      col={col}\n                      auto={!!col.isAuto}>\n                      {col.cellDef ? (\n                        renderCellDef(col.cellDef, row, {\n                          row,\n                          index: rowIndex,\n                          column: col,\n                        })\n                      ) : (\n                        <span className=\"i-grid-cell__content\">\n                          {col.fieldName\n                            ? highlightSearch\n                              ? highlightSearch(\n                                  String(\n                                    (\n                                      row as unknown as Record<string, unknown>\n                                    )?.[col.fieldName] ?? ''\n                                  ),\n                                  currentFilterText\n                                )\n                              : String(\n                                  (row as unknown as Record<string, unknown>)?.[\n                                    col.fieldName\n                                  ] ?? ''\n                                )\n                            : ''}\n                        </span>\n                      )}\n                    </Cell>\n                  );\n                })}\n              </i-grid-row>\n\n              {/* DETAIL ROW */}\n              {hasExpandableRow && isRowExpanded(row) ? (\n                <i-grid-expandable-row\n                  className=\"i-grid-expandable-row flex\"\n                  role=\"row\">\n                  {expandableRowDef!.render(row, { row, index: rowIndex })}\n                </i-grid-expandable-row>\n              ) : null}\n            </React.Fragment>\n          );\n        })}\n      </i-grid-viewport>\n\n      {/* FOOTER */}\n      {hasPagination ? (\n        <div className=\"i-grid-footer\">\n          <IPaginator\n            length={totalLength}\n            pageIndex={pageIndex}\n            pageSize={pageSize}\n            pageSizeOptions={pageSizeOptions}\n            onPageChange={onPageChange}\n          />\n        </div>\n      ) : null}\n    </i-grid>\n  );\n}\n","// host.tsx\nimport React, {\n  memo,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n  type JSX,\n} from 'react';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\nimport type { IBreadcrumbItem, IMenu, IUser } from './host-api.types';\n\n/* =========================================================\n * Highlight (Angular pipe replacement)\n * ========================================================= */\n\nfunction escapeHtml(input: string): string {\n  return (input ?? '')\n    .replaceAll('&', '&amp;')\n    .replaceAll('<', '&lt;')\n    .replaceAll('>', '&gt;')\n    .replaceAll('\"', '&quot;')\n    .replaceAll(\"'\", '&#039;');\n}\n\nfunction highlightSearchHtml(text: string, rawTerm: string): string {\n  const term = (rawTerm ?? '').trim();\n  if (!term) return escapeHtml(text ?? '');\n\n  const safeText = text ?? '';\n  const lower = safeText.toLowerCase();\n  const lowerTerm = term.toLowerCase();\n\n  let out = '';\n  let i = 0;\n\n  while (i < safeText.length) {\n    const idx = lower.indexOf(lowerTerm, i);\n    if (idx === -1) {\n      out += escapeHtml(safeText.slice(i));\n      break;\n    }\n    out += escapeHtml(safeText.slice(i, idx));\n    out += `<span class=\"highlight-search\">${escapeHtml(\n      safeText.slice(idx, idx + term.length)\n    )}</span>`;\n    i = idx + term.length;\n  }\n\n  return out;\n}\n\nconst Highlighted = memo(function Highlighted(props: {\n  text: string;\n  term: string;\n  as?: keyof JSX.IntrinsicElements;\n}) {\n  const { text, term, as = 'span' } = props;\n  const html = useMemo(() => highlightSearchHtml(text, term), [text, term]);\n  const Tag = as as any;\n  return <Tag dangerouslySetInnerHTML={{ __html: html }} />;\n});\n\n/* =========================================\n * Breadcrumb helpers\n * ========================================= */\n\nfunction normalizeCrumbs(\n  items: IBreadcrumbItem[] | null | undefined\n): IBreadcrumbItem[] {\n  if (!items?.length) return [];\n  return items.filter((x): x is IBreadcrumbItem => !!x?.label);\n}\n\nfunction isPlainLeftClick(e: React.MouseEvent): boolean {\n  return e.button === 0 && !e.metaKey && !e.ctrlKey && !e.shiftKey && !e.altKey;\n}\n\n/* =========================================\n * IHContent (wrapper)\n * ========================================= */\n\nexport function IHContent(props: {\n  title?: string | null;\n  breadcrumbs?: IBreadcrumbItem[] | null;\n  onSidebarToggled?: (visible: boolean) => void;\n  defaultSidebarVisible?: boolean;\n\n  /**\n   * Optional:\n   * - If provided, this wrapper will use it (MF host mode)\n   * - Otherwise it will use react-router navigate() (standalone mode)\n   */\n  onNavigate?: (url: string) => void;\n}) {\n  const nav = useNavigate();\n\n  const crumbs = useMemo(\n    () => normalizeCrumbs(props.breadcrumbs),\n    [props.breadcrumbs]\n  );\n  const title =\n    props.title ?? (crumbs.length ? crumbs[crumbs.length - 1].label : null);\n\n  const [sidebarVisibility, setSidebarVisibility] = useState(\n    props.defaultSidebarVisible ?? true\n  );\n\n  const toggleSidebar = useCallback(() => {\n    setSidebarVisibility((prev) => {\n      const next = !prev;\n      props.onSidebarToggled?.(next);\n      return next;\n    });\n  }, [props]);\n\n  const go = useCallback(\n    (url: string) => {\n      if (props.onNavigate) return props.onNavigate(url);\n      nav(url);\n    },\n    [nav, props.onNavigate]\n  );\n\n  const onCrumbClick = useCallback(\n    (e: React.MouseEvent<HTMLAnchorElement>, url: string) => {\n      if (!isPlainLeftClick(e)) return; // allow new tab, etc.\n      e.preventDefault();\n      if (url.startsWith('/')) go(url);\n      else window.location.href = url;\n    },\n    [go]\n  );\n\n  return (\n    <ih-content>\n      <div className=\"ih-content-header\">\n        <a className=\"i-clickable\" onClick={toggleSidebar}>\n          {sidebarVisibility ? (\n            <img alt=\"sidebar-left\" src=\"/svgs/sidebar-left.svg\" />\n          ) : (\n            <img alt=\"sidebar-right\" src=\"/svgs/sidebar-right.svg\" />\n          )}\n        </a>\n\n        <h1>{title || 'Insight'}</h1>\n      </div>\n\n      <div className=\"ih-content-breadcrumbs\">\n        {crumbs.length > 0 ? (\n          crumbs.map((b, idx) => {\n            const first = idx === 0;\n            const last = idx === crumbs.length - 1;\n\n            if (!last) {\n              return (\n                <React.Fragment key={`${b.label}-${idx}`}>\n                  {!first ? (\n                    b.url ? (\n                      <a\n                        className=\"ih-content-breadcrumb ih-content-breadcrumb__link\"\n                        href={b.url}\n                        onClick={(e) => onCrumbClick(e, b.url!)}>\n                        {b.label}\n                      </a>\n                    ) : (\n                      <span className=\"ih-content-breadcrumb ih-content-breadcrumb__link\">\n                        {b.label}\n                      </span>\n                    )\n                  ) : (\n                    <span className=\"ih-content-breadcrumb ih-content-breadcrumb__first\">\n                      {b.label}\n                    </span>\n                  )}\n\n                  <span className=\"ih-content-breadcrumb ih-content-breadcrumb__separator\">\n                    {'>'}\n                  </span>\n                </React.Fragment>\n              );\n            }\n\n            return (\n              <span\n                key={`${b.label}-${idx}`}\n                className=\"ih-content-breadcrumb ih-content-breadcrumb__current\">\n                {b.label}\n              </span>\n            );\n          })\n        ) : (\n          <span className=\"ih-content-breadcrumb ih-content-breadcrumb__first\">\n            Home\n          </span>\n        )}\n      </div>\n\n      <div className=\"ih-content-body scroll scroll-y\">\n        <Outlet />\n      </div>\n    </ih-content>\n  );\n}\n\n/* =========================================================\n * Filtering (same rules as Angular)\n * ========================================================= */\n\nfunction filterMenuTree(menus: IMenu[], rawTerm: string): IMenu[] {\n  const term = (rawTerm ?? '').trim().toLowerCase();\n  if (!term) return menus;\n\n  const filtered: IMenu[] = [];\n  for (const menu of menus) {\n    const result = filterMenuBranch(menu, term);\n    if (result) filtered.push(result);\n  }\n  return filtered;\n}\n\nfunction filterMenuBranch(menu: IMenu, term: string): IMenu | null {\n  const name = (menu.menuName ?? '').toLowerCase();\n  const selfMatches = name.includes(term);\n\n  const originalChildren = menu.child ?? [];\n\n  const filteredChildren: IMenu[] = [];\n  for (const child of originalChildren) {\n    const childResult = filterMenuBranch(child, term);\n    if (childResult) filteredChildren.push(childResult);\n  }\n\n  const childMatches = filteredChildren.length > 0;\n  if (!selfMatches && !childMatches) return null;\n\n  const childrenToUse = selfMatches ? originalChildren : filteredChildren;\n  const cloned: IMenu = { ...menu, child: childrenToUse };\n\n  if (+cloned.menuTypeId === 3 && (selfMatches || childMatches)) {\n    cloned.visibility = 'expanded';\n  }\n\n  return cloned;\n}\n\nfunction flattenNavigableMenus(menus: IMenu[]): IMenu[] {\n  const result: IMenu[] = [];\n\n  const visit = (menu: IMenu) => {\n    const children = menu.child ?? [];\n    const hasChildren = children.length > 0;\n\n    const isLeaf =\n      +menu.menuTypeId === 3 &&\n      (!hasChildren || menu.visibility === 'no-child');\n\n    if (isLeaf) result.push(menu);\n\n    for (const c of children) visit(c);\n  };\n\n  for (const m of menus) visit(m);\n  return result;\n}\n\n/* =========================================================\n * IHMenu (recursive)\n * ========================================================= */\n\ntype IHMenuProps = {\n  menu?: IMenu;\n  filter: string;\n  selectedMenuId: number | null;\n  onToggleGroup: (menuId: number) => void;\n};\n\nexport const IHMenu = memo(function IHMenu(props: IHMenuProps) {\n  const { menu, filter, selectedMenuId, onToggleGroup } = props;\n  const navigate = useNavigate();\n\n  const menuItemRef = useRef<HTMLElement | null>(null);\n  const hasChild = !!menu?.child?.length;\n\n  const isSelected = useMemo(() => {\n    if (!menu) return false;\n\n    const matchesId = menu.menuId === selectedMenuId;\n    if (!matchesId) return false;\n\n    const children = menu.child ?? [];\n    const hasChildren = children.length > 0;\n\n    const isLeaf =\n      +menu.menuTypeId === 3 &&\n      (!hasChildren || menu.visibility === 'no-child');\n\n    return isLeaf;\n  }, [menu, selectedMenuId]);\n\n  useLayoutEffect(() => {\n    if (isSelected && menuItemRef.current) {\n      menuItemRef.current.scrollIntoView({\n        block: 'nearest',\n        behavior: 'smooth',\n      });\n    }\n  }, [isSelected]);\n\n  const clickGroup = useCallback(() => {\n    if (!menu) return;\n    if (menu.visibility !== 'no-child') onToggleGroup(menu.menuId);\n  }, [menu, onToggleGroup]);\n\n  const renderIndent = (level: number) => {\n    if (!level || level <= 0) return null;\n    return Array.from({ length: level }).map((_, i) => <span key={i} />);\n  };\n\n  const onLeafNavigate = useCallback(\n    (m: IMenu) => {\n      if (m.applicationCode === 'INS5' && m.route) {\n        navigate(m.route);\n      } else if (m.applicationUrl) {\n        window.location.href = m.applicationUrl;\n      }\n    },\n    [navigate]\n  );\n\n  if (!menu) return null;\n\n  return (\n    <ih-menu>\n      <li\n        className={[\n          +menu.menuTypeId === 2 ? 'is-module' : '',\n          +menu.menuTypeId === 2 ? (menu.visibility ?? '') : '',\n        ]\n          .filter(Boolean)\n          .join(' ')}>\n        {+menu.menuTypeId === 2 ? (\n          <small>\n            <Highlighted text={menu.menuName} term={filter} />\n          </small>\n        ) : +menu.menuTypeId === 3 ? (\n          hasChild ? (\n            <div onClick={clickGroup}>\n              {menu.level > 0 ? renderIndent(menu.level) : null}\n              <i className={menu.icon ?? ''}></i>\n              <h6>\n                <Highlighted text={menu.menuName} term={filter} />\n              </h6>\n              <i\n                className={\n                  menu.visibility === 'expanded'\n                    ? 'fas fa-angle-up'\n                    : 'fas fa-angle-down'\n                }></i>\n            </div>\n          ) : (\n            <a\n              ref={(el) => {\n                menuItemRef.current = el as unknown as HTMLElement | null;\n              }}\n              className={isSelected ? 'is-selected' : ''}\n              href={\n                menu.applicationCode === 'INS5'\n                  ? (menu.route ?? '#')\n                  : (menu.applicationUrl ?? '#')\n              }\n              onClick={(e) => {\n                // keep open in new tab, etc\n                if (!isPlainLeftClick(e)) return;\n\n                // SPA nav for INS5\n                if (menu.applicationCode === 'INS5') {\n                  e.preventDefault();\n                  onLeafNavigate(menu);\n                  return;\n                }\n\n                // external link: allow normal navigation if url exists\n                if (menu.applicationCode !== 'INS5' && !menu.applicationUrl) {\n                  e.preventDefault();\n                  onLeafNavigate(menu);\n                }\n              }}>\n              {menu.level > 0 ? renderIndent(menu.level) : null}\n              <i className={menu.icon ?? ''}></i>\n              <h6>\n                <Highlighted text={menu.menuName} term={filter} />\n              </h6>\n            </a>\n          )\n        ) : null}\n\n        {hasChild ? (\n          <ul className={+menu.menuTypeId === 3 ? (menu.visibility ?? '') : ''}>\n            {(menu.child ?? []).map((m) => (\n              <IHMenu\n                key={m.menuId}\n                menu={m}\n                filter={filter}\n                selectedMenuId={selectedMenuId}\n                onToggleGroup={onToggleGroup}\n              />\n            ))}\n          </ul>\n        ) : null}\n      </li>\n    </ih-menu>\n  );\n});\n\n/* =========================================================\n * IHSidebar\n * ========================================================= */\n\nexport type IHSidebarProps = {\n  user?: IUser | null;\n  menus: IMenu[];\n  visible?: boolean;\n  footerText?: string;\n};\n\nexport function IHSidebar(props: IHSidebarProps) {\n  const { user, menus, visible = true, footerText = 'Insight Local' } = props;\n\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // init query params (same behavior)\n  const initialFilter = useMemo(() => {\n    const sp = new URLSearchParams(location.search);\n    return sp.get('menu-filter') ?? '';\n  }, [location.search]);\n\n  const [menuFilter, setMenuFilter] = useState(initialFilter);\n  const [keyboardNavActive, setKeyboardNavActive] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(null);\n  const [selectedMenuId, setSelectedMenuId] = useState<number | null>(null);\n\n  const [menuTree, setMenuTree] = useState<IMenu[]>(menus);\n\n  useEffect(() => {\n    setMenuTree(menus);\n  }, [menus]);\n\n  const filteredMenus = useMemo(\n    () => filterMenuTree(menuTree, menuFilter),\n    [menuTree, menuFilter]\n  );\n\n  const navigableMenus = useMemo(\n    () => flattenNavigableMenus(filteredMenus),\n    [filteredMenus]\n  );\n\n  const updateUrl = useCallback(\n    (nextFilter: string) => {\n      const sp = new URLSearchParams(location.search);\n      const f = nextFilter.trim();\n\n      if (f) sp.set('menu-filter', f);\n      else sp.delete('menu-filter');\n\n      navigate(\n        { search: sp.toString() ? `?${sp.toString()}` : '' },\n        { replace: true }\n      );\n    },\n    [location.search, navigate]\n  );\n\n  useEffect(() => {\n    const hasFilter = !!menuFilter.trim();\n\n    if (!navigableMenus.length || !hasFilter) {\n      setKeyboardNavActive(false);\n      setSelectedIndex(null);\n      setSelectedMenuId(null);\n      return;\n    }\n\n    if (keyboardNavActive) {\n      const maxIndex = navigableMenus.length - 1;\n      let idx = selectedIndex;\n      if (idx == null || idx < 0 || idx > maxIndex) idx = 0;\n\n      setSelectedIndex(idx);\n      setSelectedMenuId(navigableMenus[idx].menuId);\n    } else {\n      setSelectedIndex(null);\n      setSelectedMenuId(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [navigableMenus, menuFilter]);\n\n  const onFilterChange = useCallback(\n    (next: string) => {\n      setMenuFilter(next);\n      setKeyboardNavActive(false);\n      setSelectedIndex(null);\n      setSelectedMenuId(null);\n      updateUrl(next);\n    },\n    [updateUrl]\n  );\n\n  const onSearchKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\n      if (!navigableMenus.length) return;\n      if (!menuFilter.trim()) return;\n\n      if (event.key === 'ArrowDown') {\n        event.preventDefault();\n\n        if (!keyboardNavActive) {\n          setKeyboardNavActive(true);\n          setSelectedIndex(0);\n          setSelectedMenuId(navigableMenus[0].menuId);\n          return;\n        }\n\n        setSelectedIndex((cur) => {\n          const current = cur ?? 0;\n          const max = navigableMenus.length - 1;\n          const next = current + 1 > max ? 0 : current + 1;\n          setSelectedMenuId(navigableMenus[next].menuId);\n          return next;\n        });\n      } else if (event.key === 'ArrowUp') {\n        event.preventDefault();\n\n        if (!keyboardNavActive) {\n          setKeyboardNavActive(true);\n          const last = navigableMenus.length - 1;\n          setSelectedIndex(last);\n          setSelectedMenuId(navigableMenus[last].menuId);\n          return;\n        }\n\n        setSelectedIndex((cur) => {\n          const current = cur ?? 0;\n          const max = navigableMenus.length - 1;\n          const next = current - 1 < 0 ? max : current - 1;\n          setSelectedMenuId(navigableMenus[next].menuId);\n          return next;\n        });\n      } else if (event.key === 'Enter') {\n        if (!keyboardNavActive) return;\n        event.preventDefault();\n\n        const idx = selectedIndex;\n        if (idx == null || idx < 0 || idx >= navigableMenus.length) return;\n\n        const m = navigableMenus[idx];\n        if (m.applicationCode === 'INS5' && m.route) {\n          navigate(m.route);\n        } else if (m.applicationUrl) {\n          window.location.href = m.applicationUrl;\n        }\n      }\n    },\n    [navigableMenus, menuFilter, keyboardNavActive, selectedIndex, navigate]\n  );\n\n  const onToggleGroup = useCallback((menuId: number) => {\n    const update = (list: IMenu[]): IMenu[] =>\n      list.map((m) => {\n        if (m.menuId === menuId) {\n          if (m.visibility !== 'no-child') {\n            const nextVis =\n              m.visibility === 'expanded' ? 'collapsed' : 'expanded';\n            return { ...m, visibility: nextVis };\n          }\n          return m;\n        }\n        if (m.child?.length) return { ...m, child: update(m.child) };\n        return m;\n      });\n\n    setMenuTree((prev) => update(prev));\n  }, []);\n\n  return (\n    <ih-sidebar className={!visible ? 'hidden' : undefined}>\n      <div className=\"ih-sidebar-header\">\n        {user ? (\n          <>\n            <div className=\"user-image\">\n              <img alt=\"User Image\" src={user.userImagePath} />\n            </div>\n            <div className=\"user-info\">\n              <small className=\"text-subtle\">{user.employeeCode}</small>\n              <h6>{user.fullName}</h6>\n            </div>\n          </>\n        ) : null}\n      </div>\n\n      <div className=\"ih-sidebar-search\">\n        <input\n          placeholder=\"Search Menu..\"\n          className=\"form-control\"\n          value={menuFilter}\n          onChange={(e) => onFilterChange(e.target.value)}\n          onKeyDown={onSearchKeyDown}\n        />\n      </div>\n\n      <div className=\"ih-sidebar-body scroll scroll-y\">\n        <ul>\n          {filteredMenus.map((m) => (\n            <IHMenu\n              key={m.menuId}\n              menu={m}\n              filter={menuFilter}\n              selectedMenuId={selectedMenuId}\n              onToggleGroup={onToggleGroup}\n            />\n          ))}\n        </ul>\n      </div>\n\n      <div className=\"ih-sidebar-footer\">\n        <small>{footerText}</small>\n      </div>\n    </ih-sidebar>\n  );\n}\n","// host-api.context.tsx\nimport React, { createContext, useContext } from 'react';\nimport type { IHostApi } from './host-api.types';\n\nconst IHostApiContext = createContext<IHostApi | null>(null);\n\nexport function IHostApiProvider(props: {\n  hostApi: IHostApi;\n  children: React.ReactNode;\n}) {\n  return (\n    <IHostApiContext.Provider value={props.hostApi}>\n      {props.children}\n    </IHostApiContext.Provider>\n  );\n}\n\nexport function useHostApi(): IHostApi {\n  const api = useContext(IHostApiContext);\n  if (!api)\n    throw new Error(\n      'useHostApi() must be used under <IHostApiProvider hostApi={...} />'\n    );\n  return api;\n}\n","// page.tsx\nimport React, { useEffect, useMemo } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { useHostApi } from './host-api.context';\nimport type { IBreadcrumbItem } from './host-api.types';\n\nexport type IRPageCtx = {\n  pathname: string;\n  params: Record<string, string | undefined>;\n};\n\nexport type IRTitle = string | null | ((ctx: IRPageCtx) => string | null);\n\nexport type IRBreadcrumb =\n  | IBreadcrumbItem\n  | ((ctx: IRPageCtx) => IBreadcrumbItem | null | undefined);\n\nexport type IRPageProps = {\n  title: IRTitle;\n  breadcrumbs: IRBreadcrumb[] | ((ctx: IRPageCtx) => IRBreadcrumb[]);\n  clearOnUnmount?: boolean;\n  children: React.ReactNode;\n};\n\nfunction resolveTitle(title: IRTitle, ctx: IRPageCtx): string | null {\n  return typeof title === 'function' ? title(ctx) : title;\n}\n\nfunction resolveBreadcrumbs(\n  crumbs: IRPageProps['breadcrumbs'],\n  ctx: IRPageCtx\n): IBreadcrumbItem[] {\n  const list = typeof crumbs === 'function' ? crumbs(ctx) : crumbs;\n\n  const out: IBreadcrumbItem[] = [];\n  for (const c of list) {\n    const resolved = typeof c === 'function' ? c(ctx) : c;\n    if (!resolved) continue;\n    if (resolved.label) out.push({ label: resolved.label, url: resolved.url });\n  }\n  return out;\n}\n\nexport function IRPage(props: IRPageProps) {\n  const hostApi = useHostApi();\n  const loc = useLocation();\n  const params = useParams();\n\n  const ctx = useMemo<IRPageCtx>(\n    () => ({\n      pathname: loc.pathname,\n      params: params as Record<string, string | undefined>,\n    }),\n    [loc.pathname, params]\n  );\n\n  useEffect(() => {\n    const title = resolveTitle(props.title, ctx);\n    const crumbs = resolveBreadcrumbs(props.breadcrumbs, ctx);\n\n    hostApi.setTitle(title);\n    hostApi.setBreadcrumbs(crumbs.length ? crumbs : null);\n    // IMPORTANT: include ctx.pathname so it updates on route change\n  }, [hostApi, ctx.pathname]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!props.clearOnUnmount) return;\n    return () => {\n      hostApi.setTitle(null);\n      hostApi.setBreadcrumbs(null);\n    };\n  }, [hostApi, props.clearOnUnmount]);\n\n  return <>{props.children}</>;\n}\n","// section.tsx\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nexport type ISectionTabBadge =\n  | boolean\n  | ''\n  | number\n  | string\n  | null\n  | undefined;\n\nexport type ISectionTabsHeight =\n  | 'wrap'\n  | 'auto'\n  | number\n  | string\n  | null\n  | undefined;\n\nfunction isTruthyAttr(v: any): boolean {\n  if (v === null || v === undefined) return false;\n  const s = String(v).trim().toLowerCase();\n  if (s === 'false' || s === '0' || s === 'null' || s === 'undefined')\n    return false;\n  return true;\n}\n\nfunction parseBadge(v: any): { enabled: boolean; value: number | null } {\n  if (!isTruthyAttr(v)) return { enabled: false, value: null };\n\n  const s = String(v).trim();\n  if (s === '' || s.toLowerCase() === 'true')\n    return { enabled: true, value: null };\n\n  const n = Number(s);\n  if (Number.isFinite(n) && Number.isInteger(n) && n >= 0)\n    return { enabled: true, value: n };\n\n  return { enabled: true, value: null };\n}\n\nfunction parseTabsHeight(v: any): number | null {\n  // null => wrap (default)\n  if (v === null || v === undefined) return null;\n\n  const s = String(v).trim().toLowerCase();\n  if (s === '' || s === 'wrap' || s === 'auto') return null;\n\n  // allow \"300\", \"300px\"\n  if (s.endsWith('px')) {\n    const n = Number(s.slice(0, -2).trim());\n    return Number.isFinite(n) && n > 0 ? n : null;\n  }\n\n  const n = Number(s);\n  return Number.isFinite(n) && n > 0 ? n : null;\n}\n\n// -----------------------------\n// Simple wrappers (preserve tags)\n// -----------------------------\n\nexport function ISection(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-section {...props} />;\n}\n\nexport function ISectionHeader(props: React.HTMLAttributes<HTMLElement>) {\n  // Angular wraps with <h4></h4>\n  return (\n    <i-section-header {...props}>\n      <h4>{props.children}</h4>\n    </i-section-header>\n  );\n}\n\nexport function ISectionSubHeader(props: React.HTMLAttributes<HTMLElement>) {\n  // Angular wraps with <h6></h6>\n  return (\n    <i-section-sub-header {...props}>\n      <h6>{props.children}</h6>\n    </i-section-sub-header>\n  );\n}\n\nexport function ISectionFilter(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-section-filter {...props} />;\n}\n\nexport function ISectionBody(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-section-body {...props} />;\n}\n\nexport function ISectionFooter(props: React.HTMLAttributes<HTMLElement>) {\n  return <i-section-footer {...props} />;\n}\n\n// -----------------------------\n// Tabs building blocks\n// -----------------------------\n\nexport type ISectionTabHeaderProps = { children?: React.ReactNode };\nexport function ISectionTabHeader(props: ISectionTabHeaderProps) {\n  // marker component only (like Angular template)\n  return <>{props.children}</>;\n}\nISectionTabHeader.displayName = 'ISectionTabHeader';\n\nexport type ISectionTabContentProps = { children?: React.ReactNode };\nexport function ISectionTabContent(props: ISectionTabContentProps) {\n  // marker component only (like Angular template)\n  return <>{props.children}</>;\n}\nISectionTabContent.displayName = 'ISectionTabContent';\n\nexport type ISectionTabProps = {\n  title?: string;\n  opened?: boolean;\n  badge?: ISectionTabBadge;\n  children?: React.ReactNode;\n\n  /**\n   * Optional: direct header/content (instead of using <ISectionTabHeader/> / <ISectionTabContent/>)\n   */\n  header?: React.ReactNode;\n  content?: React.ReactNode;\n};\n\nexport function ISectionTab(_props: ISectionTabProps) {\n  // marker component only; ISectionTabs will read it\n  return null;\n}\nISectionTab.displayName = 'ISectionTab';\n\ntype ResolvedTab = {\n  key: React.Key;\n  title: string;\n  opened: boolean;\n  badgeEnabled: boolean;\n  badgeValue: number | null;\n  headerNode: React.ReactNode;\n  contentNode: React.ReactNode;\n};\n\nfunction isElementOfType<P>(\n  el: any,\n  comp: React.JSXElementConstructor<P> | string\n): el is React.ReactElement<P> {\n  return React.isValidElement(el) && el.type === comp;\n}\n\nfunction resolveTab(\n  tabEl: React.ReactElement<ISectionTabProps>,\n  index: number\n): ResolvedTab {\n  const props = tabEl.props;\n  const title = props.title ?? '';\n  const opened = !!props.opened;\n\n  const parsedBadge = parseBadge(props.badge);\n  const badgeEnabled = parsedBadge.enabled;\n  const badgeValue = parsedBadge.value;\n\n  // Default header (Angular defaultHeaderTpl)\n  const defaultHeader = (\n    <>\n      <span className=\"i-section-tab-title\">{title}</span>\n      {badgeEnabled ? (\n        <span\n          className={[\n            'i-section-tab-badge',\n            badgeValue !== null ? 'has-number' : null,\n          ]\n            .filter(Boolean)\n            .join(' ')}>\n          {badgeValue !== null ? (\n            <span className=\"i-section-tab-badge-number\">{badgeValue}</span>\n          ) : null}\n        </span>\n      ) : null}\n    </>\n  );\n\n  // Default content (Angular defaultContentTpl)\n  const defaultContent = <>{props.children}</>;\n\n  // Support both \"marker children\" and direct props.header/props.content\n  let headerNode: React.ReactNode = props.header ?? defaultHeader;\n  let contentNode: React.ReactNode = props.content ?? defaultContent;\n\n  // If children include <ISectionTabHeader/> or <ISectionTabContent/>, use those\n  if (props.children) {\n    const childrenArr = React.Children.toArray(props.children);\n\n    const headerMarker = childrenArr.find((c) =>\n      isElementOfType<ISectionTabHeaderProps>(c, ISectionTabHeader)\n    ) as React.ReactElement<ISectionTabHeaderProps> | undefined;\n\n    const contentMarker = childrenArr.find((c) =>\n      isElementOfType<ISectionTabContentProps>(c, ISectionTabContent)\n    ) as React.ReactElement<ISectionTabContentProps> | undefined;\n\n    if (headerMarker) {\n      headerNode = headerMarker.props.children ?? null;\n    }\n\n    if (contentMarker) {\n      contentNode = contentMarker.props.children ?? null;\n    }\n  }\n\n  return {\n    key: tabEl.key ?? `tab-${index}`,\n    title,\n    opened,\n    badgeEnabled,\n    badgeValue,\n    headerNode,\n    contentNode,\n  };\n}\n\n// -----------------------------\n// ISectionTabs\n// -----------------------------\n\nexport type ISectionTabsProps = React.HTMLAttributes<HTMLElement> & {\n  selectedIndex?: number | null;\n  onSelectedIndexChange?: (index: number) => void;\n\n  /**\n   * height:\n   * - \"wrap\" / \"auto\" / null => wrap (default)\n   * - 300 / \"300\" / \"300px\" => fixed px height + internal scroll\n   */\n  height?: ISectionTabsHeight;\n\n  children?: React.ReactNode; // expects ISectionTab[]\n};\n\nexport function ISectionTabs(props: ISectionTabsProps) {\n  const {\n    selectedIndex = null,\n    onSelectedIndexChange,\n    height,\n    children,\n    ...rest\n  } = props;\n\n  const tabs = useMemo(() => {\n    const arr = React.Children.toArray(children).filter((c) =>\n      isElementOfType(c, ISectionTab)\n    ) as React.ReactElement<ISectionTabProps>[];\n\n    return arr.map((t, i) => resolveTab(t, i));\n  }, [children]);\n\n  const isControlled = selectedIndex !== null && selectedIndex !== undefined;\n\n  const initialIndex = useMemo(() => {\n    if (\n      isControlled &&\n      Number.isInteger(selectedIndex) &&\n      (selectedIndex as number) >= 0 &&\n      (selectedIndex as number) < tabs.length\n    ) {\n      return selectedIndex as number;\n    }\n\n    const openedIndex = tabs.findIndex((t) => t.opened);\n    return openedIndex >= 0 ? openedIndex : 0;\n  }, [isControlled, selectedIndex, tabs]);\n\n  const [uncontrolledIndex, setUncontrolledIndex] =\n    useState<number>(initialIndex);\n\n  // Keep uncontrolled index valid when tabs change\n  useEffect(() => {\n    if (isControlled) return;\n\n    setUncontrolledIndex((prev) => {\n      if (prev >= 0 && prev < tabs.length) return prev;\n      return initialIndex;\n    });\n  }, [tabs.length, initialIndex, isControlled]);\n\n  const activeIndexRaw = isControlled\n    ? (selectedIndex as number)\n    : uncontrolledIndex;\n\n  //  guard: keep active index in range (especially for controlled usage)\n  const activeIndex =\n    Number.isInteger(activeIndexRaw) &&\n    activeIndexRaw >= 0 &&\n    activeIndexRaw < tabs.length\n      ? activeIndexRaw\n      : tabs.length\n        ? 0\n        : -1;\n\n  const activeTab = activeIndex >= 0 ? (tabs[activeIndex] ?? null) : null;\n\n  const contentHeightPx = parseTabsHeight(height);\n  const isFixedHeight = contentHeightPx !== null;\n\n  const activate = useCallback(\n    (idx: number) => {\n      if (!Number.isInteger(idx) || idx < 0 || idx >= tabs.length) return;\n\n      if (!isControlled) setUncontrolledIndex(idx);\n      onSelectedIndexChange?.(idx);\n    },\n    [tabs.length, isControlled, onSelectedIndexChange]\n  );\n\n  return (\n    <i-section-tabs {...rest}>\n      <div className=\"i-section-tabs-headers\" role=\"tablist\">\n        {tabs.map((tab, idx) => {\n          const isActive = idx === activeIndex;\n\n          return (\n            <button\n              key={tab.key}\n              className={['i-section-tabs-header', isActive ? 'active' : null]\n                .filter(Boolean)\n                .join(' ')}\n              role=\"tab\"\n              type=\"button\"\n              aria-selected={isActive}\n              tabIndex={isActive ? 0 : -1}\n              onClick={() => activate(idx)}>\n              {tab.headerNode}\n            </button>\n          );\n        })}\n      </div>\n\n      <div\n        className={[\n          'i-section-tabs-content',\n          isFixedHeight ? 'scroll' : null,\n          isFixedHeight ? 'scroll-y' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        style={isFixedHeight ? { height: `${contentHeightPx}px` } : undefined}>\n        {activeTab ? activeTab.contentNode : null}\n      </div>\n    </i-section-tabs>\n  );\n}\n"]}